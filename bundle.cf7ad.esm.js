!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(e){return t[e]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s="bnG5")}({"+Ltg":function(t){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(e.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},"+qBS":function(){},"9+mG":function(t,e,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}function c(t,e,n){return(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach((function(e){c(t,e,n[e])}))}return t}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}function v(){for(var t;t=rt.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(b),t.__H.__h.forEach(x),t.__H.__h=[]}catch(e){t.__H.__h=[],nt.options.__e(e,t.__v)}}function y(t){var e,n=function(){clearTimeout(r),lt&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);lt&&(e=requestAnimationFrame(n))}function b(t){var e=J,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),J=e}function x(t){var e=J;t.__c=t.__(),J=e}function w(t,e){for(var n in e)t[n]=e[n];return t}function k(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function M(t){this.props=t}function S(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),t.__c.__H=null),null!=(t=w({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return S(t,e,n)}))),t}function A(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return A(t,e,n)})),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function T(){this.__u=0,this.t=null,this.__b=null}function E(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function C(){this.u=null,this.o=null}function O(){}function P(){return this.cancelBubble}function j(){return this.defaultPrevented}function N(t){return t&&(t.base||1===t.nodeType&&t)||null}function I(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){return t.node.sortableInfo.index-e.node.sortableInfo.index}function D(t,e){return Object.keys(t).reduce((function(n,r){return-1===e.indexOf(r)&&(n[r]=t[r]),n}),{})}function L(t,e){Object.keys(e).forEach((function(n){t.style[n]=e[n]}))}function q(t,e){t.style["".concat(jt,"Transform")]=null==e?"":"translate3d(".concat(e.x,"px,").concat(e.y,"px,0)")}function V(t,e){t.style["".concat(jt,"TransitionDuration")]=null==e?"":"".concat(e,"ms")}function z(t,e){for(;t;){if(e(t))return t;t=t.parentNode}return null}function U(t,e,n){return Math.max(t,Math.min(n,e))}function F(t){return"px"===t.substr(-2)?parseFloat(t):0}function B(t,e){var n=e.displayName||e.name;return n?"".concat(t,"(").concat(n,")"):t}function H(t,e){var n=t.getBoundingClientRect();return{top:n.top+e.top,left:n.left+e.left}}function W(t){return t.touches&&t.touches.length?{x:t.touches[0].pageX,y:t.touches[0].pageY}:t.changedTouches&&t.changedTouches.length?{x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY}:{x:t.pageX,y:t.pageY}}function X(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(t){var r={left:n.left+t.offsetLeft,top:n.top+t.offsetTop};return t.parentNode===e?r:X(t.parentNode,e,r)}}function $(t){var e=t.lockOffset,n=t.width,r=t.height,i=e,o=e,a="px";if("string"==typeof e){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);Tt()(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',e),i=parseFloat(e),o=parseFloat(e),a=s[1]}return Tt()(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",e),"%"===a&&(i=i*n/100,o=o*r/100),{x:i,y:o}}function Y(t){return t instanceof HTMLElement?function(t){var e=window.getComputedStyle(t),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(t){return n.test(e[t])}))}(t)?t:Y(t.parentNode):null}function G(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=e=function(e){function n(){for(var t,e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return c(p(p(e=d(this,(t=m(n)).call.apply(t,[this].concat(i))))),"wrappedInstance",Object(nt.createRef)()),e}return g(n,e),f(n,[{key:"componentDidMount",value:function(){N(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return Tt()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var e=i.withRef?this.wrappedInstance:null;return Object(nt.createElement)(t,r({ref:e},this.props))}}]),n}(nt.Component),c(e,"displayName",B("sortableHandle",t)),n}function K(t){return null!=t.sortableHandle}function Q(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=e=function(e){function n(t){var e;c(p(p(e=d(this,m(n).call(this,t)))),"state",{}),c(p(p(e)),"handleStart",(function(t){var n=e.props,r=n.distance;if(2!==t.button&&!(0,n.shouldCancelStart)(t)){e.touched=!0,e.position=W(t);var i=z(t.target,(function(t){return null!=t.sortableInfo}));if(i&&i.sortableInfo&&e.nodeIsChild(i)&&!e.state.sorting){var o=i.sortableInfo,a=o.index,s=o.collection;if(o.disabled)return;if(e.props.useDragHandle&&!z(t.target,K))return;e.manager.active={collection:s,index:a},function(t){return t.touches&&t.touches.length||t.changedTouches&&t.changedTouches.length}(t)||t.target.tagName!==Vt.Anchor||t.preventDefault(),r||(0===e.props.pressDelay?e.handlePress(t):e.pressTimer=setTimeout((function(){return e.handlePress(t)}),e.props.pressDelay))}}})),c(p(p(e)),"nodeIsChild",(function(t){return t.sortableInfo.manager===e.manager})),c(p(p(e)),"handleMove",(function(t){var n=e.props,r=n.distance,i=n.pressThreshold;if(!e.state.sorting&&e.touched&&!e._awaitingUpdateBeforeSortStart){var o=W(t),a={x:e.position.x-o.x,y:e.position.y-o.y},s=Math.abs(a.x)+Math.abs(a.y);e.delta=a,r||i&&!(s>=i)?r&&s>=r&&e.manager.isActive()&&e.handlePress(t):(clearTimeout(e.cancelTimer),e.cancelTimer=setTimeout(e.cancel,0))}})),c(p(p(e)),"handleEnd",(function(){e.touched=!1,e.cancel()})),c(p(p(e)),"cancel",(function(){e.state.sorting||(e.props.distance||clearTimeout(e.pressTimer),e.manager.active=null)})),c(p(p(e)),"handlePress",(function(t){try{var n=e.manager.getActive(),r=function(){if(n){var r=function(){var n,r,i,c,_,g=p.sortableInfo.index,v={bottom:F((n=window.getComputedStyle(p)).marginBottom),left:F(n.marginLeft),right:F(n.marginRight),top:F(n.marginTop)},y=function(t){var e=window.getComputedStyle(t);return"grid"===e.display?{x:F(e.gridColumnGap),y:F(e.gridRowGap)}:{x:0,y:0}}(e.container),b=e.scrollContainer.getBoundingClientRect(),x=a({index:g,node:p,collection:d});if(e.node=p,e.margin=v,e.gridGap=y,e.width=x.width,e.height=x.height,e.marginOffset={x:e.margin.left+e.margin.right+e.gridGap.x,y:Math.max(e.margin.top,e.margin.bottom,e.gridGap.y)},e.boundingClientRect=p.getBoundingClientRect(),e.containerBoundingRect=b,e.index=g,e.newIndex=g,e.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},e.offsetEdge=X(p,e.container),e.initialOffset=W(m?l({},t,{pageX:e.boundingClientRect.left,pageY:e.boundingClientRect.top}):t),e.initialScroll={left:e.scrollContainer.scrollLeft,top:e.scrollContainer.scrollTop},e.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},e.helper=e.helperContainer.appendChild((c=(r=p).querySelectorAll(i="input, textarea, select, canvas, [contenteditable]"),I((_=r.cloneNode(!0)).querySelectorAll(i)).forEach((function(t,e){"file"!==t.type&&(t.value=c[e].value),"radio"===t.type&&t.name&&(t.name="__sortableClone__".concat(t.name)),t.tagName===Vt.Canvas&&c[e].width>0&&c[e].height>0&&t.getContext("2d").drawImage(c[e],0,0)})),_)),L(e.helper,{boxSizing:"border-box",height:"".concat(e.height,"px"),left:"".concat(e.boundingClientRect.left-v.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(e.boundingClientRect.top-v.top,"px"),width:"".concat(e.width,"px")}),m&&e.helper.focus(),u&&(e.sortableGhost=p,L(p,{opacity:0,visibility:"hidden"})),e.minTranslate={},e.maxTranslate={},m){var w=f?{top:0,left:0,width:e.contentWindow.innerWidth,height:e.contentWindow.innerHeight}:e.containerBoundingRect,k=w.top,M=w.left,S=k+w.height,A=M+w.width;e.axis.x&&(e.minTranslate.x=M-e.boundingClientRect.left,e.maxTranslate.x=A-(e.boundingClientRect.left+e.width)),e.axis.y&&(e.minTranslate.y=k-e.boundingClientRect.top,e.maxTranslate.y=S-(e.boundingClientRect.top+e.height))}else e.axis.x&&(e.minTranslate.x=(f?0:b.left)-e.boundingClientRect.left-e.width/2,e.maxTranslate.x=(f?e.contentWindow.innerWidth:b.left+b.width)-e.boundingClientRect.left-e.width/2),e.axis.y&&(e.minTranslate.y=(f?0:b.top)-e.boundingClientRect.top-e.height/2,e.maxTranslate.y=(f?e.contentWindow.innerHeight:b.top+b.height)-e.boundingClientRect.top-e.height/2);s&&s.split(" ").forEach((function(t){return e.helper.classList.add(t)})),e.listenerNode=t.touches?t.target:e.contentWindow,m?(e.listenerNode.addEventListener("wheel",e.handleKeyEnd,!0),e.listenerNode.addEventListener("mousedown",e.handleKeyEnd,!0),e.listenerNode.addEventListener("keydown",e.handleKeyDown)):(Pt.move.forEach((function(t){return e.listenerNode.addEventListener(t,e.handleSortMove,!1)})),Pt.end.forEach((function(t){return e.listenerNode.addEventListener(t,e.handleSortEnd,!1)}))),e.setState({sorting:!0,sortingIndex:g}),h&&h({node:p,index:g,collection:d,isKeySorting:m,nodes:e.manager.getOrderedRefs(),helper:e.helper},t),m&&e.keyMove(0)},i=e.props,o=i.axis,a=i.getHelperDimensions,s=i.helperClass,u=i.hideSortableGhost,c=i.updateBeforeSortStart,h=i.onSortStart,f=i.useWindowAsScrollContainer,p=n.node,d=n.collection,m=e.manager.isKeySorting,_=function(){if("function"==typeof c){e._awaitingUpdateBeforeSortStart=!0;var n=function(t,e){try{var n=t()}catch(t){return e(!0,t)}return n&&n.then?n.then(e.bind(null,!1),e.bind(null,!0)):e(!1,value)}((function(){return Promise.resolve(c({collection:d,index:p.sortableInfo.index,node:p,isKeySorting:m},t)).then((function(){}))}),(function(t,n){if(e._awaitingUpdateBeforeSortStart=!1,t)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return _&&_.then?_.then(r):r()}}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(t){return Promise.reject(t)}})),c(p(p(e)),"handleSortMove",(function(t){var n=e.props.onSortMove;"function"==typeof t.preventDefault&&t.cancelable&&t.preventDefault(),e.updateHelperPosition(t),e.animateNodes(),e.autoscroll(),n&&n(t)})),c(p(p(e)),"handleSortEnd",(function(t){var n=e.props,r=n.hideSortableGhost,i=n.onSortEnd,o=e.manager,a=o.active.collection,s=o.isKeySorting,u=e.manager.getOrderedRefs();e.listenerNode&&(s?(e.listenerNode.removeEventListener("wheel",e.handleKeyEnd,!0),e.listenerNode.removeEventListener("mousedown",e.handleKeyEnd,!0),e.listenerNode.removeEventListener("keydown",e.handleKeyDown)):(Pt.move.forEach((function(t){return e.listenerNode.removeEventListener(t,e.handleSortMove)})),Pt.end.forEach((function(t){return e.listenerNode.removeEventListener(t,e.handleSortEnd)})))),e.helper.parentNode.removeChild(e.helper),r&&e.sortableGhost&&L(e.sortableGhost,{opacity:"",visibility:""});for(var c=0,l=u.length;c<l;c++){var h=u[c],f=h.node;h.edgeOffset=null,h.boundingClientRect=null,q(f,null),V(f,null),h.translate=null}e.autoScroller.clear(),e.manager.active=null,e.manager.isKeySorting=!1,e.setState({sorting:!1,sortingIndex:null}),"function"==typeof i&&i({collection:a,newIndex:e.newIndex,oldIndex:e.index,isKeySorting:s,nodes:u},t),e.touched=!1})),c(p(p(e)),"autoscroll",(function(){var t=e.manager.isKeySorting;if(e.props.disableAutoscroll)e.autoScroller.clear();else{if(t){var n=l({},e.translate),r=0,i=0;return e.axis.x&&(n.x=Math.min(e.maxTranslate.x,Math.max(e.minTranslate.x,e.translate.x)),r=e.translate.x-n.x),e.axis.y&&(n.y=Math.min(e.maxTranslate.y,Math.max(e.minTranslate.y,e.translate.y)),i=e.translate.y-n.y),e.translate=n,q(e.helper,e.translate),e.scrollContainer.scrollLeft+=r,void(e.scrollContainer.scrollTop+=i)}e.autoScroller.update({height:e.height,maxTranslate:e.maxTranslate,minTranslate:e.minTranslate,translate:e.translate,width:e.width})}})),c(p(p(e)),"onAutoScroll",(function(t){e.translate.x+=t.left,e.translate.y+=t.top,e.animateNodes()})),c(p(p(e)),"handleKeyDown",(function(t){var n=t.keyCode,r=e.props,i=r.shouldCancelStart,o=r.keyCodes,a=l({},Ft,void 0===o?{}:o);e.manager.active&&!e.manager.isKeySorting||!(e.manager.active||a.lift.includes(n)&&!i(t)&&e.isValidSortingTarget(t))||(t.stopPropagation(),t.preventDefault(),a.lift.includes(n)&&!e.manager.active?e.keyLift(t):a.drop.includes(n)&&e.manager.active?e.keyDrop(t):a.cancel.includes(n)?(e.newIndex=e.manager.active.index,e.keyDrop(t)):a.up.includes(n)?e.keyMove(-1):a.down.includes(n)&&e.keyMove(1))})),c(p(p(e)),"keyLift",(function(t){var n=t.target,r=z(n,(function(t){return null!=t.sortableInfo})).sortableInfo,i=r.index,o=r.collection;e.initialFocusedNode=n,e.manager.isKeySorting=!0,e.manager.active={index:i,collection:o},e.handlePress(t)})),c(p(p(e)),"keyMove",(function(t){var n=e.manager.getOrderedRefs(),r=e.newIndex+t,i=e.newIndex;if(!(r<0||r>n[n.length-1].node.sortableInfo.index)){e.prevIndex=i,e.newIndex=r;var o=function(t,e,n){return t<n&&t>e?t-1:t>n&&t<e?t+1:t}(e.newIndex,e.prevIndex,e.index),a=n.find((function(t){return t.node.sortableInfo.index===o})),s=a.node,u=e.containerScrollDelta,c=a.boundingClientRect||H(s,u),l=a.translate||{x:0,y:0},h=i<r;e.handleSortMove({pageX:c.left+l.x-u.left+(h&&e.axis.x?s.offsetWidth-e.width:0),pageY:c.top+l.y-u.top+(h&&e.axis.y?s.offsetHeight-e.height:0),ignoreTransition:0===t})}})),c(p(p(e)),"keyDrop",(function(t){e.handleSortEnd(t),e.initialFocusedNode&&e.initialFocusedNode.focus()})),c(p(p(e)),"handleKeyEnd",(function(t){e.manager.active&&e.keyDrop(t)})),c(p(p(e)),"isValidSortingTarget",(function(t){var n=e.props.useDragHandle,r=t.target,i=z(r,(function(t){return null!=t.sortableInfo}));return i&&i.sortableInfo&&!i.sortableInfo.disabled&&(n?K(r):r.sortableInfo)}));var r=new Ot;return function(t){Tt()(!(t.distance&&t.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}(t),e.manager=r,e.wrappedInstance=Object(nt.createRef)(),e.sortableContextValue={manager:r},e.events={end:e.handleEnd,move:e.handleMove,start:e.handleStart},e}return g(n,e),f(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){t.container=n,t.document=t.container.ownerDocument||document;var r=t.props.contentWindow||t.document.defaultView||window;t.contentWindow="function"==typeof r?r():r,t.scrollContainer=e?t.document.scrollingElement||t.document.documentElement:Y(t.container)||t.container,t.autoScroller=new zt(t.scrollContainer,t.onAutoScroll),Object.keys(t.events).forEach((function(e){return Pt[e].forEach((function(n){return t.container.addEventListener(n,t.events[e],!1)}))})),t.container.addEventListener("keydown",t.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var t=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(e){return Pt[e].forEach((function(n){return t.container.removeEventListener(n,t.events[e])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(t){var e=this.props,n=e.lockAxis,r=e.lockOffset,i=e.lockToContainerEdges,o=e.keyboardSortingTransitionDuration,s=void 0===o?e.transitionDuration:o,u=this.manager.isKeySorting,c=t.ignoreTransition,l=W(t),h={x:l.x-this.initialOffset.x,y:l.y-this.initialOffset.y};if(h.y-=window.pageYOffset-this.initialWindowScroll.top,h.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=h,i){var f=function(t){var e=t.height,n=t.width,r=t.lockOffset,i=Array.isArray(r)?r:[r,r];Tt()(2===i.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var o=a(i,2),s=o[1];return[$({height:e,lockOffset:o[0],width:n}),$({height:e,lockOffset:s,width:n})]}({height:this.height,lockOffset:r,width:this.width}),p=a(f,2),d=p[0],m=p[1],_={x:this.width/2-d.x,y:this.height/2-d.y},g={x:this.width/2-m.x,y:this.height/2-m.y};h.x=U(this.minTranslate.x+_.x,this.maxTranslate.x-g.x,h.x),h.y=U(this.minTranslate.y+_.y,this.maxTranslate.y-g.y,h.y)}"x"===n?h.y=0:"y"===n&&(h.x=0),u&&s&&!c&&V(this.helper,s),q(this.helper,h)}},{key:"animateNodes",value:function(){var t=this.props,e=t.transitionDuration,n=t.hideSortableGhost,r=t.onSortOver,i=this.containerScrollDelta,o=this.windowScrollDelta,a=this.manager.getOrderedRefs(),s=this.offsetEdge.left+this.translate.x+i.left,u=this.offsetEdge.top+this.translate.y+i.top,c=this.manager.isKeySorting,l=this.newIndex;this.newIndex=null;for(var h=0,f=a.length;h<f;h++){var p=a[h].node,d=p.sortableInfo.index,m=p.offsetWidth,_=p.offsetHeight,g={height:this.height>_?_/2:this.height/2,width:this.width>m?m/2:this.width/2},v=c&&d>this.index&&d<=l,y=c&&d<this.index&&d>=l,b={x:0,y:0},x=a[h].edgeOffset;x||(x=X(p,this.container),a[h].edgeOffset=x,c&&(a[h].boundingClientRect=H(p,i)));var w=h<a.length-1&&a[h+1],k=h>0&&a[h-1];w&&!w.edgeOffset&&(w.edgeOffset=X(w.node,this.container),c&&(w.boundingClientRect=H(w.node,i))),d!==this.index?(e&&V(p,e),this.axis.x?this.axis.y?y||d<this.index&&(s+o.left-g.width<=x.left&&u+o.top<=x.top+g.height||u+o.top+g.height<=x.top)?(b.x=this.width+this.marginOffset.x,x.left+b.x>this.containerBoundingRect.width-g.width&&w&&(b.x=w.edgeOffset.left-x.left,b.y=w.edgeOffset.top-x.top),null===this.newIndex&&(this.newIndex=d)):(v||d>this.index&&(s+o.left+g.width>=x.left&&u+o.top+g.height>=x.top||u+o.top+g.height>=x.top+_))&&(b.x=-(this.width+this.marginOffset.x),x.left+b.x<this.containerBoundingRect.left+g.width&&k&&(b.x=k.edgeOffset.left-x.left,b.y=k.edgeOffset.top-x.top),this.newIndex=d):v||d>this.index&&s+o.left+g.width>=x.left?(b.x=-(this.width+this.marginOffset.x),this.newIndex=d):(y||d<this.index&&s+o.left<=x.left+g.width)&&(b.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=d)):this.axis.y&&(v||d>this.index&&u+o.top+g.height>=x.top?(b.y=-(this.height+this.marginOffset.y),this.newIndex=d):(y||d<this.index&&u+o.top<=x.top+g.height)&&(b.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=d))),q(p,b),a[h].translate=b):n&&(this.sortableGhost=p,L(p,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),c&&(this.newIndex=l);var M=c?this.prevIndex:l;r&&this.newIndex!==M&&r({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:M,isKeySorting:c,nodes:a,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return Tt()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var t=this.props.getContainer;return"function"!=typeof t?N(this):t(i.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var e=i.withRef?this.wrappedInstance:null;return Object(nt.createElement)(Wt.Provider,{value:this.sortableContextValue},Object(nt.createElement)(t,r({ref:e},D(this.props,Ht))))}},{key:"helperContainer",get:function(){var t=this.props.helperContainer;return"function"==typeof t?t():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(nt.Component),c(e,"displayName",B("sortableList",t)),c(e,"defaultProps",Bt),c(e,"propTypes",Ut),n}function Z(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=e=function(e){function n(){for(var t,e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return c(p(p(e=d(this,(t=m(n)).call.apply(t,[this].concat(i))))),"wrappedInstance",Object(nt.createRef)()),e}return g(n,e),f(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(t){this.node&&(t.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),t.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),t.collection!==this.props.collection&&(this.unregister(t.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var t=this.props,e=t.collection,n=t.disabled,r=t.index,i=N(this);i.sortableInfo={collection:e,disabled:n,index:r,manager:this.context.manager},this.node=i,this.ref={node:i},this.context.manager.add(e,this.ref)}},{key:"unregister",value:function(){this.context.manager.remove(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection,this.ref)}},{key:"getWrappedInstance",value:function(){return Tt()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var e=i.withRef?this.wrappedInstance:null;return Object(nt.createElement)(t,r({ref:e},D(this.props,$t)))}}]),n}(nt.Component),c(e,"displayName",B("sortableElement",t)),c(e,"contextType",Wt),c(e,"propTypes",Xt),c(e,"defaultProps",{collection:0}),n}n.d(e,"a",(function(){return Q})),n.d(e,"b",(function(){return Z})),n.d(e,"c",(function(){return G}));var J,tt,et,nt=n("hosL"),rt=[],it=[],ot=nt.options.__b,at=nt.options.__r,st=nt.options.diffed,ut=nt.options.__c,ct=nt.options.unmount;nt.options.__b=function(t){J=null,ot&&ot(t)},nt.options.__r=function(t){at&&at(t),0;var e=(J=t.__c).__H;e&&(tt===J?(e.__h=[],J.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.__V=it,t.__N=t.i=void 0}))):(e.__h.forEach(b),e.__h.forEach(x),e.__h=[])),tt=J},nt.options.diffed=function(t){st&&st(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==rt.push(e)&&et===nt.options.requestAnimationFrame||((et=nt.options.requestAnimationFrame)||y)(v)),e.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.__V!==it&&(t.__=t.__V),t.i=void 0,t.__V=it}))),tt=J=null},nt.options.__c=function(t,e){e.some((function(t){try{t.__h.forEach(b),t.__h=t.__h.filter((function(t){return!t.__||x(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],nt.options.__e(n,t.__v)}})),ut&&ut(t,e)},nt.options.unmount=function(t){ct&&ct(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{b(t)}catch(t){e=t}})),n.__H=void 0,e&&nt.options.__e(e,n.__v))};var lt="function"==typeof requestAnimationFrame;(M.prototype=new nt.Component).isPureReactComponent=!0,M.prototype.shouldComponentUpdate=function(t,e){return k(this.props,t)||k(this.state,e)};var ht=nt.options.__b;nt.options.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),ht&&ht(t)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var ft=nt.options.__e;nt.options.__e=function(t,e,n,r){if(t.then)for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e);ft(t,e,n,r)};var pt=nt.options.unmount;nt.options.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),pt&&pt(t)},(T.prototype=new nt.Component).__c=function(t,e){var n=e.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=E(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__a){var t=r.state.__a;r.__v.__k[0]=A(t,t.__c.__P,t.__c.__O)}var e;for(r.setState({__a:r.__b=null});e=r.t.pop();)e.forceUpdate()}},u=!0===e.__h;r.__u++||u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(a,a)},T.prototype.componentWillUnmount=function(){this.t=[]},T.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=S(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&Object(nt.createElement)(nt.Fragment,null,t.fallback);return i&&(i.__h=null),[Object(nt.createElement)(nt.Fragment,null,e.__a?null:t.children),i]};var dt=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};(C.prototype=new nt.Component).__a=function(t){var e=this,n=E(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),dt(e,t,r)):i()};n?n(o):o()}},C.prototype.render=function(t){this.u=null,this.o=new Map;var e=Object(nt.toChildArray)(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},C.prototype.componentDidUpdate=C.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){dt(t,n,e)}))};var mt="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,_t=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,gt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,vt=/[A-Z0-9]/g,yt="undefined"!=typeof document,bt=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(t)};nt.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(nt.Component.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var xt=nt.options.event;nt.options.event=function(t){return xt&&(t=xt(t)),t.persist=O,t.isPropagationStopped=P,t.isDefaultPrevented=j,t.nativeEvent=t};var wt={enumerable:!1,configurable:!0,get:function(){return this.class}},kt=nt.options.vnode;nt.options.vnode=function(t){"string"==typeof t.type&&function(t){var e=t.props,n=t.type,r={};for(var i in e){var o=e[i];if(!("value"===i&&"defaultValue"in e&&null==o||yt&&"children"===i&&"noscript"===n||"class"===i||"className"===i)){var a=i.toLowerCase();"defaultValue"===i&&"value"in e&&null==e.value?i="value":"download"===i&&!0===o?o="":"ondoubleclick"===a?i="ondblclick":"onchange"!==a||"input"!==n&&"textarea"!==n||bt(e.type)?"onfocus"===a?i="onfocusin":"onblur"===a?i="onfocusout":gt.test(i)?i=a:-1===n.indexOf("-")&&_t.test(i)?i=i.replace(vt,"-$&").toLowerCase():null===o&&(o=void 0):a=i="oninput","oninput"===a&&r[i=a]&&(i="oninputCapture"),r[i]=o}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=Object(nt.toChildArray)(e.children).forEach((function(t){t.props.selected=-1!=r.value.indexOf(t.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=Object(nt.toChildArray)(e.children).forEach((function(t){t.props.selected=r.multiple?-1!=r.defaultValue.indexOf(t.props.value):r.defaultValue==t.props.value}))),e.class&&!e.className?(r.class=e.class,Object.defineProperty(r,"className",wt)):(e.className&&!e.class||e.class&&e.className)&&(r.class=r.className=e.className),t.props=r}(t),t.$$typeof=mt,kt&&kt(t)};var Mt=nt.options.__r;nt.options.__r=function(t){Mt&&Mt(t),t.__c};var St=nt.options.diffed;nt.options.diffed=function(t){St&&St(t);var e=t.props,n=t.__e;null!=n&&"textarea"===t.type&&"value"in e&&e.value!==n.value&&(n.value=null==e.value?"":e.value),null};var At=n("+Ltg"),Tt=n.n(At),Et=n("W0B4"),Ct=n.n(Et),Ot=function(){function t(){c(this,"refs",{})}return f(t,[{key:"add",value:function(t,e){this.refs[t]||(this.refs[t]=[]),this.refs[t].push(e)}},{key:"remove",value:function(t,e){var n=this.getIndex(t,e);-1!==n&&this.refs[t].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var t=this;return this.refs[this.active.collection].find((function(e){return e.node.sortableInfo.index==t.active.index}))}},{key:"getIndex",value:function(t,e){return this.refs[t].indexOf(e)}},{key:"getOrderedRefs",value:function(){return this.refs[arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection].sort(R)}}]),t}(),Pt={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},jt=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var t=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1];return"ms"===e?"ms":e&&e.length?e[0].toUpperCase()+e.substr(1):""}(),Nt=27,It=32,Rt=37,Dt=38,Lt=39,qt=40,Vt={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"},zt=function(){function t(t,e){this.container=t,this.onScrollCallback=e}return f(t,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(t){var e=this,n=t.translate,r=t.minTranslate,i=t.maxTranslate,o=t.width,a=t.height,s={x:0,y:0},u={x:1,y:1},c=10,l=10,h=this.container,f=h.scrollTop,p=h.scrollLeft,d=0===f,m=0===p,_=h.scrollWidth-p-h.clientWidth==0;n.y>=i.y-a/2&&!(h.scrollHeight-f-h.clientHeight==0)?(s.y=1,u.y=l*Math.abs((i.y-a/2-n.y)/a)):n.x>=i.x-o/2&&!_?(s.x=1,u.x=c*Math.abs((i.x-o/2-n.x)/o)):n.y<=r.y+a/2&&!d?(s.y=-1,u.y=l*Math.abs((n.y-a/2-r.y)/a)):n.x<=r.x+o/2&&!m&&(s.x=-1,u.x=c*Math.abs((n.x-o/2-r.x)/o)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===s.x&&0===s.y||(this.interval=setInterval((function(){e.isAutoScrolling=!0;var t={left:u.x*s.x,top:u.y*s.y};e.container.scrollTop+=t.top,e.container.scrollLeft+=t.left,e.onScrollCallback(t)}),5))}}]),t}(),Ut={axis:Ct.a.oneOf(["x","y","xy"]),contentWindow:Ct.a.any,disableAutoscroll:Ct.a.bool,distance:Ct.a.number,getContainer:Ct.a.func,getHelperDimensions:Ct.a.func,helperClass:Ct.a.string,helperContainer:Ct.a.oneOfType([Ct.a.func,"undefined"==typeof HTMLElement?Ct.a.any:Ct.a.instanceOf(HTMLElement)]),hideSortableGhost:Ct.a.bool,keyboardSortingTransitionDuration:Ct.a.number,lockAxis:Ct.a.string,lockOffset:Ct.a.oneOfType([Ct.a.number,Ct.a.string,Ct.a.arrayOf(Ct.a.oneOfType([Ct.a.number,Ct.a.string]))]),lockToContainerEdges:Ct.a.bool,onSortEnd:Ct.a.func,onSortMove:Ct.a.func,onSortOver:Ct.a.func,onSortStart:Ct.a.func,pressDelay:Ct.a.number,pressThreshold:Ct.a.number,keyCodes:Ct.a.shape({lift:Ct.a.arrayOf(Ct.a.number),drop:Ct.a.arrayOf(Ct.a.number),cancel:Ct.a.arrayOf(Ct.a.number),up:Ct.a.arrayOf(Ct.a.number),down:Ct.a.arrayOf(Ct.a.number)}),shouldCancelStart:Ct.a.func,transitionDuration:Ct.a.number,updateBeforeSortStart:Ct.a.func,useDragHandle:Ct.a.bool,useWindowAsScrollContainer:Ct.a.bool},Ft={lift:[It],drop:[It],cancel:[Nt],up:[Dt,Rt],down:[qt,Lt]},Bt={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(t){var e=t.node;return{height:e.offsetHeight,width:e.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:Ft,shouldCancelStart:function(t){return-1!==[Vt.Input,Vt.Textarea,Vt.Select,Vt.Option,Vt.Button].indexOf(t.target.tagName)||!!z(t.target,(function(t){return"true"===t.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},Ht=Object.keys(Ut),Wt=Object(nt.createContext)({manager:{}}),Xt={index:Ct.a.number.isRequired,collection:Ct.a.oneOfType([Ct.a.number,Ct.a.string]),disabled:Ct.a.bool},$t=Object.keys(Xt)},AcDh:function(t,e,n){"use strict";function r(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function i(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function o(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function a(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+o(-e,6):e>9999?"+"+o(e,6):o(e,4))+"-"+o(t.getUTCMonth()+1,2)+"-"+o(t.getUTCDate(),2)+(a?"T"+o(n,2)+":"+o(r,2)+":"+o(i,2)+"."+o(a,3)+"Z":i?"T"+o(n,2)+":"+o(r,2)+":"+o(i,2)+"Z":r||n?"T"+o(n,2)+":"+o(r,2)+"Z":"")}n.d(e,"a",(function(){return l}));var s={},u={},c=function(t){function e(t,e){function n(){if(l)return u;if(f)return f=!1,s;var e,n,r=a;if(34===t.charCodeAt(r)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?l=!0:10===(n=t.charCodeAt(a++))?f=!0:13===n&&(f=!0,10===t.charCodeAt(a)&&++a),t.slice(r+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(n=t.charCodeAt(e=a++)))f=!0;else if(13===n)f=!0,10===t.charCodeAt(a)&&++a;else if(n!==h)continue;return t.slice(r,e)}return l=!0,t.slice(r,o)}var r,i=[],o=t.length,a=0,c=0,l=o<=0,f=!1;for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=n())!==u;){for(var p=[];r!==s&&r!==u;)p.push(r),r=n();e&&null==(p=e(p,c++))||i.push(p)}return i}function n(e,n){return e.map((function(e){return n.map((function(t){return c(e[t])})).join(t)}))}function o(e){return e.map(c).join(t)}function c(t){return null==t?"":t instanceof Date?a(t):l.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var l=new RegExp('["'+t+"\n\r]"),h=t.charCodeAt(0);return{parse:function(t,n){var i,o,a=e(t,(function(t,e){if(i)return i(t,e-1);o=t,i=n?function(t,e){var n=r(t);return function(r,i){return e(n(r),i,t)}}(t,n):r(t)}));return a.columns=o||[],a},parseRows:e,format:function(e,r){return null==r&&(r=i(e)),[r.map(c).join(t)].concat(n(e,r)).join("\n")},formatBody:function(t,e){return null==e&&(e=i(t)),n(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:c}}(","),l=c.parse},E02R:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},MV5A:function(){},NS33:function(t,e,n){"use strict";function r(){}function i(){}var o=n("E02R");i.resetWarningCache=r,t.exports=function(){function t(t,e,n,r,i,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},QfWi:function(t,e,n){"use strict";n.r(e),function(t){function r(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"default",(function(){return a}));n("MV5A");var i=n("yMTT"),o=n("hosL");class a extends o.Component{constructor(){super(),r(this,"changeSelect",(t=>{"view"==t.target.id&&this.setState({value_layout:t.target.value}),"view2"==t.target.id&&this.setState({value_layout_p:t.target.value})})),r(this,"toggleDual",(()=>{let t=!this.state.dual;this.setState(t?{layouts:this.state.layouts_np}:{layouts:this.full_layouts}),this.setState({dual:t})})),this.state={data:[],value_layout_np:"parallel",value_layout_p:"cpc",value_layout:"parallel",layouts:[],layouts_np:[["Parallel","parallel"],["Bush","bush"],["Radial","radial"],["n-Gon","polygon"],["Circular","circular"],["InLine","inline"],["Non-Sequential Generic","nseq-generic"],["Sequential Generic","seq-generic"]],layouts_p:[["Collocated Paired","cpc"],["Shifted Paired","spc"],["Anchored Paired","apc"],["Paired Radial Coordinates","prc"],["Ellipse Paired Coordinates","epc"],["Paired Crown Coordinates","pwc"]],dual:!1},this.full_layouts=this.state.layouts_np.concat(this.state.layouts_p),this.setState({layouts:this.full_layouts})}render(){return t("div",null,t(i.a,{layout:this.state.value_layout,layout2:this.state.value_layout_p,dualview:this.state.dual,hdldual:this.toggleDual}),t("div",{className:"content"},t("select",{id:"view",className:"selector",onChange:this.changeSelect},this.state.layouts.map((e=>t("option",{value:e[1]},e[0])))),t("div",{id:"plot"})),this.state.dual&&t("div",{className:"content"},t("select",{id:"view2",className:"selector2",onChange:this.changeSelect},this.state.layouts_p.slice(0,-1).map((e=>t("option",{value:e[1]},e[0])))),t("div",{id:"plot2"})))}}}.call(this,n("hosL").h)},W0B4:function(t,e,n){t.exports=n("NS33")()},Wltn:function(t,e,n){"use strict";function r(t,e,n){return function(t,e,n){const r=e<0?t.length+e:e;if(r>=0&&r<t.length){const r=n<0?t.length+n:n,[i]=t.splice(e,1);t.splice(r,0,i)}}(t=[...t],e,n),t}n.d(e,"a",(function(){return r}))},bnG5:function(t,e,n){"use strict";function r(t,e){for(var n in e)t[n]=e[n];return t}function i(t){var e=t.parentNode;e&&e.removeChild(t)}function o(t,e,n){var r,i,o,s={};for(o in e)"key"==o?r=e[o]:"ref"==o?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?I.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===s[o]&&(s[o]=t.defaultProps[o]);return a(t,s,r,i,null)}function a(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++D:i};return null==i&&null!=R.vnode&&R.vnode(o),o}function s(){return{current:null}}function u(t){return t.children}function c(t,e){this.props=t,this.context=e}function l(t,e){if(null==e)return t.__?l(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?l(t):null}function h(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return h(t)}}function f(t){(!t.__d&&(t.__d=!0)&&q.push(t)&&!p.__r++||V!==R.debounceRendering)&&((V=R.debounceRendering)||z)(p)}function p(){var t,e,n,i,o,a,s,u;for(q.sort(U);t=q.shift();)t.__d&&(e=q.length,i=void 0,o=void 0,s=(a=(n=t).__v).__e,(u=n.__P)&&(i=[],(o=r({},a)).__v=a.__v+1,k(u,a,o,n.__n,void 0!==u.ownerSVGElement,null!=a.__h?[s]:null,i,null==s?l(a):s,a.__h),M(i,a),a.__e!=s&&h(a)),q.length>e&&q.sort(U));p.__r=0}function d(t,e,n,r,i,o,s,c,h,f){var p,d,_,y,b,x,w,M=r&&r.__k||H,S=M.length;for(n.__k=[],p=0;p<e.length;p++)if(null!=(y=n.__k[p]=null==(y=e[p])||"boolean"==typeof y||"function"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?a(null,y,null,null,y):Array.isArray(y)?a(u,{children:y},null,null,null):y.__b>0?a(y.type,y.props,y.key,y.ref?y.ref:null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(_=M[p])||_&&y.key==_.key&&y.type===_.type)M[p]=void 0;else for(d=0;d<S;d++){if((_=M[d])&&y.key==_.key&&y.type===_.type){M[d]=void 0;break}_=null}k(t,y,_=_||B,i,o,s,c,h,f),b=y.__e,(d=y.ref)&&_.ref!=d&&(w||(w=[]),_.ref&&w.push(_.ref,null,y),w.push(d,y.__c||b,y)),null!=b?(null==x&&(x=b),"function"==typeof y.type&&y.__k===_.__k?y.__d=h=m(y,h,t):h=g(t,y,_,M,b,h),"function"==typeof n.type&&(n.__d=h)):h&&_.__e==h&&h.parentNode!=t&&(h=l(_))}for(n.__e=x,p=S;p--;)null!=M[p]&&("function"==typeof n.type&&null!=M[p].__e&&M[p].__e==n.__d&&(n.__d=v(r).nextSibling),T(M[p],M[p]));if(w)for(p=0;p<w.length;p++)A(w[p],w[++p],w[++p])}function m(t,e,n){for(var r,i=t.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=t,e="function"==typeof r.type?m(r,e,n):g(n,r,r,i,r.__e,e));return e}function _(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){_(t,e)})):e.push(t)),e}function g(t,e,n,r,i,o){var a,s,u;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==n||i!=o||null==i.parentNode)t:if(null==o||o.parentNode!==t)t.appendChild(i),a=null;else{for(s=o,u=0;(s=s.nextSibling)&&u<r.length;u+=1)if(s==i)break t;t.insertBefore(i,o),a=o}return void 0!==a?a:i.nextSibling}function v(t){var e,n,r;if(null==t.type||"string"==typeof t.type)return t.__e;if(t.__k)for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=v(n)))return r;return null}function y(t,e,n){"-"===e[0]?t.setProperty(e,null==n?"":n):t[e]=null==n?"":"number"!=typeof n||W.test(e)?n:n+"px"}function b(t,e,n,r,i){var o;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||y(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||y(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?w:x,o):t.removeEventListener(e,o?w:x,o);else if("dangerouslySetInnerHTML"!==e){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==e&&"height"!==e&&"href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&"-"!==e[4]?t.removeAttribute(e):t.setAttribute(e,n))}}function x(t){return this.l[t.type+!1](R.event?R.event(t):t)}function w(t){return this.l[t.type+!0](R.event?R.event(t):t)}function k(t,e,n,i,o,a,s,l,h){var f,p,m,_,g,v,y,b,x,w,k,M,A,T,C,O=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(h=n.__h,l=e.__e=n.__e,e.__h=null,a=[l]),(f=R.__b)&&f(e);try{t:if("function"==typeof O){if(b=e.props,x=(f=O.contextType)&&i[f.__c],w=f?x?x.props.value:f.__:i,n.__c?y=(p=e.__c=n.__c).__=p.__E:("prototype"in O&&O.prototype.render?e.__c=p=new O(b,w):(e.__c=p=new c(b,w),p.constructor=O,p.render=E),x&&x.sub(p),p.props=b,p.state||(p.state={}),p.context=w,p.__n=i,m=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=O.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=r({},p.__s)),r(p.__s,O.getDerivedStateFromProps(b,p.__s))),_=p.props,g=p.state,p.__v=e,m)null==O.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==O.getDerivedStateFromProps&&b!==_&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(b,w),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(b,p.__s,w)||e.__v===n.__v){for(e.__v!==n.__v&&(p.props=b,p.state=p.__s,p.__d=!1),p.__e=!1,e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),k=0;k<p._sb.length;k++)p.__h.push(p._sb[k]);p._sb=[],p.__h.length&&s.push(p);break t}null!=p.componentWillUpdate&&p.componentWillUpdate(b,p.__s,w),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(_,g,v)}))}if(p.context=w,p.props=b,p.__P=t,M=R.__r,A=0,"prototype"in O&&O.prototype.render){for(p.state=p.__s,p.__d=!1,M&&M(e),f=p.render(p.props,p.state,p.context),T=0;T<p._sb.length;T++)p.__h.push(p._sb[T]);p._sb=[]}else do{p.__d=!1,M&&M(e),f=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++A<25);p.state=p.__s,null!=p.getChildContext&&(i=r(r({},i),p.getChildContext())),m||null==p.getSnapshotBeforeUpdate||(v=p.getSnapshotBeforeUpdate(_,g)),C=null!=f&&f.type===u&&null==f.key?f.props.children:f,d(t,Array.isArray(C)?C:[C],e,n,i,o,a,s,l,h),p.base=e.__e,e.__h=null,p.__h.length&&s.push(p),y&&(p.__E=p.__=null),p.__e=!1}else null==a&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=S(n.__e,e,n,i,o,a,s,h);(f=R.diffed)&&f(e)}catch(t){e.__v=null,(h||null!=a)&&(e.__e=l,e.__h=!!h,a[a.indexOf(l)]=null),R.__e(t,e,n)}}function M(t,e){R.__c&&R.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){R.__e(t,e.__v)}}))}function S(t,e,n,r,o,a,s,u){var c,h,f,p=n.props,m=e.props,_=e.type,g=0;if("svg"===_&&(o=!0),null!=a)for(;g<a.length;g++)if((c=a[g])&&"setAttribute"in c==!!_&&(_?c.localName===_:3===c.nodeType)){t=c,a[g]=null;break}if(null==t){if(null===_)return document.createTextNode(m);t=o?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,m.is&&m),a=null,u=!1}if(null===_)p===m||u&&t.data===m||(t.data=m);else{if(a=a&&I.call(t.childNodes),h=(p=n.props||B).dangerouslySetInnerHTML,f=m.dangerouslySetInnerHTML,!u){if(null!=a)for(p={},g=0;g<t.attributes.length;g++)p[t.attributes[g].name]=t.attributes[g].value;(f||h)&&(f&&(h&&f.__html==h.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(function(t,e,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in e||b(t,o,null,n[o],r);for(o in e)i&&"function"!=typeof e[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===e[o]||b(t,o,e[o],n[o],r)}(t,m,p,o,u),f)e.__k=[];else if(g=e.props.children,d(t,Array.isArray(g)?g:[g],e,n,r,o&&"foreignObject"!==_,a,s,a?a[0]:n.__k&&l(n,0),u),null!=a)for(g=a.length;g--;)null!=a[g]&&i(a[g]);u||("value"in m&&void 0!==(g=m.value)&&(g!==t.value||"progress"===_&&!g||"option"===_&&g!==p.value)&&b(t,"value",g,p.value,!1),"checked"in m&&void 0!==(g=m.checked)&&g!==t.checked&&b(t,"checked",g,p.checked,!1))}return t}function A(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){R.__e(t,n)}}function T(t,e,n){var r,o;if(R.unmount&&R.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||A(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){R.__e(t,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&T(r[o],e,n||"function"!=typeof t.type);n||null==t.__e||i(t.__e),t.__=t.__e=t.__d=void 0}function E(t,e,n){return this.constructor(t,n)}function C(t,e,n){var r,i,a;R.__&&R.__(t,e),i=(r="function"==typeof n)?null:n&&n.__k||e.__k,a=[],k(e,t=(!r&&n||e).__k=o(u,null,[t]),i||B,B,void 0!==e.ownerSVGElement,!r&&n?[n]:i?null:e.firstChild?I.call(e.childNodes):null,a,!r&&n?n:i?i.__e:e.firstChild,r),M(a,t)}function O(t,e){C(t,e,O)}function P(t,e,n){var i,o,s,u=r({},t.props);for(s in e)"key"==s?i=e[s]:"ref"==s?o=e[s]:u[s]=e[s];return arguments.length>2&&(u.children=arguments.length>3?I.call(arguments,2):n),a(t.type,u,i||t.key,o||t.ref,null)}function j(t,e){var n={__c:e="__cC"+F++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some((function(t){t.__e=!0,f(t)}))},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}n.r(e);var N={};n.r(N),n.d(N,"Component",(function(){return c})),n.d(N,"Fragment",(function(){return u})),n.d(N,"cloneElement",(function(){return P})),n.d(N,"createContext",(function(){return j})),n.d(N,"createElement",(function(){return o})),n.d(N,"createRef",(function(){return s})),n.d(N,"h",(function(){return o})),n.d(N,"hydrate",(function(){return O})),n.d(N,"isValidElement",(function(){return L})),n.d(N,"options",(function(){return R})),n.d(N,"render",(function(){return C})),n.d(N,"toChildArray",(function(){return _}));var I,R,D,L,q,V,z,U,F,B={},H=[],W=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;I=H.slice,R={__e:function(t,e,n,r){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(e){t=e}throw t}},D=0,L=function(t){return null!=t&&void 0===t.constructor},c.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=r({},this.state),"function"==typeof t&&(t=t(r({},n),this.props)),t&&r(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),f(this))},c.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),f(this))},c.prototype.render=u,q=[],z="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,U=function(t,e){return t.__v.__b-e.__v.__b},p.__r=0,F=0;const{h:X,render:$,hydrate:Y}=N,G=t=>t&&t.default?t.default:t,K=t=>"/"===t[t.length-1]?t:t+"/";if("serviceWorker"in navigator&&navigator.serviceWorker.register(K(n.p)+"sw-esm.js"),"function"==typeof G(n("QfWi"))){let t=document.getElementById("preact_root")||document.body.firstElementChild,e=()=>{let e=G(n("QfWi")),r={};const i=document.querySelector('[type="__PREACT_CLI_DATA__"]');i&&(r=JSON.parse(decodeURI(i.innerHTML)).preRenderData||r);const o={preRenderData:r};r.url&&K(r.url);$(X(e,{CLI_DATA:o}),document.body,t)};0,e()}},"e/Si":function(module,exports,__webpack_require__){function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_extends.apply(this,arguments)}var n;self,n=function(){return(()=>{"use strict";function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}var __webpack_modules__={951:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>numeric});var numeric=exports;void 0!==__webpack_require__.g&&(__webpack_require__.g.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,e){var n,r,i;for(void 0===e&&(e=15),r=.5,n=new Date;;){for(i=r*=2;i>3;i-=4)t(),t(),t(),t();for(;i>0;)t(),i--;if(new Date-n>e)break}for(i=r;i>3;i-=4)t(),t(),t(),t();for(;i>0;)t(),i--;return 1e3*(3*r-1)/(new Date-n)},numeric._myIndexOf=function(t){var e,n=this.length;for(e=0;e<n;++e)if(this[e]===t)return e;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){function e(t){if(0===t)return"0";if(isNaN(t))return"NaN";if(t<0)return"-"+e(-t);if(isFinite(t)){var n=Math.floor(Math.log(t)/Math.log(10)),r=t/Math.pow(10,n),i=r.toPrecision(numeric.precision);return 10===parseFloat(i)&&(n++,i=(r=1).toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+n.toString()}return"Infinity"}var n=[];return function t(r){var i;if(void 0===r)return n.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof r)return n.push('"'+r+'"'),!1;if("boolean"==typeof r)return n.push(r.toString()),!1;if("number"==typeof r){var o=e(r),a=r.toPrecision(numeric.precision),s=parseFloat(r.toString()).toString(),u=[o,a,s,parseFloat(a).toString(),parseFloat(s).toString()];for(i=1;i<u.length;i++)u[i].length<o.length&&(o=u[i]);return n.push(Array(numeric.precision+8-o.length).join(" ")+o),!1}if(null===r)return n.push("null"),!1;if("function"==typeof r){n.push(r.toString());var c=!1;for(i in r)r.hasOwnProperty(i)&&(n.push(c?",\n":"\n{"),c=!0,n.push(i),n.push(": \n"),t(r[i]));return c&&n.push("}\n"),!0}if(r instanceof Array){if(r.length>numeric.largeArray)return n.push("...Large Array..."),!0;for(c=!1,n.push("["),i=0;i<r.length;i++)i>0&&(n.push(","),c&&n.push("\n ")),c=t(r[i]);return n.push("]"),!0}for(i in n.push("{"),c=!1,r)r.hasOwnProperty(i)&&(c&&n.push(",\n"),c=!0,n.push(i),n.push(": \n"),t(r[i]));return n.push("}"),!0}(t),n.join("")},numeric.parseDate=function(t){return function t(e){if("string"==typeof e)return Date.parse(e.replace(/-/g,"/"));if(!(e instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var n,r=[];for(n=0;n<e.length;n++)r[n]=t(e[n]);return r}(t)},numeric.parseFloat=function(t){return function t(e){if("string"==typeof e)return parseFloat(e);if(!(e instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var n,r=[];for(n=0;n<e.length;n++)r[n]=t(e[n]);return r}(t)},numeric.parseCSV=function(t){var e,n,r,i=t.split("\n"),o=[],a=/(([^'",]*)|('[^']*')|("[^"]*")),/g,s=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,u=0;for(n=0;n<i.length;n++){var c,l=(i[n]+",").match(a);if(l.length>0){for(o[u]=[],e=0;e<l.length;e++)c=(r=l[e]).substr(0,r.length-1),o[u][e]=s.test(c)?parseFloat(c):c;u++}}return o},numeric.toCSV=function(t){var e,n,r,i,o,a=numeric.dim(t);for(r=a[0],o=[],e=0;e<r;e++){for(i=[],n=0;n<r;n++)i[n]=t[e][n].toString();o[e]=i.join(", ")}return o.join("\n")+"\n"},numeric.getURL=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e},numeric.imageURL=function(t){function e(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length);var r,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=-1;for(r=e;r<n;r++)o=o>>>8^i[255&(o^t[r])];return-1^o}var n,r,i,o,a,s,u,c,l,h,f=t[0].length,p=t[0][0].length,d=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,p>>24&255,p>>16&255,p>>8&255,255&p,f>>24&255,f>>16&255,f>>8&255,255&f,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(h=e(d,12,29),d[29]=h>>24&255,d[30]=h>>16&255,d[31]=h>>8&255,d[32]=255&h,n=1,r=0,u=0;u<f;u++){for(d.push(u<f-1?0:1),s=3*p+1+(0===u)>>8&255,d.push(a=3*p+1+(0===u)&255),d.push(s),d.push(255&~a),d.push(255&~s),0===u&&d.push(0),c=0;c<p;c++)for(i=0;i<3;i++)r=(r+(n=(n+(a=(a=t[i][u][c])>255?255:a<0?0:Math.round(a)))%65521))%65521,d.push(a);d.push(0)}return d.push((l=(r<<16)+n)>>24&255),d.push(l>>16&255),d.push(l>>8&255),d.push(255&l),d[33]=(o=d.length-41)>>24&255,d[34]=o>>16&255,d[35]=o>>8&255,d[36]=255&o,h=e(d,37),d.push(h>>24&255),d.push(h>>16&255),d.push(h>>8&255),d.push(255&h),d.push(0),d.push(0),d.push(0),d.push(0),d.push(73),d.push(69),d.push(78),d.push(68),d.push(174),d.push(66),d.push(96),d.push(130),"data:image/png;base64,"+function(t){var e,n,r,i,o,a,s,u=t.length,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";for(e=0;e<u;e+=3)o=((3&(n=t[e]))<<4)+((r=t[e+1])>>4),a=((15&r)<<2)+((i=t[e+2])>>6),s=63&i,e+1>=u?a=s=64:e+2>=u&&(s=64),l+=c.charAt(n>>2)+c.charAt(o)+c.charAt(a)+c.charAt(s);return l}(d)},numeric._dim=function(t){for(var e=[];"object"==typeof t;)e.push(t.length),t=t[0];return e},numeric.dim=function(t){var e;return"object"==typeof t?"object"==typeof(e=t[0])?"object"==typeof e[0]?numeric._dim(t):[t.length,e.length]:[t.length]:[]},numeric.mapreduce=function(t,e){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+e+';\nif(typeof x === "number") { var xi = x; '+t+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+t+";\n    xi = x[i-1];\n    "+t+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+t+"\n}\nreturn accum;")},numeric.mapreduce2=function(t,e){return Function("x","var n = x.length;\nvar i,xi;\n"+e+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+t+";\n}\nreturn accum;")},numeric.same=function t(e,n){var r,i;if(!(e instanceof Array&&n instanceof Array))return!1;if((i=e.length)!==n.length)return!1;for(r=0;r<i;r++)if(e[r]!==n[r]){if("object"!=typeof e[r])return!1;if(!t(e[r],n[r]))return!1}return!0},numeric.rep=function(t,e,n){void 0===n&&(n=0);var r,i=t[n],o=Array(i);if(n===t.length-1){for(r=i-2;r>=0;r-=2)o[r+1]=e,o[r]=e;return-1===r&&(o[0]=e),o}for(r=i-1;r>=0;r--)o[r]=numeric.rep(t,e,n+1);return o},numeric.dotMMsmall=function(t,e){var n,r,i,o,a,s,u,c,l,h,f;for(o=t.length,a=e.length,s=e[0].length,u=Array(o),n=o-1;n>=0;n--){for(c=Array(s),l=t[n],i=s-1;i>=0;i--){for(h=l[a-1]*e[a-1][i],r=a-2;r>=1;r-=2)h+=l[r]*e[r][i]+l[f=r-1]*e[f][i];0===r&&(h+=l[0]*e[0][i]),c[i]=h}u[n]=c}return u},numeric._getCol=function(t,e,n){var r;for(r=t.length-1;r>0;--r)n[r]=t[r][e],n[--r]=t[r][e];0===r&&(n[0]=t[0][e])},numeric.dotMMbig=function(t,e){var n,r,i=numeric._getCol,o=e.length,a=Array(o),s=t.length,u=e[0].length,c=new Array(s),l=numeric.dotVV;for(--o,n=--s;-1!==n;--n)c[n]=Array(u);for(n=--u;-1!==n;--n)for(i(e,n,a),r=s;-1!==r;--r)c[r][n]=l(t[r],a);return c},numeric.dotMV=function(t,e){var n,r=t.length,i=Array(r),o=numeric.dotVV;for(n=r-1;n>=0;n--)i[n]=o(t[n],e);return i},numeric.dotVM=function(t,e){var n,r,i,o,a,s,u;for(i=t.length,o=e[0].length,a=Array(o),r=o-1;r>=0;r--){for(s=t[i-1]*e[i-1][r],n=i-2;n>=1;n-=2)s+=t[n]*e[n][r]+t[u=n-1]*e[u][r];0===n&&(s+=t[0]*e[0][r]),a[r]=s}return a},numeric.dotVV=function(t,e){var n,r,i=t.length,o=t[i-1]*e[i-1];for(n=i-2;n>=1;n-=2)o+=t[n]*e[n]+t[r=n-1]*e[r];return 0===n&&(o+=t[0]*e[0]),o},numeric.dot=function(t,e){var n=numeric.dim;switch(1e3*n(t).length+n(e).length){case 2002:return e.length<10?numeric.dotMMsmall(t,e):numeric.dotMMbig(t,e);case 2001:return numeric.dotMV(t,e);case 1002:return numeric.dotVM(t,e);case 1001:return numeric.dotVV(t,e);case 1e3:return numeric.mulVS(t,e);case 1:return numeric.mulSV(t,e);case 0:return t*e;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var e,n,r,i,o=t.length,a=Array(o);for(e=o-1;e>=0;e--){for(i=Array(o),n=e+2,r=o-1;r>=n;r-=2)i[r]=0,i[r-1]=0;for(r>e&&(i[r]=0),i[e]=t[e],r=e-1;r>=1;r-=2)i[r]=0,i[r-1]=0;0===r&&(i[0]=0),a[e]=i}return a},numeric.getDiag=function(t){var e,n=Math.min(t.length,t[0].length),r=Array(n);for(e=n-1;e>=1;--e)r[e]=t[e][e],r[--e]=t[e][e];return 0===e&&(r[0]=t[0][0]),r},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,e,n){void 0===n&&(n="");var r,i,o=[],a=/\[i\]$/,s="",u=!1;for(r=0;r<t.length;r++)a.test(t[r])?s=i=t[r].substring(0,t[r].length-3):i=t[r],"ret"===i&&(u=!0),o.push(i);return o[t.length]="_s",o[t.length+1]="_k",o[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+s+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(u?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n    return ret;\n}\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n    "+e+"\n}\nreturn ret;",Function.apply(null,o)},numeric.pointwise2=function(t,e,n){void 0===n&&(n="");var r,i,o=[],a=/\[i\]$/,s="",u=!1;for(r=0;r<t.length;r++)a.test(t[r])?s=i=t[r].substring(0,t[r].length-3):i=t[r],"ret"===i&&(u=!0),o.push(i);return o[t.length]="var _n = "+s+".length;\nvar i"+(u?"":", ret = Array(_n)")+";\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n"+e+"\n}\nreturn ret;",Function.apply(null,o)},numeric._biforeach=function t(e,n,r,i,o){var a;if(i!==r.length-1)for(a=r[i]-1;a>=0;a--)t("object"==typeof e?e[a]:e,"object"==typeof n?n[a]:n,r,i+1,o);else o(e,n)},numeric._biforeach2=function t(e,n,r,i,o){if(i===r.length-1)return o(e,n);var a,s=r[i],u=Array(s);for(a=s-1;a>=0;--a)u[a]=t("object"==typeof e?e[a]:e,"object"==typeof n?n[a]:n,r,i+1,o);return u},numeric._foreach=function t(e,n,r,i){var o;if(r!==n.length-1)for(o=n[r]-1;o>=0;o--)t(e[o],n,r+1,i);else i(e)},numeric._foreach2=function t(e,n,r,i){if(r===n.length-1)return i(e);var o,a=n[r],s=Array(a);for(o=a-1;o>=0;o--)s[o]=t(e[o],n,r+1,i);return s},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var t,e;for(t=0;t<numeric.mathfuns2.length;++t)numeric.ops2[e=numeric.mathfuns2[t]]=e;for(t in numeric.ops2)if(numeric.ops2.hasOwnProperty(t)){e=numeric.ops2[t];var n,r,i="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,t)?(i="var "+e+" = Math."+e+";\n",n=function(t,n,r){return t+" = "+e+"("+n+","+r+")"},r=function(t,n){return t+" = "+e+"("+t+","+n+")"}):(n=function(t,n,r){return t+" = "+n+" "+e+" "+r},r=numeric.opseq.hasOwnProperty(t+"eq")?function(t,n){return t+" "+e+"= "+n}:function(t,n){return t+" = "+t+" "+e+" "+n}),numeric[t+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),i),numeric[t+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),i),numeric[t+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),i),numeric[t]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+r("x","y")+"\n}\nreturn x;\n"),numeric[e]=numeric[t],numeric[t+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],r("ret[i]","x[i]"),i),numeric[t+"eqS"]=numeric.pointwise2(["ret[i]","x"],r("ret[i]","x"),i),numeric[t+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+t+"eqV, S = numeric."+t+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(t=0;t<numeric.mathfuns2.length;++t)delete numeric.ops2[e=numeric.mathfuns2[t]];for(t=0;t<numeric.mathfuns.length;++t)numeric.ops1[e=numeric.mathfuns[t]]=e;for(t in numeric.ops1)numeric.ops1.hasOwnProperty(t)&&(i="",e=numeric.ops1[t],-1!==numeric.myIndexOf.call(numeric.mathfuns,t)&&Math.hasOwnProperty(e)&&(i="var "+e+" = Math."+e+";\n"),numeric[t+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",i),numeric[t+"eq"]=Function("x",'if(typeof x !== "object") return '+e+"x\nvar i;\nvar V = numeric."+t+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[t+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",i),numeric[t]=Function("x",'if(typeof x !== "object") return '+e+"(x)\nvar i;\nvar V = numeric."+t+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(t=0;t<numeric.mathfuns.length;++t)delete numeric.ops1[e=numeric.mathfuns[t]];for(t in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(t)&&(numeric[t+"V"]=numeric.mapreduce2((e=numeric.mapreducers[t])[0],e[1]),numeric[t]=Function("x","s","k",e[1]+'if(typeof x !== "object") {    xi = x;\n'+e[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+t+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+e[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,e){return"object"==typeof t?"object"==typeof e?numeric.truncVV(t,e):numeric.truncVS(t,e):"object"==typeof e?numeric.truncSV(t,e):Math.round(t/e)*e},numeric.inv=function(t){var e,n,r,i,o,a,s,u=numeric.dim(t),c=Math.abs,l=u[0],h=u[1],f=numeric.clone(t),p=numeric.identity(l);for(a=0;a<h;++a){var d=-1,m=-1;for(o=a;o!==l;++o)(s=c(f[o][a]))>m&&(d=o,m=s);for(n=f[d],f[d]=f[a],f[a]=n,i=p[d],p[d]=p[a],p[a]=i,t=n[a],s=a;s!==h;++s)n[s]/=t;for(s=h-1;-1!==s;--s)i[s]/=t;for(o=l-1;-1!==o;--o)if(o!==a){for(r=p[o],t=(e=f[o])[a],s=a+1;s!==h;++s)e[s]-=n[s]*t;for(s=h-1;s>0;--s)r[s]-=i[s]*t,r[--s]-=i[s]*t;0===s&&(r[0]-=i[0]*t)}}return p},numeric.det=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: det() only works on square matrices");var n,r,i,o,a,s,u,c,l=e[0],h=1,f=numeric.clone(t);for(r=0;r<l-1;r++){for(i=r,n=r+1;n<l;n++)Math.abs(f[n][r])>Math.abs(f[i][r])&&(i=n);for(i!==r&&(u=f[i],f[i]=f[r],f[r]=u,h*=-1),o=f[r],n=r+1;n<l;n++){for(s=(a=f[n])[r]/o[r],i=r+1;i<l-1;i+=2)c=i+1,a[i]-=o[i]*s,a[c]-=o[c]*s;i!==l&&(a[i]-=o[i]*s)}if(0===o[r])return 0;h*=o[r]}return h*f[r][r]},numeric.transpose=function(t){var e,n,r,i,o,a=t.length,s=t[0].length,u=Array(s);for(n=0;n<s;n++)u[n]=Array(a);for(e=a-1;e>=1;e-=2){for(i=t[e],r=t[e-1],n=s-1;n>=1;--n)(o=u[n])[e]=i[n],o[e-1]=r[n],(o=u[--n])[e]=i[n],o[e-1]=r[n];0===n&&((o=u[0])[e]=i[0],o[e-1]=r[0])}if(0===e){for(r=t[0],n=s-1;n>=1;--n)u[n][0]=r[n],u[--n][0]=r[n];0===n&&(u[0][0]=r[0])}return u},numeric.negtranspose=function(t){var e,n,r,i,o,a=t.length,s=t[0].length,u=Array(s);for(n=0;n<s;n++)u[n]=Array(a);for(e=a-1;e>=1;e-=2){for(i=t[e],r=t[e-1],n=s-1;n>=1;--n)(o=u[n])[e]=-i[n],o[e-1]=-r[n],(o=u[--n])[e]=-i[n],o[e-1]=-r[n];0===n&&((o=u[0])[e]=-i[0],o[e-1]=-r[0])}if(0===e){for(r=t[0],n=s-1;n>=1;--n)u[n][0]=-r[n],u[--n][0]=-r[n];0===n&&(u[0][0]=-r[0])}return u},numeric._random=function t(e,n){var r,i,o=e[n],a=Array(o);if(n===e.length-1){for(i=Math.random,r=o-1;r>=1;r-=2)a[r]=i(),a[r-1]=i();return 0===r&&(a[0]=i()),a}for(r=o-1;r>=0;r--)a[r]=t(e,n+1);return a},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,e,n){if(void 0===n&&(n=Math.max(Math.round(e-t)+1,1)),n<2)return 1===n?[t]:[];var r,i=Array(n);for(r=--n;r>=0;r--)i[r]=(r*e+(n-r)*t)/n;return i},numeric.getBlock=function(t,e,n){var r=numeric.dim(t);return function t(i,o){var a,s=e[o],u=n[o]-s,c=Array(u);if(o===r.length-1){for(a=u;a>=0;a--)c[a]=i[a+s];return c}for(a=u;a>=0;a--)c[a]=t(i[a+s],o+1);return c}(t,0)},numeric.setBlock=function(t,e,n,r){var i=numeric.dim(t);return function t(r,o,a){var s,u=e[a],c=n[a]-u;if(a===i.length-1)for(s=c;s>=0;s--)r[s+u]=o[s];for(s=c;s>=0;s--)t(r[s+u],o[s],a+1)}(t,r,0),t},numeric.getRange=function(t,e,n){var r,i,o,a,s=e.length,u=n.length,c=Array(s);for(r=s-1;-1!==r;--r)for(c[r]=Array(u),o=c[r],a=t[e[r]],i=u-1;-1!==i;--i)o[i]=a[n[i]];return c},numeric.blockMatrix=function(t){var e=numeric.dim(t);if(e.length<4)return numeric.blockMatrix([t]);var n,r,i,o,a,s=e[0],u=e[1];for(n=0,r=0,i=0;i<s;++i)n+=t[i][0].length;for(o=0;o<u;++o)r+=t[0][o][0].length;var c=Array(n);for(i=0;i<n;++i)c[i]=Array(r);var l,h,f,p,d,m=0;for(i=0;i<s;++i){for(l=r,o=u-1;-1!==o;--o)for(l-=(a=t[i][o])[0].length,f=a.length-1;-1!==f;--f)for(h=c[m+f],p=(d=a[f]).length-1;-1!==p;--p)h[l+p]=d[p];m+=t[i][0].length}return c},numeric.tensor=function(t,e){if("number"==typeof t||"number"==typeof e)return numeric.mul(t,e);var n=numeric.dim(t),r=numeric.dim(e);if(1!==n.length||1!==r.length)throw new Error("numeric: tensor product is only defined for vectors");var i,o,a,s,u=n[0],c=r[0],l=Array(u);for(o=u-1;o>=0;o--){for(i=Array(c),s=t[o],a=c-1;a>=3;--a)i[a]=s*e[a],i[--a]=s*e[a],i[--a]=s*e[a],i[--a]=s*e[a];for(;a>=0;)i[a]=s*e[a],--a;l[o]=i}return l},numeric.T=function(t,e){this.x=t,this.y=e},numeric.t=function(t,e){return new numeric.T(t,e)},numeric.Tbinop=function(t,e,n,r,i){var o;if("string"!=typeof i)for(o in i="",numeric)numeric.hasOwnProperty(o)&&(t.indexOf(o)>=0||e.indexOf(o)>=0||n.indexOf(o)>=0||r.indexOf(o)>=0)&&o.length>1&&(i+="var "+o+" = numeric."+o+";\n");return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+i+"\nif(x.y) {  if(y.y) {    return new numeric.T("+r+");\n  }\n  return new numeric.T("+n+");\n}\nif(y.y) {\n  return new numeric.T("+e+");\n}\nreturn new numeric.T("+t+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,e=numeric.div;if(this.y){var n=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(e(this.x,n),e(numeric.neg(this.y),n))}return new T(e(1,this.x))},numeric.T.prototype.div=function(t){if(t instanceof numeric.T||(t=new numeric.T(t)),t.y)return this.mul(t.reciprocal());var e=numeric.div;return this.y?new numeric.T(e(this.x,t.x),e(this.y,t.x)):new numeric.T(e(this.x,t.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,e=this.x,n=this.y;return n?new numeric.T(t(e),t(n)):new numeric.T(t(e))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,e=this.x,n=this.y;return n?new numeric.T(t(e),numeric.negtranspose(n)):new numeric.T(t(e))},numeric.Tunop=function(t,e,n){return"string"!=typeof n&&(n=""),Function("var x = this;\n"+n+"\nif(x.y) {  "+e+";\n}\n"+t+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var t=this;if(void 0===t.y)return new numeric.T(numeric.inv(t.x));var e,n,r,i,o,a,s,u,c,l,h,f,p,d,m,_,g,v,y=t.x.length,b=numeric.identity(y),x=numeric.rep([y,y],0),w=numeric.clone(t.x),k=numeric.clone(t.y);for(c=0;c<y;c++){for(f=(d=w[c][c])*d+(m=k[c][c])*m,h=c,l=c+1;l<y;l++)(p=(d=w[l][c])*d+(m=k[l][c])*m)>f&&(h=l,f=p);for(h!==c&&(v=w[c],w[c]=w[h],w[h]=v,v=k[c],k[c]=k[h],k[h]=v,v=b[c],b[c]=b[h],b[h]=v,v=x[c],x[c]=x[h],x[h]=v),o=b[c],a=x[c],d=(e=w[c])[c],m=(n=k[c])[c],l=c+1;l<y;l++)e[l]=((_=e[l])*d+(g=n[l])*m)/f,n[l]=(g*d-_*m)/f;for(l=0;l<y;l++)o[l]=((_=o[l])*d+(g=a[l])*m)/f,a[l]=(g*d-_*m)/f;for(l=c+1;l<y;l++){for(s=b[l],u=x[l],d=(r=w[l])[c],m=(i=k[l])[c],h=c+1;h<y;h++)r[h]-=(_=e[h])*d-(g=n[h])*m,i[h]-=g*d+_*m;for(h=0;h<y;h++)s[h]-=(_=o[h])*d-(g=a[h])*m,u[h]-=g*d+_*m}}for(c=y-1;c>0;c--)for(o=b[c],a=x[c],l=c-1;l>=0;l--)for(s=b[l],u=x[l],d=w[l][c],m=k[l][c],h=y-1;h>=0;h--)s[h]-=d*(_=o[h])-m*(g=a[h]),u[h]-=d*g+m*_;return new numeric.T(b,x)},numeric.T.prototype.get=function(t){var e,n=this.x,r=this.y,i=0,o=t.length;if(r){for(;i<o;)n=n[e=t[i]],r=r[e],i++;return new numeric.T(n,r)}for(;i<o;)n=n[e=t[i]],i++;return new numeric.T(n)},numeric.T.prototype.set=function(t,e){var n,r=this.x,i=this.y,o=0,a=t.length,s=e.x,u=e.y;if(0===a)return u?this.y=u:i&&(this.y=void 0),this.x=r,this;if(u){for(i||(i=numeric.rep(numeric.dim(r),0),this.y=i);o<a-1;)r=r[n=t[o]],i=i[n],o++;return r[n=t[o]]=s,i[n]=u,this}if(i){for(;o<a-1;)r=r[n=t[o]],i=i[n],o++;return r[n=t[o]]=s,i[n]=s instanceof Array?numeric.rep(numeric.dim(s),0):0,this}for(;o<a-1;)r=r[n=t[o]],o++;return r[n=t[o]]=s,this},numeric.T.prototype.getRows=function(t,e){var n,r,i=e-t+1,o=Array(i),a=this.x,s=this.y;for(n=t;n<=e;n++)o[n-t]=a[n];if(s){for(r=Array(i),n=t;n<=e;n++)r[n-t]=s[n];return new numeric.T(o,r)}return new numeric.T(o)},numeric.T.prototype.setRows=function(t,e,n){var r,i=this.x,o=this.y,a=n.x,s=n.y;for(r=t;r<=e;r++)i[r]=a[r-t];if(s)for(o||(o=numeric.rep(numeric.dim(i),0),this.y=o),r=t;r<=e;r++)o[r]=s[r-t];else if(o)for(r=t;r<=e;r++)o[r]=numeric.rep([a[r-t].length],0);return this},numeric.T.prototype.getRow=function(t){var e=this.x,n=this.y;return n?new numeric.T(e[t],n[t]):new numeric.T(e[t])},numeric.T.prototype.setRow=function(t,e){var n=this.x,r=this.y,i=e.x,o=e.y;return n[t]=i,o?(r||(r=numeric.rep(numeric.dim(n),0),this.y=r),r[t]=o):r&&(r=numeric.rep([i.length],0)),this},numeric.T.prototype.getBlock=function(t,e){var n=this.x,r=this.y,i=numeric.getBlock;return r?new numeric.T(i(n,t,e),i(r,t,e)):new numeric.T(i(n,t,e))},numeric.T.prototype.setBlock=function(t,e,n){n instanceof numeric.T||(n=new numeric.T(n));var r=this.x,i=this.y,o=numeric.setBlock,a=n.x,s=n.y;if(s)return i||(this.y=numeric.rep(numeric.dim(this),0),i=this.y),o(r,t,e,a),o(i,t,e,s),this;o(r,t,e,a),i&&o(i,t,e,numeric.rep(numeric.dim(a),0))},numeric.T.rep=function(t,e){var n=numeric.T;e instanceof n||(e=new n(e));var r=e.x,i=e.y,o=numeric.rep;return i?new n(o(t,r),o(t,i)):new n(o(t,r))},numeric.T.diag=function(t){t instanceof numeric.T||(t=new numeric.T(t));var e=t.x,n=t.y,r=numeric.diag;return n?new numeric.T(r(e),r(n)):new numeric.T(r(e))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,e=this.x,n=this.y;return n?new t.T(t.getDiag(e),t.getDiag(n)):new t.T(t.getDiag(e))},numeric.house=function(t){var e=numeric.clone(t),n=(t[0]>=0?1:-1)*numeric.norm2(t);e[0]+=n;var r=numeric.norm2(e);if(0===r)throw new Error("eig: internal error");return numeric.div(e,r)},numeric.toUpperHessenberg=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var n,r,i,o,a,s,u,c,l,h,f=e[0],p=numeric.clone(t),d=numeric.identity(f);for(r=0;r<f-2;r++){for(o=Array(f-r-1),n=r+1;n<f;n++)o[n-r-1]=p[n][r];if(numeric.norm2(o)>0){for(a=numeric.house(o),s=numeric.getBlock(p,[r+1,r],[f-1,f-1]),u=numeric.tensor(a,numeric.dot(a,s)),n=r+1;n<f;n++)for(c=p[n],l=u[n-r-1],i=r;i<f;i++)c[i]-=2*l[i-r];for(s=numeric.getBlock(p,[0,r+1],[f-1,f-1]),u=numeric.tensor(numeric.dot(s,a),a),n=0;n<f;n++)for(c=p[n],l=u[n],i=r+1;i<f;i++)c[i]-=2*l[i-r-1];for(s=Array(f-r-1),n=r+1;n<f;n++)s[n-r-1]=d[n];for(u=numeric.tensor(a,numeric.dot(a,s)),n=r+1;n<f;n++)for(h=d[n],l=u[n-r-1],i=0;i<f;i++)h[i]-=2*l[i]}}return{H:p,Q:d}},numeric.epsilon=2220446049250313e-31,numeric.QRFrancis=function(t,e){void 0===e&&(e=1e4),t=numeric.clone(t),numeric.clone(t);var n,r,i,o,a,s,u,c,l,h,f,p,d,m,_,g,v=numeric.dim(t)[0],y=numeric.identity(v);if(v<3)return{Q:y,B:[[0,v-1]]};var b=numeric.epsilon;for(g=0;g<e;g++){for(m=0;m<v-1;m++)if(Math.abs(t[m+1][m])<b*(Math.abs(t[m][m])+Math.abs(t[m+1][m+1]))){var x=numeric.QRFrancis(numeric.getBlock(t,[0,0],[m,m]),e),w=numeric.QRFrancis(numeric.getBlock(t,[m+1,m+1],[v-1,v-1]),e);for(h=Array(m+1),d=0;d<=m;d++)h[d]=y[d];for(f=numeric.dot(x.Q,h),d=0;d<=m;d++)y[d]=f[d];for(h=Array(v-m-1),d=m+1;d<v;d++)h[d-m-1]=y[d];for(f=numeric.dot(w.Q,h),d=m+1;d<v;d++)y[d]=f[d-m-1];return{Q:y,B:x.B.concat(numeric.add(w.B,m+1))}}var k,M,S;for(s=(i=t[v-2][v-2])+(o=t[v-1][v-1]),a=i*o-t[v-2][v-1]*t[v-1][v-2],u=numeric.getBlock(t,[0,0],[2,2]),s*s>=4*a?(k=.5*(s+Math.sqrt(s*s-4*a)),M=.5*(s-Math.sqrt(s*s-4*a)),u=numeric.add(numeric.sub(numeric.dot(u,u),numeric.mul(u,k+M)),numeric.diag(numeric.rep([3],k*M)))):u=numeric.add(numeric.sub(numeric.dot(u,u),numeric.mul(u,s)),numeric.diag(numeric.rep([3],a))),r=numeric.house(n=[u[0][0],u[1][0],u[2][0]]),f=numeric.tensor(r,numeric.dot(r,h=[t[0],t[1],t[2]])),d=0;d<3;d++)for(l=t[d],p=f[d],_=0;_<v;_++)l[_]-=2*p[_];for(h=numeric.getBlock(t,[0,0],[v-1,2]),f=numeric.tensor(numeric.dot(h,r),r),d=0;d<v;d++)for(l=t[d],p=f[d],_=0;_<3;_++)l[_]-=2*p[_];for(f=numeric.tensor(r,numeric.dot(r,h=[y[0],y[1],y[2]])),d=0;d<3;d++)for(c=y[d],p=f[d],_=0;_<v;_++)c[_]-=2*p[_];for(m=0;m<v-2;m++){for(_=m;_<=m+1;_++)if(Math.abs(t[_+1][_])<b*(Math.abs(t[_][_])+Math.abs(t[_+1][_+1]))){for(x=numeric.QRFrancis(numeric.getBlock(t,[0,0],[_,_]),e),w=numeric.QRFrancis(numeric.getBlock(t,[_+1,_+1],[v-1,v-1]),e),h=Array(_+1),d=0;d<=_;d++)h[d]=y[d];for(f=numeric.dot(x.Q,h),d=0;d<=_;d++)y[d]=f[d];for(h=Array(v-_-1),d=_+1;d<v;d++)h[d-_-1]=y[d];for(f=numeric.dot(w.Q,h),d=_+1;d<v;d++)y[d]=f[d-_-1];return{Q:y,B:x.B.concat(numeric.add(w.B,_+1))}}for(S=Math.min(v-1,m+3),n=Array(S-m),d=m+1;d<=S;d++)n[d-m-1]=t[d][m];for(r=numeric.house(n),h=numeric.getBlock(t,[m+1,m],[S,v-1]),f=numeric.tensor(r,numeric.dot(r,h)),d=m+1;d<=S;d++)for(l=t[d],p=f[d-m-1],_=m;_<v;_++)l[_]-=2*p[_-m];for(h=numeric.getBlock(t,[0,m+1],[v-1,S]),f=numeric.tensor(numeric.dot(h,r),r),d=0;d<v;d++)for(l=t[d],p=f[d],_=m+1;_<=S;_++)l[_]-=2*p[_-m-1];for(h=Array(S-m),d=m+1;d<=S;d++)h[d-m-1]=y[d];for(f=numeric.tensor(r,numeric.dot(r,h)),d=m+1;d<=S;d++)for(c=y[d],p=f[d-m-1],_=0;_<v;_++)c[_]-=2*p[_]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,e){var n,r,i,o,a,s,u,c,l,h,f,p,d,m,_,g,v,y=numeric.toUpperHessenberg(t),b=numeric.QRFrancis(y.H,e),x=numeric.T,w=b.B,k=numeric.dot(b.Q,numeric.dot(y.H,numeric.transpose(b.Q))),M=new x(numeric.dot(b.Q,y.Q)),S=w.length,A=Math.sqrt;for(r=0;r<S;r++)if((n=w[r][0])===w[r][1]);else{if(a=k[n][n],u=k[o=n+1][n],c=k[o][o],0===(s=k[n][o])&&0===u)continue;(h=(l=-a-c)*l-4*(a*c-s*u))>=0?((_=(a-(f=l<0?-.5*(l-A(h)):-.5*(l+A(h))))*(a-f)+s*s)>(g=u*u+(c-f)*(c-f))?(d=(a-f)/(_=A(_)),m=s/_):(d=u/(g=A(g)),m=(c-f)/g),i=new x([[m,-d],[d,m]]),M.setRows(n,o,i.dot(M.getRows(n,o)))):(f=-.5*l,p=.5*A(-h),(_=(a-f)*(a-f)+s*s)>(g=u*u+(c-f)*(c-f))?(d=(a-f)/(_=A(_+p*p)),m=s/_,f=0,p/=_):(d=u/(g=A(g+p*p)),m=(c-f)/g,f=p/g,p=0),i=new x([[m,-d],[d,m]],[[f,p],[p,-f]]),M.setRows(n,o,i.dot(M.getRows(n,o))))}var T=M.dot(t).dot(M.transjugate()),E=numeric.T.identity(v=t.length);for(o=0;o<v;o++)if(o>0)for(r=o-1;r>=0;r--){var C=T.get([r,r]),O=T.get([o,o]);numeric.neq(C.x,O.x)||numeric.neq(C.y,O.y)?(f=T.getRow(r).getBlock([r],[o-1]),p=E.getRow(o).getBlock([r],[o-1]),E.set([o,r],T.get([r,o]).neg().sub(f.dot(p)).div(C.sub(O)))):E.setRow(o,E.getRow(r))}for(o=0;o<v;o++)f=E.getRow(o),E.setRow(o,f.div(f.norm2()));return E=E.transpose(),E=M.transjugate().dot(E),{lambda:T.getDiag(),E:E}},numeric.ccsSparse=function(t){var e,n,r,i=t.length,o=[];for(n=i-1;-1!==n;--n)for(r in e=t[n]){for(r=parseInt(r);r>=o.length;)o[o.length]=0;0!==e[r]&&o[r]++}var a=o.length,s=Array(a+1);for(s[0]=0,n=0;n<a;++n)s[n+1]=s[n]+o[n];var u=Array(s[a]),c=Array(s[a]);for(n=i-1;-1!==n;--n)for(r in e=t[n])0!==e[r]&&(o[r]--,u[s[r]+o[r]]=n,c[s[r]+o[r]]=e[r]);return[s,u,c]},numeric.ccsFull=function(t){var e,n,r,i=t[0],o=t[1],a=t[2],s=numeric.ccsDim(t),u=s[1],c=numeric.rep([s[0],u],0);for(e=0;e<u;e++)for(r=i[e+1],n=i[e];n<r;++n)c[o[n]][e]=a[n];return c},numeric.ccsTSolve=function(t,e,n,r,i){function o(t){var e;if(0===n[t]){for(n[t]=1,e=p[t];e<p[t+1];++e)o(d[e]);i[g]=t,++g}}var a,s,u,c,l,h,f,p=t[0],d=t[1],m=t[2],_=Math.max,g=0;for(void 0===r&&(n=numeric.rep([p.length-1],0)),void 0===r&&(r=numeric.linspace(0,n.length-1)),void 0===i&&(i=[]),a=r.length-1;-1!==a;--a)o(r[a]);for(i.length=g,a=i.length-1;-1!==a;--a)n[i[a]]=0;for(a=r.length-1;-1!==a;--a)n[s=r[a]]=e[s];for(a=i.length-1;-1!==a;--a){for(c=_(p[(s=i[a])+1],u=p[s]),l=u;l!==c;++l)if(d[l]===s){n[s]/=m[l];break}for(f=n[s],l=u;l!==c;++l)(h=d[l])!==s&&(n[h]-=f*m[l])}return n},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,e,n,r,i,o){var a,s,u,c=0,l=i.length,h=this.k,f=this.k1,p=this.j;if(0===r[t])for(r[t]=1,p[0]=t,h[0]=s=e[t],f[0]=u=e[t+1];;)if(s>=u){if(i[l]=p[c],0===c)return;++l,s=h[--c],u=f[c]}else 0===r[a=o[n[s]]]?(r[a]=1,h[c]=s,p[++c]=a,s=e[a],f[c]=u=e[a+1]):++s},numeric.ccsLPSolve=function(t,e,n,r,i,o,a){var s,u,c,l,h,f,p,d,m,_=t[0],g=t[1],v=t[2],y=e[0],b=e[1],x=e[2];for(u=y[i],c=y[i+1],r.length=0,s=u;s<c;++s)a.dfs(o[b[s]],_,g,n,r,o);for(s=r.length-1;-1!==s;--s)n[r[s]]=0;for(s=u;s!==c;++s)n[l=o[b[s]]]=x[s];for(s=r.length-1;-1!==s;--s){for(h=_[l=r[s]],f=_[l+1],p=h;p<f;++p)if(o[g[p]]===l){n[l]/=v[p];break}for(m=n[l],p=h;p<f;++p)(d=o[g[p]])!==l&&(n[d]-=m*v[p])}return n},numeric.ccsLUP1=function(t,e){var n,r,i,o,a,s,u,c=t[0].length-1,l=[numeric.rep([c+1],0),[],[]],h=[numeric.rep([c+1],0),[],[]],f=l[0],p=l[1],d=l[2],m=h[0],_=h[1],g=h[2],v=numeric.rep([c],0),y=numeric.rep([c],0),b=numeric.ccsLPSolve,x=(Math,Math.abs),w=numeric.linspace(0,c-1),k=numeric.linspace(0,c-1),M=new numeric.ccsDFS(c);for(void 0===e&&(e=1),n=0;n<c;++n){for(b(l,t,v,y,n,k,M),o=-1,a=-1,r=y.length-1;-1!==r;--r)(i=y[r])<=n||(s=x(v[i]))>o&&(a=i,o=s);for(x(v[n])<e*o&&(r=w[n],w[n]=o=w[a],k[o]=n,w[a]=r,k[r]=a,o=v[n],v[n]=v[a],v[a]=o),a=m[n],u=v[n],p[o=f[n]]=w[n],d[o]=1,++o,r=y.length-1;-1!==r;--r)s=v[i=y[r]],y[r]=0,v[i]=0,i<=n?(_[a]=i,g[a]=s,++a):(p[o]=w[i],d[o]=s/u,++o);f[n+1]=o,m[n+1]=a}for(r=p.length-1;-1!==r;--r)p[r]=k[p[r]];return{L:l,U:h,P:w,Pinv:k}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,e,n,r,i,o){var a,s,u,c=0,l=i.length,h=this.k,f=this.k1,p=this.j;if(0===r[t])for(r[t]=1,p[0]=t,h[0]=s=e[o[t]],f[0]=u=e[o[t]+1];;){if(isNaN(s))throw new Error("Ow!");if(s>=u){if(i[l]=o[p[c]],0===c)return;++l,s=h[--c],u=f[c]}else 0===r[a=n[s]]?(r[a]=1,h[c]=s,p[++c]=a,s=e[a=o[a]],f[c]=u=e[a+1]):++s}},numeric.ccsLPSolve0=function(t,e,n,r,i,o,a,s){var u,c,l,h,f,p,d,m,_,g=t[0],v=t[1],y=t[2],b=e[0],x=e[1],w=e[2];for(c=b[i],l=b[i+1],r.length=0,u=c;u<l;++u)s.dfs(x[u],g,v,n,r,o,a);for(u=r.length-1;-1!==u;--u)n[a[h=r[u]]]=0;for(u=c;u!==l;++u)n[h=x[u]]=w[u];for(u=r.length-1;-1!==u;--u){for(m=a[h=r[u]],p=g[h+1],d=f=g[h];d<p;++d)if(v[d]===m){n[m]/=y[d];break}for(_=n[m],d=f;d<p;++d)n[v[d]]-=_*y[d];n[m]=_}},numeric.ccsLUP0=function(t,e){var n,r,i,o,a,s,u,c=t[0].length-1,l=[numeric.rep([c+1],0),[],[]],h=[numeric.rep([c+1],0),[],[]],f=l[0],p=l[1],d=l[2],m=h[0],_=h[1],g=h[2],v=numeric.rep([c],0),y=numeric.rep([c],0),b=numeric.ccsLPSolve0,x=(Math,Math.abs),w=numeric.linspace(0,c-1),k=numeric.linspace(0,c-1),M=new numeric.ccsDFS0(c);for(void 0===e&&(e=1),n=0;n<c;++n){for(b(l,t,v,y,n,k,w,M),o=-1,a=-1,r=y.length-1;-1!==r;--r)(i=y[r])<=n||(s=x(v[w[i]]))>o&&(a=i,o=s);for(x(v[w[n]])<e*o&&(r=w[n],w[n]=o=w[a],k[o]=n,w[a]=r,k[r]=a),a=m[n],u=v[w[n]],p[o=f[n]]=w[n],d[o]=1,++o,r=y.length-1;-1!==r;--r)s=v[w[i=y[r]]],y[r]=0,v[w[i]]=0,i<=n?(_[a]=i,g[a]=s,++a):(p[o]=w[i],d[o]=s/u,++o);f[n+1]=o,m[n+1]=a}for(r=p.length-1;-1!==r;--r)p[r]=k[p[r]];return{L:l,U:h,P:w,Pinv:k}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,e,n){var r=numeric.ccsDim(t),i=r[0],o=r[1];void 0===e?e=numeric.linspace(0,i-1):"number"==typeof e&&(e=[e]),void 0===n?n=numeric.linspace(0,o-1):"number"==typeof n&&(n=[n]);var a,s,u,c,l=e.length,h=n.length,f=numeric.rep([o],0),p=[],d=[],m=[f,p,d],_=t[0],g=t[1],v=t[2],y=numeric.rep([i],0),b=0,x=numeric.rep([i],0);for(s=0;s<h;++s){var w=_[c=n[s]],k=_[c+1];for(a=w;a<k;++a)x[u=g[a]]=1,y[u]=v[a];for(a=0;a<l;++a)x[e[a]]&&(p[b]=a,d[b]=y[e[a]],++b);for(a=w;a<k;++a)x[u=g[a]]=0;f[s+1]=b}return m},numeric.ccsDot=function(t,e){var n,r,i,o,a,s,u,c,l,h,f=t[0],p=t[1],d=t[2],m=e[0],_=e[1],g=e[2],v=numeric.ccsDim(t),y=numeric.ccsDim(e),b=v[0],x=y[1],w=numeric.rep([b],0),k=numeric.rep([b],0),M=Array(b),S=numeric.rep([x],0),A=[],T=[],E=[S,A,T];for(i=0;i!==x;++i){for(a=m[i+1],c=0,r=o=m[i];r<a;++r)for(h=g[r],s=f[(l=_[r])+1],n=f[l];n<s;++n)0===k[u=p[n]]&&(M[c]=u,k[u]=1,c+=1),w[u]=w[u]+d[n]*h;for(a=(o=S[i])+c,S[i+1]=a,r=c-1;-1!==r;--r)A[h=o+r]=n=M[r],T[h]=w[n],k[n]=0,w[n]=0;S[i+1]=S[i]+c}return E},numeric.ccsLUPSolve=function(t,e){var n=t.L,r=t.U,i=e[0],o=!1;"object"!=typeof i&&(i=(e=[[0,e.length],numeric.linspace(0,e.length-1),e])[0],o=!0);var a,s,u,c,l,h=e[1],f=e[2],p=n[0].length-1,d=i.length-1,m=numeric.rep([p],0),_=Array(p),g=numeric.rep([p],0),v=Array(p),y=numeric.rep([d+1],0),b=[],x=[],w=numeric.ccsTSolve,k=0;for(a=0;a<d;++a){for(c=0,u=i[a+1],s=i[a];s<u;++s)v[c]=l=t.Pinv[h[s]],g[l]=f[s],++c;for(v.length=c,w(n,g,m,v,_),s=v.length-1;-1!==s;--s)g[v[s]]=0;if(w(r,m,g,_,v),o)return g;for(s=_.length-1;-1!==s;--s)m[_[s]]=0;for(s=v.length-1;-1!==s;--s)b[k]=l=v[s],x[k]=g[l],g[l]=0,++k;y[a+1]=k}return[y,b,x]},numeric.ccsbinop=function(t,e){return void 0===e&&(e=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+e+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+t+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(t){var e,n=t[0],r=t[1],i=t[2],o=numeric.sup(r)+1,a=n.length,s=numeric.rep([o],0),u=Array(a),c=Array(a),l=numeric.rep([o],0);for(e=0;e<a;++e)l[r[e]]++;for(e=0;e<o;++e)s[e+1]=s[e]+l[e];var h,f,p=s.slice(0);for(e=0;e<a;++e)u[h=p[f=r[e]]]=n[e],c[h]=i[e],p[f]=p[f]+1;return[s,u,c]},numeric.ccsGather=function(t){var e,n,r,i,o=t[0],a=t[1],s=t[2],u=o.length-1,c=a.length,l=Array(c),h=Array(c),f=Array(c);for(i=0,e=0;e<u;++e)for(r=o[e+1],n=o[e];n!==r;++n)h[i]=e,l[i]=a[n],f[i]=s[n],++i;return[l,h,f]},numeric.sdim=function t(e,n,r){if(void 0===n&&(n=[]),"object"!=typeof e)return n;var i;for(i in void 0===r&&(r=0),r in n||(n[r]=0),e.length>n[r]&&(n[r]=e.length),e)e.hasOwnProperty(i)&&t(e[i],n,r+1);return n},numeric.sclone=function t(e,n,r){void 0===n&&(n=0),void 0===r&&(r=numeric.sdim(e).length);var i,o=Array(e.length);if(n===r-1){for(i in e)e.hasOwnProperty(i)&&(o[i]=e[i]);return o}for(i in e)e.hasOwnProperty(i)&&(o[i]=t(e[i],n+1,r));return o},numeric.sdiag=function(t){var e,n,r=t.length,i=Array(r);for(e=r-1;e>=1;e-=2)n=e-1,i[e]=[],i[e][e]=t[e],i[n]=[],i[n][n]=t[n];return 0===e&&(i[0]=[],i[0][0]=t[e]),i},numeric.sidentity=function(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function(t){var e,n,r,i=[];for(e in t)if(t.hasOwnProperty(e))for(n in r=t[e])r.hasOwnProperty(n)&&("object"!=typeof i[n]&&(i[n]=[]),i[n][e]=r[n]);return i},numeric.sLUP=function(){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(t,e){var n,r,i,o,a,s,u,c=t.length,l=numeric.stranspose(e),h=l.length,f=Array(c);for(i=c-1;i>=0;i--){for(u=[],n=t[i],a=h-1;a>=0;a--){for(o in s=0,r=l[a],n)n.hasOwnProperty(o)&&o in r&&(s+=n[o]*r[o]);s&&(u[a]=s)}f[i]=u}return f},numeric.sdotMV=function(t,e){var n,r,i,o,a=t.length,s=Array(a);for(r=a-1;r>=0;r--){for(i in o=0,n=t[r])n.hasOwnProperty(i)&&e[i]&&(o+=n[i]*e[i]);o&&(s[r]=o)}return s},numeric.sdotVM=function(t,e){var n,r,i,o,a=[];for(n in t)if(t.hasOwnProperty(n))for(r in o=t[n],i=e[n])i.hasOwnProperty(r)&&(a[r]||(a[r]=0),a[r]+=o*i[r]);return a},numeric.sdotVV=function(t,e){var n,r=0;for(n in t)t[n]&&e[n]&&(r+=t[n]*e[n]);return r},numeric.sdot=function(t,e){var n=numeric.sdim(t).length,r=numeric.sdim(e).length;switch(1e3*n+r){case 0:return t*e;case 1001:return numeric.sdotVV(t,e);case 2001:return numeric.sdotMV(t,e);case 1002:return numeric.sdotVM(t,e);case 2002:return numeric.sdotMM(t,e);default:throw new Error("numeric.sdot not implemented for tensors of order "+n+" and "+r)}},numeric.sscatter=function(t){var e,n,r,i,o=t.length,a=[];for(n=t[0].length-1;n>=0;--n)if(t[o-1][n]){for(i=a,r=0;r<o-2;r++)i[e=t[r][n]]||(i[e]=[]),i=i[e];i[t[r][n]]=t[r+1][n]}return a},numeric.sgather=function t(e,n,r){var i,o,a;for(o in void 0===n&&(n=[]),void 0===r&&(r=[]),i=r.length,e)if(e.hasOwnProperty(o))if(r[i]=parseInt(o),"number"==typeof(a=e[o])){if(a){if(0===n.length)for(o=i+1;o>=0;--o)n[o]=[];for(o=i;o>=0;--o)n[o].push(r[o]);n[i+1].push(a)}}else t(a,n,r);return r.length>i&&r.pop(),n},numeric.cLU=function(t){var e,n,r,i,o,a,s=t[0],u=t[1],c=t[2],l=s.length,h=0;for(e=0;e<l;e++)s[e]>h&&(h=s[e]);h++;var f,p=Array(h),d=Array(h),m=numeric.rep([h],1/0),_=numeric.rep([h],-1/0);for(r=0;r<l;r++)(n=u[r])<m[e=s[r]]&&(m[e]=n),n>_[e]&&(_[e]=n);for(e=0;e<h-1;e++)_[e]>_[e+1]&&(_[e+1]=_[e]);for(e=h-1;e>=1;e--)m[e]<m[e-1]&&(m[e-1]=m[e]);for(e=0;e<h;e++)d[e]=numeric.rep([_[e]-m[e]+1],0),p[e]=numeric.rep([e-m[e]],0);for(r=0;r<l;r++)d[e=s[r]][u[r]-m[e]]=c[r];for(e=0;e<h-1;e++)for(i=e-m[e],y=d[e],n=e+1;m[n]<=e&&n<h;n++)if(a=_[e]-e,f=(b=d[n])[o=e-m[n]]/y[i]){for(r=1;r<=a;r++)b[r+o]-=f*y[r+i];p[n][e-m[n]]=f}var g,v,y=[],b=[],x=[],w=[],k=[],M=[];for(l=0,g=0,e=0;e<h;e++){for(i=m[e],o=_[e],v=d[e],n=e;n<=o;n++)v[n-i]&&(y[l]=e,b[l]=n,x[l]=v[n-i],l++);for(v=p[e],n=i;n<e;n++)v[n-i]&&(w[g]=e,k[g]=n,M[g]=v[n-i],g++);w[g]=e,k[g]=e,M[g]=1,g++}return{U:[y,b,x],L:[w,k,M]}},numeric.cLUsolve=function(t,e){var n,r,i=t.L,o=t.U,a=numeric.clone(e),s=i[1],u=i[2],c=o[1],l=o[2],h=o[0].length,f=a.length;for(r=0,n=0;n<f;n++){for(;s[r]<n;)a[n]-=u[r]*a[s[r]],r++;r++}for(r=h-1,n=f-1;n>=0;n--){for(;c[r]>n;)a[n]-=l[r]*a[c[r]],r--;a[n]/=l[r],r--}return a},numeric.cgrid=function(t,e){"number"==typeof t&&(t=[t,t]);var n,r,i,o=numeric.rep(t,-1);for("function"!=typeof e&&(e="L"===e?function(e,n){return e>=t[0]/2||n<t[1]/2}:function(){return!0}),i=0,n=1;n<t[0]-1;n++)for(r=1;r<t[1]-1;r++)e(n,r)&&(o[n][r]=i,i++);return o},numeric.cdelsq=function(t){var e,n,r,i,o,a=[[-1,0],[0,-1],[0,1],[1,0]],s=numeric.dim(t),u=s[0],c=s[1],l=[],h=[],f=[];for(e=1;e<u-1;e++)for(n=1;n<c-1;n++)if(!(t[e][n]<0)){for(r=0;r<4;r++)t[i=e+a[r][0]][o=n+a[r][1]]<0||(l.push(t[e][n]),h.push(t[i][o]),f.push(-1));l.push(t[e][n]),h.push(t[e][n]),f.push(4)}return[l,h,f]},numeric.cdotMV=function(t,e){var n,r,i,o=t[0],a=t[1],s=t[2],u=o.length;for(i=0,r=0;r<u;r++)o[r]>i&&(i=o[r]);for(i++,n=numeric.rep([i],0),r=0;r<u;r++)n[o[r]]+=s[r]*e[a[r]];return n},numeric.Spline=function(t,e,n,r,i){this.x=t,this.yl=e,this.yr=n,this.kl=r,this.kr=i},numeric.Spline.prototype._at=function(t,e){var n,r,i,o=this.x,a=this.yl,s=this.yr,u=this.kr,c=numeric.add,l=numeric.sub,h=numeric.mul;n=l(h(this.kl[e],o[e+1]-o[e]),l(s[e+1],a[e])),r=c(h(u[e+1],o[e]-o[e+1]),l(s[e+1],a[e]));var f=(i=(t-o[e])/(o[e+1]-o[e]))*(1-i);return c(c(c(h(1-i,a[e]),h(i,s[e+1])),h(n,f*(1-i))),h(r,f*i))},numeric.Spline.prototype.at=function(t){if("number"==typeof t){var e,n,r,i=this.x,o=i.length,a=Math.floor;for(e=0,n=o-1;n-e>1;)i[r=a((e+n)/2)]<=t?e=r:n=r;return this._at(t,e)}o=t.length;var s,u=Array(o);for(s=o-1;-1!==s;--s)u[s]=this.at(t[s]);return u},numeric.Spline.prototype.diff=function(){var t,e,n,r=this.x,i=this.yl,o=this.yr,a=this.kl,s=this.kr,u=i.length,c=a,l=s,h=Array(u),f=Array(u),p=numeric.add,d=numeric.mul,m=numeric.div,_=numeric.sub;for(t=u-1;-1!==t;--t)e=r[t+1]-r[t],n=_(o[t+1],i[t]),h[t]=m(p(d(n,6),d(a[t],-4*e),d(s[t+1],-2*e)),e*e),f[t+1]=m(p(d(n,-6),d(a[t],2*e),d(s[t+1],4*e)),e*e);return new numeric.Spline(r,c,l,h,f)},numeric.Spline.prototype.roots=function(){function t(t){return t*t}var e=[],n=this.x,r=this.yl,i=this.yr,o=this.kl,a=this.kr;"number"==typeof r[0]&&(r=[r],i=[i],o=[o],a=[a]);var s,u,c,l,h,f,p,d,m,_,g,v,y,b,x,w,k,M,S,A,T,E,C,O=r.length,P=n.length-1,j=(e=Array(O),Math.sqrt);for(s=0;s!==O;++s){for(l=r[s],h=i[s],f=o[s],p=a[s],d=[],u=0;u!==P;u++){for(u>0&&h[u]*l[u]<0&&d.push(n[u]),y=(_=p[u+1]/(w=n[u+1]-n[u]))+3*(g=l[u])+2*(m=f[u]/w)-3*(v=h[u+1]),b=3*(_+m+2*(g-v)),(x=t(m-_+3*(g-v))+12*_*g)<=0?k=(M=y/b)>n[u]&&M<n[u+1]?[n[u],M,n[u+1]]:[n[u],n[u+1]]:(M=(y-j(x))/b,S=(y+j(x))/b,k=[n[u]],M>n[u]&&M<n[u+1]&&k.push(M),S>n[u]&&S<n[u+1]&&k.push(S),k.push(n[u+1])),M=this._at(T=k[0],u),c=0;c<k.length-1;c++)if(S=this._at(E=k[c+1],u),0!==M)if(0===S||M*S>0)T=E,M=S;else{for(var N=0;!((C=(M*E-S*T)/(M-S))<=T||C>=E);)if((A=this._at(C,u))*S>0)E=C,S=A,-1===N&&(M*=.5),N=-1;else{if(!(A*M>0))break;T=C,M=A,1===N&&(S*=.5),N=1}d.push(C),M=this._at(T=k[c+1],u)}else d.push(T),T=E,M=S;0===S&&d.push(E)}e[s]=d}return"number"==typeof this.yl[0]?e[0]:e},numeric.spline=function(t,e,n,r){var i,o=t.length,a=[],s=[],u=[],c=numeric.sub,l=numeric.mul,h=numeric.add;for(i=o-2;i>=0;i--)s[i]=t[i+1]-t[i],u[i]=c(e[i+1],e[i]);"string"!=typeof n&&"string"!=typeof r||(n=r="periodic");var f=[[],[],[]];switch(typeof n){case"undefined":a[0]=l(3/(s[0]*s[0]),u[0]),f[0].push(0,0),f[1].push(0,1),f[2].push(2/s[0],1/s[0]);break;case"string":a[0]=h(l(3/(s[o-2]*s[o-2]),u[o-2]),l(3/(s[0]*s[0]),u[0])),f[0].push(0,0,0),f[1].push(o-2,0,1),f[2].push(1/s[o-2],2/s[o-2]+2/s[0],1/s[0]);break;default:a[0]=n,f[0].push(0),f[1].push(0),f[2].push(1)}for(i=1;i<o-1;i++)a[i]=h(l(3/(s[i-1]*s[i-1]),u[i-1]),l(3/(s[i]*s[i]),u[i])),f[0].push(i,i,i),f[1].push(i-1,i,i+1),f[2].push(1/s[i-1],2/s[i-1]+2/s[i],1/s[i]);switch(typeof r){case"undefined":a[o-1]=l(3/(s[o-2]*s[o-2]),u[o-2]),f[0].push(o-1,o-1),f[1].push(o-2,o-1),f[2].push(1/s[o-2],2/s[o-2]);break;case"string":f[1][f[1].length-1]=0;break;default:a[o-1]=r,f[0].push(o-1),f[1].push(o-1),f[2].push(1)}a="number"!=typeof a[0]?numeric.transpose(a):[a];var p=Array(a.length);if("string"==typeof n)for(i=p.length-1;-1!==i;--i)p[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(f)),a[i]),p[i][o-1]=p[i][0];else for(i=p.length-1;-1!==i;--i)p[i]=numeric.cLUsolve(numeric.cLU(f),a[i]);return p="number"==typeof e[0]?p[0]:numeric.transpose(p),new numeric.Spline(t,e,e,p,p)},numeric.fftpow2=function t(e,n){var r=e.length;if(1!==r){var i,o,a=Math.cos,s=Math.sin,u=Array(r/2),c=Array(r/2),l=Array(r/2),h=Array(r/2);for(o=r/2,i=r-1;-1!==i;--i)l[--o]=e[i],h[o]=n[i],--i,u[o]=e[i],c[o]=n[i];t(u,c),t(l,h),o=r/2;var f,p,d,m=-6.283185307179586/r;for(i=r-1;-1!==i;--i)-1==--o&&(o=r/2-1),p=a(f=m*i),d=s(f),e[i]=u[o]+p*l[o]-d*h[o],n[i]=c[o]+p*h[o]+d*l[o]}},numeric._ifftpow2=function t(e,n){var r=e.length;if(1!==r){var i,o,a=Math.cos,s=Math.sin,u=Array(r/2),c=Array(r/2),l=Array(r/2),h=Array(r/2);for(o=r/2,i=r-1;-1!==i;--i)l[--o]=e[i],h[o]=n[i],--i,u[o]=e[i],c[o]=n[i];t(u,c),t(l,h),o=r/2;var f,p,d,m=6.283185307179586/r;for(i=r-1;-1!==i;--i)-1==--o&&(o=r/2-1),p=a(f=m*i),d=s(f),e[i]=u[o]+p*l[o]-d*h[o],n[i]=c[o]+p*h[o]+d*l[o]}},numeric.ifftpow2=function(t,e){numeric._ifftpow2(t,e),numeric.diveq(t,t.length),numeric.diveq(e,e.length)},numeric.convpow2=function(t,e,n,r){var i,o,a,s,u;for(numeric.fftpow2(t,e),numeric.fftpow2(n,r),i=t.length-1;-1!==i;--i)t[i]=(o=t[i])*(a=n[i])-(s=e[i])*(u=r[i]),e[i]=o*u+s*a;numeric.ifftpow2(t,e)},numeric.T.prototype.fft=function(){var t,e,n=this.x,r=this.y,i=n.length,o=Math.log,a=o(2),s=Math.ceil(o(2*i-1)/a),u=Math.pow(2,s),c=numeric.rep([u],0),l=numeric.rep([u],0),h=Math.cos,f=Math.sin,p=-3.141592653589793/i,d=numeric.rep([u],0),m=numeric.rep([u],0);for(Math.floor(i/2),t=0;t<i;t++)d[t]=n[t];if(void 0!==r)for(t=0;t<i;t++)m[t]=r[t];for(c[0]=1,t=1;t<=u/2;t++)c[t]=h(e=p*t*t),l[t]=f(e),c[u-t]=h(e),l[u-t]=f(e);var _=new numeric.T(d,m),g=new numeric.T(c,l);return _=_.mul(g),numeric.convpow2(_.x,_.y,numeric.clone(g.x),numeric.neg(g.y)),(_=_.mul(g)).x.length=i,_.y.length=i,_},numeric.T.prototype.ifft=function(){var t,e,n=this.x,r=this.y,i=n.length,o=Math.log,a=o(2),s=Math.ceil(o(2*i-1)/a),u=Math.pow(2,s),c=numeric.rep([u],0),l=numeric.rep([u],0),h=Math.cos,f=Math.sin,p=3.141592653589793/i,d=numeric.rep([u],0),m=numeric.rep([u],0);for(Math.floor(i/2),t=0;t<i;t++)d[t]=n[t];if(void 0!==r)for(t=0;t<i;t++)m[t]=r[t];for(c[0]=1,t=1;t<=u/2;t++)c[t]=h(e=p*t*t),l[t]=f(e),c[u-t]=h(e),l[u-t]=f(e);var _=new numeric.T(d,m),g=new numeric.T(c,l);return _=_.mul(g),numeric.convpow2(_.x,_.y,numeric.clone(g.x),numeric.neg(g.y)),(_=_.mul(g)).x.length=i,_.y.length=i,_.div(i)},numeric.gradient=function(t,e){var n=e.length,r=t(e);if(isNaN(r))throw new Error("gradient: f(x) is a NaN!");var i,o,a,s,u,c,l,h,f,p=Math.max,d=numeric.clone(e),m=Array(n),_=(p=Math.max,Math.abs),g=Math.min,v=0;for(i=0;i<n;i++)for(var y=p(1e-6*r,1e-8);;){if(++v>20)throw new Error("Numerical gradient fails");if(d[i]=e[i]+y,o=t(d),d[i]=e[i]-y,a=t(d),d[i]=e[i],isNaN(o)||isNaN(a))y/=16;else{if(m[i]=(o-a)/(2*y),s=e[i]-y,u=e[i],c=e[i]+y,l=(o-r)/y,h=(r-a)/y,f=p(_(m[i]),_(r),_(o),_(a),_(s),_(u),_(c),1e-8),!(g(p(_(l-m[i]),_(h-m[i]),_(l-h))/f,y/f)>.001))break;y/=16}}return m},numeric.uncmin=function(t,e,n,r,i,o,a){var s=numeric.gradient;void 0===a&&(a={}),void 0===n&&(n=1e-8),void 0===r&&(r=function(e){return s(t,e)}),void 0===i&&(i=1e3);var u,c,l=(e=numeric.clone(e)).length,h=t(e);if(isNaN(h))throw new Error("uncmin: f(x0) is a NaN!");var f=Math.max,p=numeric.norm2;n=f(n,numeric.epsilon);var d,m,_,g,v,y,b,x,w,k,M=a.Hinv||numeric.identity(l),S=numeric.dot,A=numeric.sub,T=numeric.add,E=numeric.tensor,C=numeric.div,O=numeric.mul,P=numeric.all,j=numeric.isFinite,N=numeric.neg,I=0,R="";for(m=r(e);I<i;){if("function"==typeof o&&o(I,e,h,m,M)){R="Callback returned true";break}if(!P(j(m))){R="Gradient has Infinity or NaN";break}if(!P(j(d=N(S(M,m))))){R="Search direction has Infinity or NaN";break}if((k=p(d))<n){R="Newton step smaller than tol";break}for(w=1,c=S(m,d),v=e;I<i&&!(w*k<n)&&(v=T(e,g=O(d,w)),(u=t(v))-h>=.1*w*c||isNaN(u));)w*=.5,++I;if(w*k<n){R="Line search step size smaller than tol";break}if(I===i){R="maxit reached during line search";break}x=S(y=A(_=r(v),m),g),b=S(M,y),M=A(T(M,O((x+S(y,b))/(x*x),E(g,g))),C(T(E(b,g),E(g,b)),x)),e=v,h=u,m=_,++I}return{solution:e,f:h,gradient:m,invHessian:M,iterations:I,message:R}},numeric.Dopri=function(t,e,n,r,i,o,a){this.x=t,this.y=e,this.f=n,this.ymid=r,this.iterations=i,this.events=a,this.message=o},numeric.Dopri.prototype._at=function(t,e){function n(t){return t*t}var r,i,o,a,s,u,c,l,h,f=this,p=f.x,d=f.y,m=f.f,_=(Math,numeric.add),g=numeric.mul,v=numeric.sub;return s=d[e+1],u=f.ymid[e],c=v(m[e],g(a=d[e],1/((r=p[e])-(o=r+.5*((i=p[e+1])-r)))+2/(r-i))),l=v(m[e+1],g(s,1/(i-o)+2/(i-r))),_(_(_(_(g(a,(h=[n(t-i)*(t-o)/n(r-i)/(r-o),n(t-r)*n(t-i)/n(r-o)/n(i-o),n(t-r)*(t-o)/n(i-r)/(i-o),(t-r)*n(t-i)*(t-o)/n(r-i)/(r-o),(t-i)*n(t-r)*(t-o)/n(r-i)/(i-o)])[0]),g(u,h[1])),g(s,h[2])),g(c,h[3])),g(l,h[4]))},numeric.Dopri.prototype.at=function(t){var e,n,r,i=Math.floor;if("number"!=typeof t){var o=t.length,a=Array(o);for(e=o-1;-1!==e;--e)a[e]=this.at(t[e]);return a}var s=this.x;for(e=0,n=s.length-1;n-e>1;)s[r=i(.5*(e+n))]<=t?e=r:n=r;return this._at(t,e)},numeric.dopri=function(t,e,n,r,i,o,a){void 0===i&&(i=1e-6),void 0===o&&(o=1e3);var s,u,c,l,h,f,p,d,m,_,g,v,y,b=[t],x=[n],w=[r(t,n)],k=[],M=[3/40,9/40],S=[44/45,-56/15,32/9],A=[19372/6561,-25360/2187,64448/6561,-212/729],T=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],E=[35/384,0,500/1113,125/192,-2187/6784,11/84],C=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,5618549.5/235043384],O=[.2,.3,.8,8/9,1,1],P=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40],j=0,N=(e-t)/10,I=0,R=numeric.add,D=numeric.mul,L=(Math,Math.min),q=Math.abs,V=numeric.norminf,z=Math.pow,U=numeric.any,F=numeric.lt,B=numeric.and,H=new numeric.Dopri(b,x,w,k,-1,"");for("function"==typeof a&&(g=a(t,n));t<e&&I<o;)if(++I,t+N>e&&(N=e-t),s=r(t+O[0]*N,R(n,D(.2*N,w[j]))),u=r(t+O[1]*N,R(R(n,D(M[0]*N,w[j])),D(M[1]*N,s))),c=r(t+O[2]*N,R(R(R(n,D(S[0]*N,w[j])),D(S[1]*N,s)),D(S[2]*N,u))),l=r(t+O[3]*N,R(R(R(R(n,D(A[0]*N,w[j])),D(A[1]*N,s)),D(A[2]*N,u)),D(A[3]*N,c))),h=r(t+O[4]*N,R(R(R(R(R(n,D(T[0]*N,w[j])),D(T[1]*N,s)),D(T[2]*N,u)),D(T[3]*N,c)),D(T[4]*N,l))),f=r(t+N,m=R(R(R(R(R(n,D(w[j],N*E[0])),D(u,N*E[2])),D(c,N*E[3])),D(l,N*E[4])),D(h,N*E[5]))),(_="number"==typeof(p=R(R(R(R(R(D(w[j],N*P[0]),D(u,N*P[2])),D(c,N*P[3])),D(l,N*P[4])),D(h,N*P[5])),D(f,N*P[6])))?q(p):V(p))>i){if(t+(N=.2*N*z(i/_,.25))===t){H.msg="Step size became too small";break}}else{if(k[j]=R(R(R(R(R(R(n,D(w[j],N*C[0])),D(u,N*C[2])),D(c,N*C[3])),D(l,N*C[4])),D(h,N*C[5])),D(f,N*C[6])),b[++j]=t+N,x[j]=m,w[j]=f,"function"==typeof a){var W,X,$=t,Y=t+.5*N;if(v=a(Y,k[j-1]),U(y=B(F(g,0),F(0,v)))||($=Y,g=v,v=a(Y=t+N,m),y=B(F(g,0),F(0,v))),U(y)){for(var G,K,Q=0,Z=1,J=1;;){if("number"==typeof g)X=(J*v*$-Z*g*Y)/(J*v-Z*g);else for(X=Y,d=g.length-1;-1!==d;--d)g[d]<0&&v[d]>0&&(X=L(X,(J*v[d]*$-Z*g[d]*Y)/(J*v[d]-Z*g[d])));if(X<=$||X>=Y)break;K=a(X,W=H._at(X,j-1)),U(G=B(F(g,0),F(0,K)))?(Y=X,v=K,y=G,J=1,-1===Q?Z*=.5:Z=1,Q=-1):($=X,g=K,Z=1,1===Q?J*=.5:J=1,Q=1)}return m=H._at(.5*(t+X),j-1),H.f[j]=r(X,W),H.x[j]=X,H.y[j]=W,H.ymid[j-1]=m,H.events=y,H.iterations=I,H}}t+=N,n=m,g=v,N=L(.8*N*z(i/_,.25),4*N)}return H.iterations=I,H},numeric.LU=function(t,e){e=e||!1;var n,r,i,o,a,s,u,c,l,h=Math.abs,f=t.length,p=f-1,d=new Array(f);for(e||(t=numeric.clone(t)),i=0;i<f;++i){for(u=i,l=h((s=t[i])[i]),r=i+1;r<f;++r)l<(o=h(t[r][i]))&&(l=o,u=r);for(d[i]=u,u!=i&&(t[i]=t[u],t[u]=s,s=t[i]),a=s[i],n=i+1;n<f;++n)t[n][i]/=a;for(n=i+1;n<f;++n){for(c=t[n],r=i+1;r<p;++r)c[r]-=c[i]*s[r],c[++r]-=c[i]*s[r];r===p&&(c[r]-=c[i]*s[r])}}return{LU:t,P:d}},numeric.LUsolve=function(t,e){var n,r,i,o,a,s=t.LU,u=s.length,c=numeric.clone(e),l=t.P;for(n=u-1;-1!==n;--n)c[n]=e[n];for(n=0;n<u;++n)for(i=l[n],l[n]!==n&&(a=c[n],c[n]=c[i],c[i]=a),o=s[n],r=0;r<n;++r)c[n]-=c[r]*o[r];for(n=u-1;n>=0;--n){for(o=s[n],r=n+1;r<u;++r)c[n]-=c[r]*o[r];c[n]/=o[n]}return c},numeric.solve=function(t,e,n){return numeric.LUsolve(numeric.LU(t,n),e)},numeric.echelonize=function(t){var e,n,r,i,o,a,s,u,c=numeric.dim(t),l=c[0],h=c[1],f=numeric.identity(l),p=Array(l),d=Math.abs,m=numeric.diveq;for(t=numeric.clone(t),e=0;e<l;++e){for(r=0,o=t[e],a=f[e],n=1;n<h;++n)d(o[r])<d(o[n])&&(r=n);for(p[e]=r,m(a,o[r]),m(o,o[r]),n=0;n<l;++n)if(n!==e){for(u=(s=t[n])[r],i=h-1;-1!==i;--i)s[i]-=o[i]*u;for(s=f[n],i=l-1;-1!==i;--i)s[i]-=a[i]*u}}return{I:f,A:t,P:p}},numeric.__solveLP=function(t,e,n,r,i,o,a){var s,u,c,l,h=numeric.sum,f=numeric.mul,p=numeric.sub,d=numeric.dot,m=numeric.div,_=numeric.add,g=t.length,v=n.length,y=!1,b=1,x=(numeric.transpose(e),numeric.transpose),w=Math.sqrt,k=Math.abs,M=Math.min,S=numeric.all,A=numeric.gt,T=Array(g),E=Array(v),C=(numeric.rep([v],1),numeric.solve),O=p(n,d(e,o)),P=d(t,t);for(c=0;c<i;++c){var j,N;for(j=v-1;-1!==j;--j)E[j]=m(e[j],O[j]);var I=x(E);for(j=g-1;-1!==j;--j)T[j]=h(I[j]);b=.25*k(P/d(t,T));var R=100*w(P/d(T,T));for((!isFinite(b)||b>R)&&(b=R),l=_(t,f(b,T)),u=d(I,E),j=g-1;-1!==j;--j)u[j][j]+=1;N=C(u,m(l,b),!0);var D=m(O,d(e,N)),L=1;for(j=v-1;-1!==j;--j)D[j]<0&&(L=M(L,-.999*D[j]));if(s=p(o,f(N,L)),!S(A(O=p(n,d(e,s)),0)))return{solution:o,message:"",iterations:c};if(o=s,b<r)return{solution:s,message:"",iterations:c};if(a){var q=d(t,l),V=d(e,l);for(y=!0,j=v-1;-1!==j;--j)if(q*V[j]<0){y=!1;break}}else y=!(o[g-1]>=0);if(y)return{solution:s,message:"Unbounded",iterations:c}}return{solution:o,message:"maximum iteration count exceeded",iterations:c}},numeric._solveLP=function(t,e,n,r,i){var o=t.length,a=n.length,s=numeric.sub,u=numeric.dot,c=numeric.rep([o],0).concat([1]),l=numeric.rep([a,1],-1),h=numeric.blockMatrix([[e,l]]),f=n,p=numeric.rep([o],0).concat(Math.max(0,numeric.sup(numeric.neg(n)))+1),d=numeric.__solveLP(c,h,f,r,i,p,!1),m=numeric.clone(d.solution);if(m.length=o,numeric.inf(s(n,u(e,m)))<0)return{solution:NaN,message:"Infeasible",iterations:d.iterations};var _=numeric.__solveLP(t,e,n,r,i-d.iterations,m,!0);return _.iterations+=d.iterations,_},numeric.solveLP=function(t,e,n,r,i,o,a){if(void 0===a&&(a=1e3),void 0===o&&(o=numeric.epsilon),void 0===r)return numeric._solveLP(t,e,n,o,a);var s,u=r.length,c=r[0].length,l=e.length,h=numeric.echelonize(r),f=numeric.rep([c],0),p=h.P,d=[];for(s=p.length-1;-1!==s;--s)f[p[s]]=1;for(s=c-1;-1!==s;--s)0===f[s]&&d.push(s);var m=numeric.getRange,_=numeric.linspace(0,u-1),g=numeric.linspace(0,l-1),v=m(r,_,d),y=m(e,g,p),b=m(e,g,d),x=numeric.dot,w=numeric.sub,k=x(y,h.I),M=w(b,x(k,v)),S=w(n,x(k,i)),A=Array(p.length),T=Array(d.length);for(s=p.length-1;-1!==s;--s)A[s]=t[p[s]];for(s=d.length-1;-1!==s;--s)T[s]=t[d[s]];var E=w(T,x(A,x(h.I,v))),C=numeric._solveLP(E,M,S,o,a),O=C.solution;if(O!=O)return C;var P=x(h.I,w(i,x(v,O))),j=Array(t.length);for(s=p.length-1;-1!==s;--s)j[p[s]]=P[s];for(s=d.length-1;-1!==s;--s)j[d[s]]=O[s];return{solution:j,message:C.message,iterations:C.iterations}},numeric.MPStoLP=function(t){function e(e){throw new Error("MPStoLP: "+e+"\nLine "+n+": "+t[n]+"\nCurrent state: "+s[a]+"\n")}t instanceof String&&t.split("\n");var n,r,i,o,a=0,s=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],u=t.length,c=0,l={},h=[],f=0,p={},d=0,m=[],_=[],g=[];for(n=0;n<u;++n){var v=(i=t[n]).match(/\S*/g),y=[];for(r=0;r<v.length;++r)""!==v[r]&&y.push(v[r]);if(0!==y.length){for(r=0;r<s.length&&i.substr(0,s[r].length)!==s[r];++r);if(r<s.length){if(a=r,1===r&&(o=y[1]),6===r)return{name:o,c:m,A:numeric.transpose(_),b:g,rows:l,vars:p}}else switch(a){case 0:case 1:e("Unexpected line");case 2:switch(y[0]){case"N":0===c?c=y[1]:e("Two or more N rows");break;case"L":l[y[1]]=f,h[f]=1,g[f]=0,++f;break;case"G":l[y[1]]=f,h[f]=-1,g[f]=0,++f;break;case"E":l[y[1]]=f,h[f]=0,g[f]=0,++f;break;default:e("Parse error "+numeric.prettyPrint(y))}break;case 3:p.hasOwnProperty(y[0])||(p[y[0]]=d,m[d]=0,_[d]=numeric.rep([f],0),++d);var b=p[y[0]];for(r=1;r<y.length;r+=2)if(y[r]!==c){var x=l[y[r]];_[b][x]=(h[x]<0?-1:1)*parseFloat(y[r+1])}else m[b]=parseFloat(y[r+1]);break;case 4:for(r=1;r<y.length;r+=2)g[l[y[r]]]=(h[l[y[r]]]<0?-1:1)*parseFloat(y[r+1]);break;case 5:break;case 6:e("Internal error")}}}e("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(t,e,n,r,i,o,a){function s(t){var e,r=this,i=t.length,o=0,a=r.i=r.j=r.m=0;for(r.S=[],r.c=[],i||(t=[i++]);o<n;)r.S[o]=o++;for(o=0;o<n;o++)a=l(a+(e=r.S[o])+t[o%i]),r.S[o]=r.S[a],r.S[a]=e;r.g=function(t){var e=r.S,i=l(r.i+1),o=e[i],a=l(r.j+o),s=e[a];e[i]=s,e[a]=o;for(var u=e[l(o+s)];--t;)i=l(i+1),s=e[a=l(a+(o=e[i]))],e[i]=s,e[a]=o,u=u*n+e[l(o+s)];return r.i=i,r.j=a,u},r.g(n)}function u(t,e,n,r,i){if(n=[],i=typeof t,e&&"object"==i)for(r in t)if(r.indexOf("S")<5)try{n.push(u(t[r],e-1))}catch(t){}return n.length?n:t+("string"!=i?"\0":"")}function c(t,e,n,r){for(t+="",n=0,r=0;r<t.length;r++)e[l(r)]=l((n^=19*e[l(r)])+t.charCodeAt(r));for(r in t="",e)t+=String.fromCharCode(e[r]);return t}function l(t){return 255&t}e.seedrandom=function(r,l){var h,f=[];return r=c(u(l?[r,t]:arguments.length?r:[(new Date).getTime(),t,window],3),f),c((h=new s(f)).S,t),e.random=function(){for(var t=h.g(6),e=a,r=0;t<i;)t=(t+r)*n,e*=n,r=h.g(1);for(;t>=o;)t/=2,e/=2,r>>>=1;return(t+r)/e},r},a=e.pow(n,6),i=e.pow(2,i),o=2*i,c(e.random(),t)}([],numeric.seedrandom,256,0,52),function(t){function e(t){if("object"!=typeof t)return t;var n,r=[],i=t.length;for(n=0;n<i;n++)r[n+1]=e(t[n]);return r}function n(t){if("object"!=typeof t)return t;var e,r=[],i=t.length;for(e=1;e<i;e++)r[e-1]=n(t[e]);return r}t.solveQP=function(t,r,i,o,a,s){t=e(t),r=e(r),i=e(i);var u,c,l,h,f,p=[],d=[],m=[],_=[],g=[];if(a=a||0,s=s?e(s):[void 0,0],o=o?e(o):[],c=t.length-1,l=i[1].length-1,!o)for(u=1;u<=l;u+=1)o[u]=0;for(u=1;u<=l;u+=1)d[u]=0;for(h=Math.min(c,l),u=1;u<=c;u+=1)m[u]=0;for(p[1]=0,u=1;u<=2*c+h*(h+5)/2+2*l+1;u+=1)_[u]=0;for(u=1;u<=2;u+=1)g[u]=0;return function(t,e,n,r,i,o,a,s,u,c,l,h,f,p,d,m){function _(){for(p[1]=p[1]+1,k=O,x=1;x<=c;x+=1){for(k+=1,D=-s[x],w=1;w<=r;w+=1)D+=a[w][x]*i[w];if(Math.abs(D)<H&&(D=0),x>l)d[k]=D;else if(d[k]=-Math.abs(D),D>0){for(w=1;w<=r;w+=1)a[w][x]=-a[w][x];s[x]=-s[x]}}for(x=1;x<=f;x+=1)d[O+h[x]]=0;for(j=0,R=0,x=1;x<=c;x+=1)d[O+x]<R*d[I+x]&&(j=x,R=d[O+x]/d[I+x]);return 0===j?999:0}function g(){for(x=1;x<=r;x+=1){for(D=0,w=1;w<=r;w+=1)D+=t[w][x]*a[w][j];d[x]=D}for(M=T,x=1;x<=r;x+=1)d[M+x]=0;for(w=f+1;w<=r;w+=1)for(x=1;x<=r;x+=1)d[M+x]=d[M+x]+t[x][w]*d[w];for(F=!0,x=f;x>=1;x-=1){for(D=d[x],M=(k=C+x*(x+3)/2)-x,w=x+1;w<=f;w+=1)D-=d[k]*d[E+w],k+=w;if(d[E+x]=D/=d[M],h[x]<l)break;if(D<0)break;F=!1,A=x}if(!F)for(L=d[P+A]/d[E+A],x=1;x<=f&&!(h[x]<l)&&!(d[E+x]<0);x+=1)(R=d[P+x]/d[E+x])<L&&(L=R,A=x);for(D=0,x=T+1;x<=T+r;x+=1)D+=d[x]*d[x];if(Math.abs(D)<=H){if(F)return m[1]=1,999;for(x=1;x<=f;x+=1)d[P+x]=d[P+x]-L*d[E+x];return d[P+f+1]=d[P+f+1]+L,700}for(D=0,x=1;x<=r;x+=1)D+=d[T+x]*a[x][j];for(q=-d[O+j]/D,B=!0,F||L<q&&(q=L,B=!1),x=1;x<=r;x+=1)i[x]=i[x]+q*d[T+x],Math.abs(i[x])<H&&(i[x]=0);for(o[1]=o[1]+q*D*(q/2+d[P+f+1]),x=1;x<=f;x+=1)d[P+x]=d[P+x]-q*d[E+x];if(d[P+f+1]=d[P+f+1]+q,!B){for(D=-s[j],w=1;w<=r;w+=1)D+=i[w]*a[w][j];if(j>l)d[O+j]=D;else if(d[O+j]=-Math.abs(D),D>0){for(w=1;w<=r;w+=1)a[w][j]=-a[w][j];s[j]=-s[j]}return 700}for(h[f+=1]=j,k=C+(f-1)*f/2+1,x=1;x<=f-1;x+=1)d[k]=d[x],k+=1;if(f===r)d[k]=d[r];else{for(x=r;x>=f+1&&0!==d[x]&&(V=Math.max(Math.abs(d[x-1]),Math.abs(d[x])),z=Math.min(Math.abs(d[x-1]),Math.abs(d[x])),R=d[x-1]>=0?Math.abs(V*Math.sqrt(1+z*z/(V*V))):-Math.abs(V*Math.sqrt(1+z*z/(V*V))),z=d[x]/R,1!=(V=d[x-1]/R));x-=1)if(0===V)for(d[x-1]=z*R,w=1;w<=r;w+=1)R=t[w][x-1],t[w][x-1]=t[w][x],t[w][x]=R;else for(d[x-1]=R,U=z/(1+V),w=1;w<=r;w+=1)t[w][x]=U*(t[w][x-1]+(R=V*t[w][x-1]+z*t[w][x]))-t[w][x],t[w][x-1]=R;d[k]=d[f]}return 0}function v(){if(0===d[M=(k=C+A*(A+1)/2+1)+A])return 798;if(V=Math.max(Math.abs(d[M-1]),Math.abs(d[M])),z=Math.min(Math.abs(d[M-1]),Math.abs(d[M])),R=d[M-1]>=0?Math.abs(V*Math.sqrt(1+z*z/(V*V))):-Math.abs(V*Math.sqrt(1+z*z/(V*V))),z=d[M]/R,1==(V=d[M-1]/R))return 798;if(0===V){for(x=A+1;x<=f;x+=1)R=d[M-1],d[M-1]=d[M],d[M]=R,M+=x;for(x=1;x<=r;x+=1)R=t[x][A],t[x][A]=t[x][A+1],t[x][A+1]=R}else{for(U=z/(1+V),x=A+1;x<=f;x+=1)d[M]=U*(d[M-1]+(R=V*d[M-1]+z*d[M]))-d[M],d[M-1]=R,M+=x;for(x=1;x<=r;x+=1)t[x][A+1]=U*(t[x][A]+(R=V*t[x][A]+z*t[x][A+1]))-t[x][A+1],t[x][A]=R}return 0}function y(){for(M=k-A,x=1;x<=A;x+=1)d[M]=d[k],k+=1,M+=1;return d[P+A]=d[P+A+1],h[A]=h[A+1],(A+=1)<f?797:0}function b(){return d[P+f]=d[P+f+1],d[P+f+1]=0,h[f]=0,f-=1,p[2]=p[2]+1,0}var x,w,k,M,S,A,T,E,C,O,P,j,N,I,R,D,L,q,V,z,U,F,B,H,W,X,$;N=Math.min(r,c),k=2*r+N*(N+5)/2+2*c+1,H=1e-60;do{W=1+.1*(H+=H),X=1+.2*H}while(W<=1||X<=1);for(x=1;x<=r;x+=1)d[x]=e[x];for(x=r+1;x<=k;x+=1)d[x]=0;for(x=1;x<=c;x+=1)h[x]=0;if(S=[],0===m[1]){if(function(t,e,n,r){var i,o,a,s,u,c;for(o=1;o<=n;o+=1){if(r[1]=o,c=0,(a=o-1)<1){if((c=t[o][o]-c)<=0)break;t[o][o]=Math.sqrt(c)}else{for(s=1;s<=a;s+=1){for(u=t[s][o],i=1;i<s;i+=1)u-=t[i][o]*t[i][s];t[s][o]=u/=t[s][s],c+=u*u}if((c=t[o][o]-c)<=0)break;t[o][o]=Math.sqrt(c)}r[1]=0}}(t,0,r,S),0!==S[1])return void(m[1]=2);!function(t,e,n,r){var i,o,a,s;for(o=1;o<=n;o+=1){for(s=0,i=1;i<o;i+=1)s+=t[i][o]*r[i];r[o]=(r[o]-s)/t[o][o]}for(a=1;a<=n;a+=1)for(r[o=n+1-a]=r[o]/t[o][o],s=-r[o],i=1;i<o;i+=1)r[i]=r[i]+s*t[i][o]}(t,0,r,e),function(t,e,n){var r,i,o,a,s;for(o=1;o<=n;o+=1){for(t[o][o]=1/t[o][o],s=-t[o][o],r=1;r<o;r+=1)t[r][o]=s*t[r][o];if(n<(a=o+1))break;for(i=a;i<=n;i+=1)for(s=t[o][i],t[o][i]=0,r=1;r<=o;r+=1)t[r][i]=t[r][i]+s*t[r][o]}}(t,0,r)}else{for(w=1;w<=r;w+=1)for(i[w]=0,x=1;x<=w;x+=1)i[w]=i[w]+t[x][w]*e[x];for(w=1;w<=r;w+=1)for(e[w]=0,x=w;x<=r;x+=1)e[w]=e[w]+t[w][x]*i[x]}for(o[1]=0,w=1;w<=r;w+=1)for(i[w]=e[w],o[1]=o[1]+d[w]*i[w],d[w]=0,x=w+1;x<=r;x+=1)t[x][w]=0;for(o[1]=-o[1]/2,m[1]=0,I=(O=(C=(P=(E=(T=r)+r)+N)+N+1)+N*(N+1)/2)+c,x=1;x<=c;x+=1){for(D=0,w=1;w<=r;w+=1)D+=a[w][x]*a[w][x];d[I+x]=Math.sqrt(D)}for(f=0,p[1]=0,p[2]=0,$=0;;){if(999===($=_()))return;for(;0!==($=g());){if(999===$)return;if(700===$)if(A===f)b();else{for(;v(),797===($=y()););b()}}}}(t,r,0,c,m,p,i,o,0,l,a,d,0,g,_,s),f="",1===s[1]&&(f="constraints are inconsistent, no solution!"),2===s[1]&&(f="matrix D in quadratic function is not positive definite!"),{solution:n(m),value:n(p),unconstrained_solution:n(r),iterations:n(g),iact:n(d),message:f}}}(numeric),numeric.svd=function(t){function e(t,e){return(t=Math.abs(t))>(e=Math.abs(e))?t*Math.sqrt(1+e*e/t/t):0===e?t:e*Math.sqrt(1+t*t/e/e)}var n,r=numeric.epsilon,i=1e-64/r,o=0,a=0,s=0,u=0,c=0,l=numeric.clone(t),h=l.length,f=l[0].length;if(h<f)throw"Need more rows than columns";var p=new Array(f),d=new Array(f);for(a=0;a<f;a++)p[a]=d[a]=0;var m=numeric.rep([f,f],0),_=0,g=0,v=0,y=0,b=0,x=0,w=0;for(a=0;a<f;a++){for(p[a]=g,w=0,c=a+1,s=a;s<h;s++)w+=l[s][a]*l[s][a];if(w<=i)g=0;else for(_=l[a][a],g=Math.sqrt(w),_>=0&&(g=-g),v=_*g-w,l[a][a]=_-g,s=c;s<f;s++){for(w=0,u=a;u<h;u++)w+=l[u][a]*l[u][s];for(_=w/v,u=a;u<h;u++)l[u][s]+=_*l[u][a]}for(d[a]=g,w=0,s=c;s<f;s++)w+=l[a][s]*l[a][s];if(w<=i)g=0;else{for(_=l[a][a+1],g=Math.sqrt(w),_>=0&&(g=-g),v=_*g-w,l[a][a+1]=_-g,s=c;s<f;s++)p[s]=l[a][s]/v;for(s=c;s<h;s++){for(w=0,u=c;u<f;u++)w+=l[s][u]*l[a][u];for(u=c;u<f;u++)l[s][u]+=w*p[u]}}(b=Math.abs(d[a])+Math.abs(p[a]))>y&&(y=b)}for(a=f-1;-1!==a;a+=-1){if(0!==g){for(v=g*l[a][a+1],s=c;s<f;s++)m[s][a]=l[a][s]/v;for(s=c;s<f;s++){for(w=0,u=c;u<f;u++)w+=l[a][u]*m[u][s];for(u=c;u<f;u++)m[u][s]+=w*m[u][a]}}for(s=c;s<f;s++)m[a][s]=0,m[s][a]=0;m[a][a]=1,g=p[a],c=a}for(a=f-1;-1!==a;a+=-1){for(g=d[a],s=c=a+1;s<f;s++)l[a][s]=0;if(0!==g){for(v=l[a][a]*g,s=c;s<f;s++){for(w=0,u=c;u<h;u++)w+=l[u][a]*l[u][s];for(_=w/v,u=a;u<h;u++)l[u][s]+=_*l[u][a]}for(s=a;s<h;s++)l[s][a]=l[s][a]/g}else for(s=a;s<h;s++)l[s][a]=0;l[a][a]+=1}for(r*=y,u=f-1;-1!==u;u+=-1){var k=!1;for(c=u;-1!==c;c+=-1){if(Math.abs(p[c])<=r){k=!0;break}if(Math.abs(d[c-1])<=r)break}if(!k){o=0,w=1;var M=c-1;for(a=c;a<u+1&&(_=w*p[a],p[a]=o*p[a],!(Math.abs(_)<=r));a++)for(v=e(_,g=d[a]),d[a]=v,o=g/v,w=-_/v,s=0;s<h;s++)l[s][M]=(b=l[s][M])*o+(x=l[s][a])*w,l[s][a]=-b*w+x*o}if(x=d[u],c===u){if(x<0)for(d[u]=-x,s=0;s<f;s++)m[s][u]=-m[s][u];break}for(y=d[c],g=e(_=(((b=d[u-1])-x)*(b+x)+((g=p[u-1])-(v=p[u]))*(g+v))/(2*v*b),1),_=_<0?((y-x)*(y+x)+v*(b/(_-g)-v))/y:((y-x)*(y+x)+v*(b/(_+g)-v))/y,o=1,w=1,a=c+1;a<u+1;a++){for(b=d[a],v=w*(g=p[a]),g*=o,x=e(_,v),p[a-1]=x,_=y*(o=_/x)+g*(w=v/x),g=-y*w+g*o,v=b*w,b*=o,s=0;s<f;s++)m[s][a-1]=(y=m[s][a-1])*o+(x=m[s][a])*w,m[s][a]=-y*w+x*o;for(x=e(_,v),d[a-1]=x,_=(o=_/x)*g+(w=v/x)*b,y=-w*g+o*b,s=0;s<h;s++)l[s][a-1]=(b=l[s][a-1])*o+(x=l[s][a])*w,l[s][a]=-b*w+x*o}p[c]=0,p[u]=_,d[u]=y}for(a=0;a<d.length;a++)d[a]<r&&(d[a]=0);for(a=0;a<f;a++)for(s=a-1;s>=0;s--)if(d[s]<d[a]){for(o=d[s],d[s]=d[a],d[a]=o,u=0;u<l.length;u++)n=l[u][a],l[u][a]=l[u][s],l[u][s]=n;for(u=0;u<m.length;u++)n=m[u][a],m[u][a]=m[u][s],m[u][s]=n;a=s}return m};var A=[[22,10,2,3,7],[14,7,10,0,8],[1,13,1,11,3],[3,2,13,2,4],[9,8,1,2,4],[9,1,7,5,1],[2,6,6,5,1],[4,5,0,2,2]]}},__webpack_module_cache__={};__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{function t(){for(var t,n=0,r=arguments.length,i={};n<r;++n){if(!(t=arguments[n]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new e(i)}function e(t){this._=t}function n(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function r(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Or,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function i(){}function o(t){return null==t?i:function(){return this.querySelector(t)}}function a(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function s(){return[]}function u(t){return null==t?s:function(){return this.querySelectorAll(t)}}function c(t){return function(){return this.matches(t)}}function l(t){return function(e){return e.matches(t)}}function h(){return this.firstElementChild}function f(){return this.children}function p(t){return new Array(t.length)}function d(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function m(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new d(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function _(t,e,n,r,i,o,a){var s,u,c,l=new Map,h=e.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=c=a.call(u,u.__data__,s,e)+"",l.has(c)?i[s]=u:l.set(c,u));for(s=0;s<f;++s)c=a.call(t,o[s],s,o)+"",(u=l.get(c))?(r[s]=u,u.__data__=o[s],l.delete(c)):n[s]=new d(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&l.get(p[s])===u&&(i[s]=u)}function g(t){return t.__data__}function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function y(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Rr.hasOwnProperty(e)?{space:Rr[e],local:t}:t}function b(t){return function(){this.removeAttribute(t)}}function x(t){return function(){this.removeAttributeNS(t.space,t.local)}}function w(t,e){return function(){this.setAttribute(t,e)}}function k(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function M(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function S(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function A(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function T(t){return function(){this.style.removeProperty(t)}}function E(t,e,n){return function(){this.style.setProperty(t,e,n)}}function C(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function O(t,e){return t.style.getPropertyValue(e)||A(t).getComputedStyle(t,null).getPropertyValue(e)}function P(t){return function(){delete this[t]}}function j(t,e){return function(){this[t]=e}}function N(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function I(t){return t.trim().split(/^|\s+/)}function R(t){return t.classList||new D(t)}function D(t){this._node=t,this._names=I(t.getAttribute("class")||"")}function L(t,e){for(var n=R(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function q(t,e){for(var n=R(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function V(t){return function(){L(this,t)}}function z(t){return function(){q(this,t)}}function U(t,e){return function(){(e.apply(this,arguments)?L:q)(this,t)}}function F(){this.textContent=""}function B(t){return function(){this.textContent=t}}function H(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function W(){this.innerHTML=""}function X(t){return function(){this.innerHTML=t}}function $(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Y(){this.nextSibling&&this.parentNode.appendChild(this)}function G(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ir&&e.documentElement.namespaceURI===Ir?e.createElement(t):e.createElementNS(n,t)}}function Q(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Z(t){var e=y(t);return(e.local?Q:K)(e)}function J(){return null}function tt(){var t=this.parentNode;t&&t.removeChild(this)}function et(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function nt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function rt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function it(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function ot(t,e,n){var r=A(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function at(t,e){return function(){return ot(this,t,e)}}function st(t,e){return function(){return ot(this,t,e.apply(this,arguments))}}function ut(t,e){this._groups=t,this._parents=e}function ct(){return new ut([[document.documentElement]],Dr)}function lt(t){return"string"==typeof t?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],Dr)}function ht(t){t.stopImmediatePropagation()}function ft(t){t.preventDefault(),t.stopImmediatePropagation()}function pt(t){var e=t.document.documentElement,n=lt(t).on("dragstart.drag",ft,!0);"onselectstart"in e?n.on("selectstart.drag",ft,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function dt(t,e){var n=t.document.documentElement,r=lt(t).on("dragstart.drag",null);e&&(r.on("click.drag",ft,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function mt(t){return((t=Math.exp(t))+1/t)/2}function _t(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function gt(){return Wr||(Yr(vt),Wr=$r.now()+Xr)}function vt(){Wr=0}function yt(){this._call=this._time=this._next=null}function bt(t,e,n){var r=new yt;return r.restart(t,e,n),r}function xt(){Wr=(Hr=$r.now())+Xr,Ur=Fr=0;try{!function(){gt(),++Ur;for(var t,e=Vr;e;)(t=Wr-e._time)>=0&&e._call.call(null,t),e=e._next;--Ur}()}finally{Ur=0,function(){for(var t,e,n=Vr,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Vr=e);zr=t,kt(r)}(),Wr=0}}function wt(){var t=$r.now(),e=t-Hr;e>1e3&&(Xr-=e,Hr=t)}function kt(t){Ur||(Fr&&(Fr=clearTimeout(Fr)),t-Wr>24?(t<1/0&&(Fr=setTimeout(xt,t-$r.now()-Xr)),Br&&(Br=clearInterval(Br))):(Br||(Hr=$r.now(),Br=setInterval(wt,1e3)),Ur=1,Yr(xt)))}function Mt(t,e,n){var r=new yt;return r.restart((n=>{r.stop(),t(n+e)}),e=null==e?0:+e,n),r}function St(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){function r(u){var c,l,h,f;if(1!==n.state)return o();for(c in s)if((f=s[c]).name===n.name){if(3===f.state)return Mt(r);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete s[c]):+c<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete s[c])}if(Mt((function(){3===n.state&&(n.state=4,n.timer.restart(i,n.delay,n.time),i(u))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,a=new Array(h=n.tween.length),c=0,l=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(a[++l]=f);a.length=l+1}}function i(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(o),n.state=5,1),i=-1,s=a.length;++i<s;)a[i].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),o())}function o(){for(var r in n.state=6,n.timer.stop(),delete s[e],s)return;delete t.__transition}var a,s=t.__transition;s[e]=n,n.timer=bt((function(t){n.state=1,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Kr,tween:Qr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function At(t,e){var n=Et(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Tt(t,e){var n=Et(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Et(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ct(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function Ot(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Pt(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Zr,skewX:Math.atan(u)*Zr,scaleX:a,scaleY:s}}function jt(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Ot(t,i)},{i:u-2,x:Ot(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Ot(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Ot(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Ot(t,n)},{i:s-2,x:Ot(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}function Nt(t,e){var n,r;return function(){var i=Tt(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function It(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Tt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function Rt(t,e,n){var r=t._id;return t.each((function(){var t=Tt(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Et(t,r).value[e]}}function Dt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Lt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qt(){}function Vt(){return this.rgb().formatHex()}function zt(){return this.rgb().formatRgb()}function Ut(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=si.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ft(e):3===n?new Wt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Bt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Bt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ui.exec(t))?new Wt(e[1],e[2],e[3],1):(e=ci.exec(t))?new Wt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=li.exec(t))?Bt(e[1],e[2],e[3],e[4]):(e=hi.exec(t))?Bt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=fi.exec(t))?Gt(e[1],e[2]/100,e[3]/100,1):(e=pi.exec(t))?Gt(e[1],e[2]/100,e[3]/100,e[4]):di.hasOwnProperty(t)?Ft(di[t]):"transparent"===t?new Wt(NaN,NaN,NaN,0):null}function Ft(t){return new Wt(t>>16&255,t>>8&255,255&t,1)}function Bt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wt(t,e,n,r)}function Ht(t,e,n,r){return 1===arguments.length?function(t){return t instanceof qt||(t=Ut(t)),t?new Wt((t=t.rgb()).r,t.g,t.b,t.opacity):new Wt}(t):new Wt(t,e,n,null==r?1:r)}function Wt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Xt(){return"#"+Yt(this.r)+Yt(this.g)+Yt(this.b)}function $t(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Yt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Gt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qt(t,e,n,r)}function Kt(t){if(t instanceof Qt)return new Qt(t.h,t.s,t.l,t.opacity);if(t instanceof qt||(t=Ut(t)),!t)return new Qt;if(t instanceof Qt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Qt(a,s,u,t.opacity)}function Qt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Zt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Jt(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function te(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):mi(isNaN(t)?e:t)}function ee(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ht(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}function ne(t,e){var n,r,i,o=gi.lastIndex=vi.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=gi.exec(t))&&(r=vi.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Ot(n,r)})),o=vi.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function re(t,e){var n;return("number"==typeof e?Ot:e instanceof Ut?_i:(n=Ut(e))?(e=n,_i):ne)(t,e)}function ie(t){return function(){this.removeAttribute(t)}}function oe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ae(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function se(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function ue(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function ce(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function le(t,e){function n(){var n=e.apply(this,arguments);return n!==i&&(r=(i=n)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,n)),r}var r,i;return n._value=e,n}function he(t,e){function n(){var n=e.apply(this,arguments);return n!==i&&(r=(i=n)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,n)),r}var r,i;return n._value=e,n}function fe(t,e){return function(){At(this,t).delay=+e.apply(this,arguments)}}function pe(t,e){return e=+e,function(){At(this,t).delay=e}}function de(t,e){return function(){Tt(this,t).duration=+e.apply(this,arguments)}}function me(t,e){return e=+e,function(){Tt(this,t).duration=e}}function _e(t){return function(){this.style.removeProperty(t)}}function ge(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ve(){return++bi}function ye(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function be(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function xe(t,e,n){this.k=t,this.x=e,this.y=n}function we(t){t.stopImmediatePropagation()}function ke(t){t.preventDefault(),t.stopImmediatePropagation()}function Me(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Se(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Ae(){return this.__zoom||Mi}function Te(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ee(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ce(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Oe(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Pe(){return new Oe}function je(t){return function(){return t}}function Ne(t){this._context=t}function Ie(t){return new Ne(t)}function Re(t){return t[0]}function De(t){return t[1]}function Le(t,e){function n(n){var s,u,c,l=(n=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(n)).length,h=!1;for(null==i&&(a=o(c=Ci())),s=0;s<=l;++s)!(s<l&&r(u=n[s],s,n))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(u,s,n),+e(u,s,n));if(c)return a=null,c+""||null}var r=je(!0),i=null,o=Ie,a=null;return t="function"==typeof t?t:void 0===t?Re:je(t),e="function"==typeof e?e:void 0===e?De:je(e),n.x=function(e){return arguments.length?(t="function"==typeof e?e:je(+e),n):t},n.y=function(t){return arguments.length?(e="function"==typeof t?t:je(+t),n):e},n.defined=function(t){return arguments.length?(r="function"==typeof t?t:je(!!t),n):r},n.curve=function(t){return arguments.length?(o=t,null!=i&&(a=o(i)),n):o},n.context=function(t){return arguments.length?(null==t?i=a=null:a=o(i=t),n):i},n}function qe(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Ve(){function t(t){var o=t+"",a=e.get(o);if(!a){if(i!==Pi)return i;e.set(o,a=n.push(t))}return r[(a-1)%r.length]}var e=new Map,n=[],r=[],i=Pi;return t.domain=function(r){if(!arguments.length)return n.slice();n=[],e=new Map;for(const t of r){const r=t+"";e.has(r)||e.set(r,n.push(t))}return t},t.range=function(e){return arguments.length?(r=Array.from(e),t):r.slice()},t.unknown=function(e){return arguments.length?(i=e,t):i},t.copy=function(){return Ve(n,r).unknown(i)},qe.apply(t,arguments),t}function ze(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}function Ue(t){return!t.ctrlKey&&!t.button}function Fe(){return this.parentNode}function Be(t,e){return null==e?{x:t.x,y:t.y}:e}function He(){return navigator.maxTouchPoints||"ontouchstart"in this}function We(t,e){var n=0;if(t.length!==e.length)throw"Error: tow arrays do not have the same length";for(var r=0;r<t.length;r++)n+=Math.pow(t[r]-e[r],2);return Math.sqrt(n)}function Xe(t,e){if(t.length===e.length){var n=$e(t),r=$e(e);return function(t,e,n,r){for(var i=0,o=0;o<t.length;o++)i+=(t[o]-n)*(e[o]-r);return i}(t,e,n,r)/function(t,e,n,r){for(var i=0,o=0,a=0;a<t.length;a++)i+=(t[a]-n)*(t[a]-n);for(var s=0;s<e.length;s++)o+=(e[s]-r)*(e[s]-r);return Math.sqrt(i*o)}(t,e,n,r)}throw"Errors in similarity calculation"}function $e(t){return Ye(t)/t.length}function Ye(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function Ge(t,e){var n=[];if(e>=t[0].length||e<0)alert("wrong column number:"+e);else for(var r=0;r<t.length;r++)n.push(t[r][e]);return n}function Ke(t,e){var n=[];if(e>=t[0].length||e<0)alert("wrong column number:"+e);else for(var r=1;r<t.length;r++)n.push(Number(t[r][e]));return n}function Qe(t,e="0"){for(var n=new Array(t[0].length-1),r=0;r<t[0].length-1;r++){n[r]=new Array(t[0].length-1);for(var i=0;i<r;i++)n[r][i]=Math.abs(Xe(Ke(t,r+1),Ke(t,i+1))),n[i][r]=Math.abs(Xe(Ke(t,r+1),Ke(t,i+1)))}for(Ze(n),r=0;r<t[0].length-1;r++)for(i=r;i<n.length;i++)n[r][i]="12"!==e?-1:2;return console.log(n),n}function Ze(t){for(var e=t[1][0],n=1,r=0,i=0;i<t.length;i++)for(var o=0;o<i;o++)t[i][o]>e&&(e=t[i][o],n=i,r=o);return[n,r,e]}function Je(t){for(var e=t[1][0],n=1,r=0,i=0;i<t.length;i++)for(var o=0;o<i;o++)t[i][o]<e&&(e=t[i][o],n=i,r=o);return[n,r,e]}function tn(t){for(var e=t[0],n=0,r=0;r<t.length;r++)t[r]>e&&(n=r,e=t[r]);return[n,e]}function en(t){for(var e=t[0],n=0,r=0;r<t.length;r++)t[r]<e&&(n=r,e=t[r]);return[n,e]}function nn(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[n]instanceof Array?nn(t[n]):t[n];return e}function rn(t){for(var e=nn(t),n=0;n<t.length;n++)e[n].splice(0,1);e.splice(0,1);for(var r=0;r<e.length;r++)for(var i=0;i<e[0].length;i++)e[r][i]=Number(e[r][i]);return e}function on(t){var e=[];return function t(n,r){r=r||[];for(var i,o=0;o<n.length;o++)i=n.splice(o,1),0===n.length&&e.push(r.concat(i)),t(n.slice(),r.concat(i)),n.splice(o,0,i[0]);return e}(t)}function an(t,e){var n,r,i,o,a;if(e>t.length||e<=0)return[];if(e==t.length)return[t];if(1==e){for(i=[],n=0;n<t.length;n++)i.push([t[n]]);return i}for(i=[],n=0;n<t.length-e+1;n++)for(o=t.slice(n,n+1),a=an(t.slice(n+1),e-1),r=0;r<a.length;r++)i.push(o.concat(a[r]));return i}function sn(t,e,n,r,i){if(e>=t.length)throw"Error: Wrong index";for(var o=!0,a=[t[e][r],t[e][i]],s=0;s<t.length;s++)s!==e&&We(a,[t[s][r],t[s][i]])<n&&(o=!1);return o}function un(t,e){for(var n=0,r=0;r<e.length-1;r++)n+=cn(t,e[r],e[r+1]);return n}function cn(t,e,n){for(var r=t[0],i=0,o=0;o<r.length;o++)(r[o][0]===e&&r[o][1]===n||r[o][0]===n&&r[o][1]===e)&&(i=t[1][o]);return i}function ln(t,e){Ze(t);var n,r,i,o,a=-1,s=e[0],u=e[e.length-1];if(tn(t[s])[1]>tn(Ge(t,s))[1]?(n=tn(t[s])[0],r=t[s][n]):r=t[n=tn(Ge(t,s))[0]][s],tn(t[u])[1]>tn(Ge(t,u))[1]?(i=tn(t[u])[0],o=t[u][i]):o=t[i=tn(Ge(t,u))[0]][u],r>o){e.unshift(n);for(var c=0;c<t.length;c++)t[s][c]=a;for(var l=0;l<t.length;l++)t[l][s]=a;t[n][u]=a,t[u][n]=a}else{for(e.push(i),c=0;c<t.length;c++)t[u][c]=a;for(l=0;l<t.length;l++)t[l][u]=a;t[s][i]=a,t[i][s]=a}return e}function hn(t){var e=Ni.u.svd(t);console.log("svd",t);for(var n=Ge(e,0),r=Ye(n),i=new Array(n.length),o=0;o<n.length;o++)i[o]=n[o]/r;return console.log(i),i}function fn(t,e){var n;if("undefined"==(n=t<e?"a":t>e?"c":"b"))throw"Errors in slope classification";return n}function pn(t,e){for(var n=0,r=1;r<t.length;r++)t[r]===e&&n++;return n}function dn(t,e){for(var n=0,r=0;r<e.length-1;r++)n+=mn(t,e[r],e[r+1]);if(0===n)throw"Error in score calculation";return n}function mn(t,e,n){for(var r=t[0],i=0,o=0;o<r.length;o++)if(r[o][0]===e&&r[o][1]===n||r[o][0]===n&&r[o][1]===e)for(var a=Ge(t,o),s=1;s<a.length;s++)a[s]>i&&(i=a[s]);if(0===i)throw"Error in frequency calculation.";return i}function _n(t,e){for(var n=0,r=0;r<t.length-1;r++)n+=gn(t[r],t[r+1],e);return n}function gn(t,e,n){var r,i;if(t>e)r=t,i=e;else{if(!(t<e))throw"Error: two identical dimensions."+t+e;r=e,i=t}return n[r][i]}function vn(t,e){for(var n=[],r=0;r<t.length-1;r++)n.push(gn(t[r],t[r+1],e));return function(t){for(var e=0,n=0,r=0;r<t.length;r++)""===t[r]||(e+=1,n+=parseFloat(t[r]));var i=0;if(e>1){var o=n/e;for(r=0;r<t.length;r++)""===t[r]||(i+=(t[r]-o)*(t[r]-o));return i/e}return 0}(n)}function yn(t,e){var n,r,i,o,a=e[0],s=e[e.length-1];if(en(t[a])[1]<en(Ge(t,a))[1]?(n=en(t[a])[0],r=t[a][n]):r=t[n=en(Ge(t,a))[0]][a],en(t[s])[1]<en(Ge(t,s))[1]?(i=en(t[s])[0],o=t[s][i]):o=t[i=en(Ge(t,s))[0]][s],r<o){e.unshift(n);for(var u=0;u<t.length;u++)t[a][u]=2;for(var c=0;c<t.length;c++)t[c][a]=2;t[n][s]=2,t[s][n]=2}else{for(e.push(i),u=0;u<t.length;u++)t[s][u]=2;for(c=0;c<t.length;c++)t[c][s]=2;t[a][i]=2,t[i][a]=2}return e}function bn(){}function xn(t,e){var n=new bn;if(t instanceof bn)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function wn(){}function kn(t){var e=[];for(var n in t)e.push(n);return e}function Mn(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Li?10:o>=qi?5:o>=Vi?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Li?10:o>=qi?5:o>=Vi?2:1)}function Sn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function An(t){function e(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){const o=n+i>>>1;r(t[o],e)<0?n=o+1:i=o}return n}let n=t,r=t;return 1===t.length&&(n=(e,n)=>t(e)-n,r=function(t){return(e,n)=>Sn(t(e),n)}(t)),{left:e,center:function(t,r,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=e(t,r,i,o-1);return a>i&&n(t[a-1],r)>-n(t[a],r)?a-1:a},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){const o=n+i>>>1;r(t[o],e)>0?i=o:n=o+1}return n}}}function Tn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Pn(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function En(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Cn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Pn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}function On(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Pn(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?mi(e):("number"===i?Ot:"string"===i?(n=Ut(e))?(e=n,_i):ne:e instanceof Ut?_i:e instanceof Date?En:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Tn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Cn:Ot:On))(t,e)}function jn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Nn(t){return+t}function In(t){return t}function Rn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Dn(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Rn(i,r),o=n(a,o)):(r=Rn(r,i),o=n(o,a)),function(t){return o(r(t))}}function Ln(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Rn(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Fi(t,e,1,r)-1;return o[n](i[n](e))}}function qn(t){if(!(e=Wi.exec(t)))throw new Error("invalid format: "+t);var e;return new Vn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Vn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function zn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Un(t){return(t=zn(Math.abs(t)))?t[1]:NaN}function Fn(t,e){var n=zn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function Bn(t){return t}function Hn(){var t=function(){function t(){var t,n,r,i=Math.min(u.length,c.length);return h!==In&&((t=u[0])>(n=u[i-1])&&(r=t,t=n,n=r),h=function(e){return Math.max(t,Math.min(n,e))}),o=i>2?Ln:Dn,a=s=null,e}function e(t){return null==t||isNaN(t=+t)?i:(a||(a=o(u.map(n),c,l)))(n(h(t)))}var n,r,i,o,a,s,u=Hi,c=Hi,l=Pn,h=In;return e.invert=function(t){return h(r((s||(s=o(c,u.map(n),Ot)))(t)))},e.domain=function(e){return arguments.length?(u=Array.from(e,Nn),t()):u.slice()},e.range=function(e){return arguments.length?(c=Array.from(e),t()):c.slice()},e.rangeRound=function(e){return c=Array.from(e),l=jn,t()},e.clamp=function(e){return arguments.length?(h=!!e||In,t()):h!==In},e.interpolate=function(e){return arguments.length?(l=e,t()):l},e.unknown=function(t){return arguments.length?(i=t,e):i},function(e,i){return n=e,r=i,t()}}()(In,In);return t.copy=function(){return function(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}(t,Hn())},qe.apply(t,arguments),function(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Mn(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Li?i*=10:o>=qi?i*=5:o>=Vi&&(i*=2),e<t?-i:i}(t,e,n);switch((r=qn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Un(e)/3)))-Un(Math.abs(t)))}(o,a))||(r.precision=i),Gi(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Un(e)-Un(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Un(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Yi(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,u=o[a],c=o[s],l=10;for(c<u&&(i=u,u=c,c=i,i=a,a=s,s=i);l-- >0;){if((i=Mn(u,c,n))===r)return o[a]=u,o[s]=c,e(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}(t)}function Wn(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Xn(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}function $n(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Yn(t){t.preventDefault(),t.stopImmediatePropagation()}function Gn(t){return[+t[0],+t[1]]}function Kn(t){return[Gn(t[0]),Gn(t[1])]}function Qn(t){return{type:t}}function Zn(t){return!t.ctrlKey&&!t.button}function Jn(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function tr(){return navigator.maxTouchPoints||"ontouchstart"in this}function er(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function nr(){return function(t){function e(e){var r=e.property("__brush",u).selectAll(".overlay").data([Qn("overlay")]);r.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",uo.overlay).merge(r).each((function(){var t=er(this).extent;lt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([Qn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",uo.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return uo[t.type]})),e.each(n).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",o).filter(f).on("touchstart.brush",o).on("touchmove.brush",a).on("touchend.brush touchcancel.brush",s).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){var t=lt(this),e=er(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-m/2:e[0][0]-m/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-m/2:e[0][1]-m/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+m:m})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+m:m}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function r(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new i(t,e,n):r}function i(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function o(e){function i(t){for(const e of t.changedTouches||[t])for(const t of D)t.identifier===e.identifier&&(t.cur=_t(e,x));if(R&&!y&&!b&&1===D.length){const t=D[0];ro(t.cur[0]-t[0])>ro(t.cur[1]-t[1])?b=!0:y=!0}for(const t of D)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);v=!0,Yn(t),o(t)}function o(t){const e=D[0],r=e.point0;var i;switch(N=e[0]-r[0],I=e[1]-r[1],k){case to:case Ji:M&&(N=io(C-s,oo(P-d,N)),u=s+N,m=d+N),S&&(I=io(O-l,oo(j-_,I)),f=l+I,g=_+I);break;case eo:D[1]?(M&&(u=io(C,oo(P,D[0][0])),m=io(C,oo(P,D[1][0])),M=1),S&&(f=io(O,oo(j,D[0][1])),g=io(O,oo(j,D[1][1])),S=1)):(M<0?(N=io(C-s,oo(P-s,N)),u=s+N,m=d):M>0&&(N=io(C-d,oo(P-d,N)),u=s,m=d+N),S<0?(I=io(O-l,oo(j-l,I)),f=l+I,g=_):S>0&&(I=io(O-_,oo(j-_,I)),f=l,g=_+I));break;case no:M&&(u=io(C,oo(P,s-N*M)),m=io(C,oo(P,d+N*M))),S&&(f=io(O,oo(j,l-I*S)),g=io(O,oo(j,_+I*S)))}m<u&&(M*=-1,i=s,s=d,d=i,i=u,u=m,m=i,w in co&&q.attr("cursor",uo[w=co[w]])),g<f&&(S*=-1,i=l,l=_,_=i,i=f,f=g,g=i,w in lo&&q.attr("cursor",uo[w=lo[w]])),A.selection&&(E=A.selection),y&&(u=E[0][0],m=E[1][0]),b&&(f=E[0][1],g=E[1][1]),E[0][0]===u&&E[0][1]===f&&E[1][0]===m&&E[1][1]===g||(A.selection=[[u,f],[m,g]],n.call(x),V.brush(t,k.name))}function a(t){if(function(t){t.stopImmediatePropagation()}(t),t.touches){if(t.touches.length)return;c&&clearTimeout(c),c=setTimeout((function(){c=null}),500)}else dt(t.view,v),z.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),q.attr("cursor",uo.overlay),A.selection&&(E=A.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(E)&&(A.selection=null,n.call(x)),V.end(t,k.name)}if((!c||e.touches)&&h.apply(this,arguments)){var s,u,l,f,d,m,_,g,v,y,b,x=this,w=e.target.__data__.type,k="selection"===(p&&e.metaKey?w="overlay":w)?Ji:p&&e.altKey?no:eo,M=t===so?null:ho[w],S=t===ao?null:fo[w],A=er(x),T=A.extent,E=A.selection,C=T[0][0],O=T[0][1],P=T[1][0],j=T[1][1],N=0,I=0,R=M&&S&&p&&e.shiftKey,D=Array.from(e.touches||[e],(t=>{const e=t.identifier;return(t=_t(t,x)).point0=t.slice(),t.identifier=e,t}));if("overlay"===w){E&&(v=!0);const e=[D[0],D[1]||D[0]];A.selection=E=[[s=t===so?C:oo(e[0][0],e[1][0]),l=t===ao?O:oo(e[0][1],e[1][1])],[d=t===so?P:io(e[0][0],e[1][0]),_=t===ao?j:io(e[0][1],e[1][1])]],D.length>1&&o()}else s=E[0][0],l=E[0][1],d=E[1][0],_=E[1][1];u=s,f=l,m=d,g=_;var L=lt(x).attr("pointer-events","none"),q=L.selectAll(".overlay").attr("cursor",uo[w]);Ct(x);var V=r(x,arguments,!0).beforestart();if(e.touches)V.moved=i,V.ended=a;else{var z=lt(e.view).on("mousemove.brush",i,!0).on("mouseup.brush",a,!0);p&&z.on("keydown.brush",(function(t){switch(t.keyCode){case 16:R=M&&S;break;case 18:k===eo&&(M&&(d=m-N*M,s=u+N*M),S&&(_=g-I*S,l=f+I*S),k=no,o());break;case 32:k!==eo&&k!==no||(M<0?d=m-N:M>0&&(s=u-N),S<0?_=g-I:S>0&&(l=f-I),k=to,q.attr("cursor",uo.selection),o());break;default:return}Yn(t)}),!0).on("keyup.brush",(function(t){switch(t.keyCode){case 16:R&&(y=b=R=!1,o());break;case 18:k===no&&(M<0?d=m:M>0&&(s=u),S<0?_=g:S>0&&(l=f),k=eo,o());break;case 32:k===to&&(t.altKey?(M&&(d=m-N*M,s=u+N*M),S&&(_=g-I*S,l=f+I*S),k=no):(M<0?d=m:M>0&&(s=u),S<0?_=g:S>0&&(l=f),k=eo),q.attr("cursor",uo[w]),o());break;default:return}Yn(t)}),!0),pt(e.view)}n.call(x),V.start(e,k.name)}}function a(t){r(this,arguments).moved(t)}function s(t){r(this,arguments).ended(t)}function u(){var e=this.__brush||{selection:null};return e.extent=Kn(l.apply(this,arguments)),e.dim=t,e}var c,l=Jn,h=Zn,f=tr,p=!0,d=Pr("start","brush","end"),m=6;return e.move=function(e,i){e.tween?e.on("start.brush",(function(t){r(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){r(this,arguments).end(t)})).tween("brush",(function(){function e(t){a.selection=1===t&&null===c?null:l(t),n.call(o),s.brush()}var o=this,a=o.__brush,s=r(o,arguments),u=a.selection,c=t.input("function"==typeof i?i.apply(this,arguments):i,a.extent),l=Pn(u,c);return null!==u&&null!==c?e:e(1)})):e.each((function(){var e=this,o=arguments,a=e.__brush,s=t.input("function"==typeof i?i.apply(e,o):i,a.extent),u=r(e,o).beforestart();Ct(e),a.selection=null===s?null:s,n.call(e),u.start().brush().end()}))},e.clear=function(t){e.move(t,null)},i.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(n,r,i){var o=lt(this.that).datum();d.call(n,this.that,new $n(n,{sourceEvent:r,target:e,selection:t.output(this.state.selection),mode:i,dispatch:d}),o)}},e.extent=function(t){return arguments.length?(l="function"==typeof t?t:Zi(Kn(t)),e):l},e.filter=function(t){return arguments.length?(h="function"==typeof t?t:Zi(!!t),e):h},e.touchable=function(t){return arguments.length?(f="function"==typeof t?t:Zi(!!t),e):f},e.handleSize=function(t){return arguments.length?(m=+t,e):m},e.keyModifiers=function(t){return arguments.length?(p=!!t,e):p},e.on=function(){var t=d.on.apply(d,arguments);return t===d?e:t},e}(ao)}function rr(){}function ir(t){this._context=t}function or(t){return new ir(t)}function ar(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function sr(t,e){this._context=t,this._k=(1-e)/6}function ur(t,e){this._context=t,this._k=(1-e)/6}function cr(t){return t}function lr(t){return"translate("+t+",0)"}function hr(t){return"translate(0,"+t+")"}function fr(t){return e=>+t(e)}function pr(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function dr(){return!this.__axis}function mr(t,e){function n(n){var p=null==i?e.ticks?e.ticks.apply(e,r):e.domain():i,d=null==o?e.tickFormat?e.tickFormat.apply(e,r):cr:o,m=Math.max(a,0)+u,_=e.range(),g=+_[0]+c,v=+_[_.length-1]+c,y=(e.bandwidth?pr:fr)(e.copy(),c),b=n.selection?n.selection():n,x=b.selectAll(".domain").data([null]),w=b.selectAll(".tick").data(p,e).order(),k=w.exit(),M=w.enter().append("g").attr("class","tick"),S=w.select("line"),A=w.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(M),S=S.merge(M.append("line").attr("stroke","currentColor").attr(h+"2",l*a)),A=A.merge(M.append("text").attr("fill","currentColor").attr(h,l*m).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),n!==b&&(x=x.transition(n),w=w.transition(n),S=S.transition(n),A=A.transition(n),k=k.transition(n).attr("opacity",_o).attr("transform",(function(t){return isFinite(t=y(t))?f(t+c):this.getAttribute("transform")})),M.attr("opacity",_o).attr("transform",(function(t){var e=this.parentNode.__axis;return f((e&&isFinite(e=e(t))?e:y(t))+c)}))),k.remove(),x.attr("d",4===t||2===t?s?"M"+l*s+","+g+"H"+c+"V"+v+"H"+l*s:"M"+c+","+g+"V"+v:s?"M"+g+","+l*s+"V"+c+"H"+v+"V"+l*s:"M"+g+","+c+"H"+v),w.attr("opacity",1).attr("transform",(function(t){return f(y(t)+c)})),S.attr(h+"2",l*a),A.attr(h,l*m).text(d),b.filter(dr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=y}))}var r=[],i=null,o=null,a=6,s=6,u=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=1===t||4===t?-1:1,h=4===t||2===t?"x":"y",f=1===t||3===t?lr:hr;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return r=mo.call(arguments),n},n.tickArguments=function(t){return arguments.length?(r=null==t?[]:mo.call(t),n):r.slice()},n.tickValues=function(t){return arguments.length?(i=null==t?null:mo.call(t),n):i&&i.slice()},n.tickFormat=function(t){return arguments.length?(o=t,n):o},n.tickSize=function(t){return arguments.length?(a=s=+t,n):a},n.tickSizeInner=function(t){return arguments.length?(a=+t,n):a},n.tickSizeOuter=function(t){return arguments.length?(s=+t,n):s},n.tickPadding=function(t){return arguments.length?(u=+t,n):u},n.offset=function(t){return arguments.length?(c=+t,n):c},n}function _r(t){return mr(3,t)}function gr(t){return mr(4,t)}function vr(t,e=yr){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function yr(t,e){return[t,e]}function br(t){return t>=1?Eo:t<=-1?-Eo:Math.asin(t)}function xr(t){return t.innerRadius}function wr(t){return t.outerRadius}function kr(t){return t.startAngle}function Mr(t){return t.endAngle}function Sr(t){return t&&t.padAngle}function Ar(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/So(s*s+u*u),l=c*u,h=-c*s,f=t+l,p=e+h,d=n+l,m=r+h,_=(f+d)/2,g=(p+m)/2,v=d-f,y=m-p,b=v*v+y*y,x=i-o,w=f*m-d*p,k=(y<0?-1:1)*So(wo(0,x*x*b-w*w)),M=(w*y-v*k)/b,S=(-w*v-y*k)/b,A=(w*y+v*k)/b,T=(-w*v+y*k)/b,E=M-_,C=S-g,O=A-_,P=T-g;return E*E+C*C>O*O+P*P&&(M=A,S=T),{cx:M,cy:S,x01:-l,y01:-h,x11:M*(i/x-1),y11:S*(i/x-1)}}function Tr(){function t(){var t=i().length,r=s<a,f=r?s:a,p=r?a:s;e=(p-f)/Math.max(1,t-c+2*l),u&&(e=Math.floor(e)),f+=(p-f-e*(t-c))*h,n=e*(1-c),u&&(f=Math.round(f),n=Math.round(n));var d=Wn(t).map((function(t){return f+e*t}));return o(r?d.reverse():d)}var e,n,r=Ve().unknown(void 0),i=r.domain,o=r.range,a=0,s=1,u=!1,c=0,l=0,h=.5;return delete r.unknown,r.domain=function(e){return arguments.length?(i(e),t()):i()},r.range=function(e){return arguments.length?([a,s]=e,a=+a,s=+s,t()):[a,s]},r.rangeRound=function(e){return[a,s]=e,a=+a,s=+s,u=!0,t()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(e){return arguments.length?(u=!!e,t()):u},r.padding=function(e){return arguments.length?(c=Math.min(1,l=+e),t()):c},r.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),t()):c},r.paddingOuter=function(e){return arguments.length?(l=+e,t()):l},r.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},r.copy=function(){return Tr(i(),[a,s]).round(u).paddingInner(c).paddingOuter(l).align(h)},qe.apply(t(),arguments)}function Er(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Er(e())},t}function Cr(){return Er(Tr.apply(null,arguments).paddingInner(1))}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{newChart:()=>zo});var Or={value:()=>{}};e.prototype=t.prototype={constructor:e,on:function(t,e){var i,o=this._,a=function(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}(t+"",o),s=-1,u=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<u;)if(i=(t=a[s]).type)o[i]=r(o[i],t.name,e);else if(null==e)for(i in o)o[i]=r(o[i],t.name,null);return this}for(;++s<u;)if((i=(t=a[s]).type)&&(i=n(o[i],t.name)))return i},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new e(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const Pr=t;var jr=Array.prototype.find,Nr=Array.prototype.filter;d.prototype={constructor:d,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ir="http://www.w3.org/1999/xhtml";const Rr={svg:"http://www.w3.org/2000/svg",xhtml:Ir,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};D.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Dr=[null];ut.prototype=ct.prototype={constructor:ut,select:function(t){"function"!=typeof t&&(t=o(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,s,u=e[i],c=u.length,l=r[i]=new Array(c),h=0;h<c;++h)(a=u[h])&&(s=t.call(a,a.__data__,h,u))&&("__data__"in a&&(s.__data__=a.__data__),l[h]=s);return new ut(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:a(e)}}(t):u(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,c=e[o],l=c.length,h=0;h<l;++h)(s=c[h])&&(r.push(t.call(s,s.__data__,h,c)),i.push(s));return new ut(r,i)},selectChild:function(t){return this.select(null==t?h:function(t){return function(){return jr.call(this.children,t)}}("function"==typeof t?t:l(t)))},selectChildren:function(t){return this.selectAll(null==t?f:function(t){return function(){return Nr.call(this.children,t)}}("function"==typeof t?t:l(t)))},filter:function(t){"function"!=typeof t&&(t=c(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new ut(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,g);var n=e?_:m,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,s=new Array(o),u=new Array(o),c=new Array(o),l=0;l<o;++l){var h=r[l],f=i[l],p=f.length,d=a(t.call(h,h&&h.__data__,l,r)),v=d.length,y=u[l]=new Array(v),b=s[l]=new Array(v);n(h,f,y,b,c[l]=new Array(p),d,e);for(var x,w,k=0,M=0;k<v;++k)if(x=y[k]){for(k>=M&&(M=k+1);!(w=b[M])&&++M<v;);x._next=w||null}}return(s=new ut(s,r))._enter=u,s._exit=c,s},enter:function(){return new ut(this._enter||this._groups.map(p),this._parents)},exit:function(){return new ut(this._exit||this._groups.map(p),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof ut))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),o=new Array(r),a=0;a<i;++a)for(var s,u=e[a],c=n[a],l=u.length,h=o[a]=new Array(l),f=0;f<l;++f)(s=u[f]||c[f])&&(h[f]=s);for(;a<r;++a)o[a]=e[a];return new ut(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=v);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new ut(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=y(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?x:b:"function"==typeof e?n.local?S:M:n.local?k:w)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?T:"function"==typeof e?C:E)(t,e,null==n?"":n)):O(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?P:"function"==typeof e?N:j)(t,e)):this.node()[t]},classed:function(t,e){var n=I(t+"");if(arguments.length<2){for(var r=R(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?U:e?V:z)(n,e))},text:function(t){return arguments.length?this.each(null==t?F:("function"==typeof t?H:B)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?W:("function"==typeof t?$:X)(t)):this.node().innerHTML},raise:function(){return this.each(Y)},lower:function(){return this.each(G)},append:function(t){var e="function"==typeof t?t:Z(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Z(t),r=null==e?J:"function"==typeof e?e:o(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(tt)},clone:function(t){return this.select(t?nt:et)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?it:rt,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?st:at)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const Lr=ct,qr=function t(e,n,r){function i(t,i){var o,a,s=t[0],u=t[1],c=t[2],l=i[2],h=i[0]-s,f=i[1]-u,p=h*h+f*f;if(p<1e-12)a=Math.log(l/c)/e,o=function(t){return[s+t*h,u+t*f,c*Math.exp(e*t*a)]};else{var d=Math.sqrt(p),m=(l*l-c*c+r*p)/(2*c*n*d),_=(l*l-c*c-r*p)/(2*l*n*d),g=Math.log(Math.sqrt(m*m+1)-m),v=Math.log(Math.sqrt(_*_+1)-_);a=(v-g)/e,o=function(t){var r,i=t*a,o=mt(g),l=c/(n*d)*(o*(r=e*i+g,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[s+l*h,u+l*f,c*o/mt(e*i+g)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);var Vr,zr,Ur=0,Fr=0,Br=0,Hr=0,Wr=0,Xr=0,$r="object"==typeof performance&&performance.now?performance:Date,Yr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};yt.prototype=bt.prototype={constructor:yt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?gt():+n)+(null==e?0:+e),this._next||zr===this||(zr?zr._next=this:Vr=this,zr=this),this._call=t,this._time=n,kt()},stop:function(){this._call&&(this._call=null,this._time=1/0,kt())}};var Gr,Kr=Pr("start","end","cancel","interrupt"),Qr=[],Zr=180/Math.PI,Jr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},ti=jt((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Jr:Pt(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),ei=jt((function(t){return null==t?Jr:(Gr||(Gr=document.createElementNS("http://www.w3.org/2000/svg","g")),Gr.setAttribute("transform",t),(t=Gr.transform.baseVal.consolidate())?Pt((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Jr)}),", ",")",")"),ni=.7,ri=1/ni,ii="\\s*([+-]?\\d+)\\s*",oi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ai="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",si=/^#([0-9a-f]{3,8})$/,ui=new RegExp("^rgb\\("+[ii,ii,ii]+"\\)$"),ci=new RegExp("^rgb\\("+[ai,ai,ai]+"\\)$"),li=new RegExp("^rgba\\("+[ii,ii,ii,oi]+"\\)$"),hi=new RegExp("^rgba\\("+[ai,ai,ai,oi]+"\\)$"),fi=new RegExp("^hsl\\("+[oi,ai,ai]+"\\)$"),pi=new RegExp("^hsla\\("+[oi,ai,ai,oi]+"\\)$"),di={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dt(qt,Ut,{copy:function(t){return _extends(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Vt,formatHex:Vt,formatHsl:function(){return Kt(this).formatHsl()},formatRgb:zt,toString:zt}),Dt(Wt,Ht,Lt(qt,{brighter:function(t){return t=null==t?ri:Math.pow(ri,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ni:Math.pow(ni,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xt,formatHex:Xt,formatRgb:$t,toString:$t})),Dt(Qt,(function(t,e,n,r){return 1===arguments.length?Kt(t):new Qt(t,e,n,null==r?1:r)}),Lt(qt,{brighter:function(t){return t=null==t?ri:Math.pow(ri,t),new Qt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ni:Math.pow(ni,t),new Qt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wt(Zt(t>=240?t-240:t+120,i,r),Zt(t,i,r),Zt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const mi=t=>()=>t,_i=function t(e){function n(t,e){var n=r((t=Ht(t)).r,(e=Ht(e)).r),i=r(t.g,e.g),o=r(t.b,e.b),a=te(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}var r=function(t){return 1==(t=+t)?te:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):mi(isNaN(e)?n:e)}}(e);return n.gamma=t,n}(1);ee((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1];return Jt((n-r/e)*e,r>0?t[r-1]:2*i-o,i,o,r<e-1?t[r+2]:2*o-i)}})),ee((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return Jt((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}}));var gi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vi=new RegExp(gi.source,"g"),yi=Lr.prototype.constructor,bi=0,xi=Lr.prototype;ge.prototype=function(t){return Lr().transition(t)}.prototype={constructor:ge,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=o(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var u,c,l=r[s],h=l.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=l[p])&&(c=t.call(u,u.__data__,p,l))&&("__data__"in u&&(c.__data__=u.__data__),f[p]=c,St(f[p],e,n,p,f,Et(u,n)));return new ge(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=u(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c,l=r[s],h=l.length,f=0;f<h;++f)if(c=l[f]){for(var p,d=t.call(c,c.__data__,f,l),m=Et(c,n),_=0,g=d.length;_<g;++_)(p=d[_])&&St(p,e,n,_,d,m);o.push(d),a.push(c)}return new ge(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=c(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new ge(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),o=new Array(r),a=0;a<i;++a)for(var s,u=e[a],c=n[a],l=u.length,h=o[a]=new Array(l),f=0;f<l;++f)(s=u[f]||c[f])&&(h[f]=s);for(;a<r;++a)o[a]=e[a];return new ge(o,this._parents,this._name,this._id)},selection:function(){return new yi(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ve(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=Et(a,e);St(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new ge(r,this._parents,t,n)},call:xi.call,nodes:xi.nodes,node:xi.node,size:xi.size,empty:xi.empty,each:xi.each,on:function(t,e){var n=this._id;return arguments.length<2?Et(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?At:Tt;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=y(t),r="transform"===n?ei:re;return this.attrTween(t,"function"==typeof e?(n.local?ce:ue)(n,r,Rt(this,"attr."+t,e)):null==e?(n.local?oe:ie)(n):(n.local?se:ae)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=y(t);return this.tween(n,(r.local?le:he)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?ti:re;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=O(this,t),a=(this.style.removeProperty(t),O(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,_e(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=O(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=O(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,Rt(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=Tt(this,t),c=u.on,l=null==u.value[a]?o||(o=_e(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(s,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=O(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=e.apply(this,arguments);return r!==o&&(i=(o=r)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,r,n)),i}var i,o;return r._value=e,r}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Rt(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){function e(){var e=t.apply(this,arguments);return e!==r&&(n=(r=e)&&function(t){return function(e){this.textContent=t.call(this,e)}}(e)),n}var n,r;return e._value=t,e}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Et(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Nt:It)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?fe:pe)(e,t)):Et(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?de:me)(e,t)):Et(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Tt(this,t).ease=e}}(e,t)):Et(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Tt(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each((function(){var n=Tt(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:xi[Symbol.iterator]};var wi={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};Lr.prototype.interrupt=function(t){return this.each((function(){Ct(this,t)}))},Lr.prototype.transition=function(t){var e,n;t instanceof ge?(e=t._id,t=t._name):(e=ve(),(n=wi).time=gt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&St(a,t,e,c,s,n||ye(a,e));return new ge(r,this._parents,t,e)};const ki=t=>()=>t;xe.prototype={constructor:xe,scale:function(t){return 1===t?this:new xe(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new xe(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Mi=new xe(1,0,0);const Si=Math.PI,Ai=2*Si,Ti=1e-6,Ei=Ai-Ti;Oe.prototype=Pe.prototype={constructor:Oe,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){var o=this._x1,a=this._y1,s=(n=+n)-(t=+t),u=(r=+r)-(e=+e),c=o-t,l=a-e,h=c*c+l*l;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Ti)if(Math.abs(l*s-u*c)>Ti&&i){var f=n-o,p=r-a,d=s*s+u*u,m=f*f+p*p,_=Math.sqrt(d),g=Math.sqrt(h),v=i*Math.tan((Si-Math.acos((d+h-m)/(2*_*g)))/2),y=v/g,b=v/_;Math.abs(y-1)>Ti&&(this._+="L"+(t+y*c)+","+(e+y*l)),this._+="A"+i+","+i+",0,0,"+ +(l*f>c*p)+","+(this._x1=t+b*s)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Ti||Math.abs(this._y1-c)>Ti)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%Ai+Ai),h>Ei?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>Ti&&(this._+="A"+n+","+n+",0,"+ +(h>=Si)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const Ci=Pe;Ne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};const Oi=function(t){for(var e=new Array(10),n=0;n<10;)e[n]="#"+t.slice(6*n,6*++n);return e}("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Pi=Symbol("implicit"),ji=t=>()=>t;ze.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ni=__webpack_require__(951);class Ii{constructor({data:t,width:e,height:n,selector:r,type:i,dimensions:o,target:a,dynamic:s,number:u=0,ordering:c="0"}){this.data=t,this.width=e,this.height=n,this.selector=r,this.type=i,this.dimensions=o,this.target=a,this.dynamic=s,this.number=u,console.log(this.dimensions);let l=this.data.map(((t,e)=>[e].concat(this.dimensions.map((e=>t[e])))));l.unshift(["id"].concat(this.dimensions));for(var h=[[]],f=[],p=0;p<l.length;p++){var d=l[p];h[p]=d;for(var m=d.join(",").split(","),_=0;_<m.length;_++)h[p][_]=m[_]}for(var g=1;g<h.length;g++)for(var v=0;v<h[0].length;v++)if(""===h[g][v]){f.push(g);break}for(var y=0,b=0;b<f.length;b++)h.splice(f[b]-y,1),y++;var x=function(t){for(var e=rn(t),n=nn(t),r=0;r<e[0].length;r++)for(var i=Ge(e,r),o=tn(i)[1],a=en(i)[1],s=o-a,u=0;u<i.length;u++)n[u+1][r+1]=(i[u]-a)/s;return n}(h);switch(c){case"0":break;case"1":this.dimensions=function(t){for(var e=function(t){for(var e=[],n=[],r=0;r<t[0].length;r++)n.push(r);var i=an(n,2);e.push(i),e.push([]);for(var o=0;o<i.length;o++){for(var a=0,s=0;s<t.length;s++)sn(t,s,.1,i[o][0],i[o][1])&&a++;e[1].push(a)}return e}(rn(t)),n=[],r=0;r<t[0].length-1;r++)n.push(r);for(var i=on(n),o=[],a=0;a<i.length;a++)o.push(un(e,i[a]));return i[en(o)[0]]}(x).map((t=>this.dimensions[t]));break;case"2":this.dimensions=function(t){for(var e=nn(hn(rn(t))),n=new Array(e.length),r=.5*en(e)[1],i=0;i<e.length;i++){var o=tn(e)[0];n[i]=o,e[o]=r}return console.log("nc",n),n}(h).map((t=>this.dimensions[t]));break;case"3":var w=nn(Qe(x));this.dimensions=function(t){for(var e=function(t){var e,n,r=[],i=(Ze(t),Je(t)[2]-1);return e=Ze(t)[0],n=Ze(t)[1],t[e][n]=i,r.push(e),r.push(n),r}(t);e.length!==t.length;)e=ln(t,e);return e}(w).map((t=>this.dimensions[t]));break;case"4":this.dimensions=function(t){for(var e=hn(rn(t)),n=new Array(e.length),r=new Array(t[0].length-1),i=0;i<t[0].length-1;i++){r[i]=new Array(t[0].length-1);for(var o=0;o<i;o++)r[i][o]=Math.abs(Xe(Ke(t,i+1),Ke(t,o+1))),r[o][i]=Math.abs(Xe(Ke(t,i+1),Ke(t,o+1)))}console.log(r);for(var a=Je(r)[2]-1,s=0;s<e.length;s++)r[s][s]=a;var u=nn(r),c=tn(e)[0];n[0]=c;for(var l=0;l<r.length;l++)u[l][c]=a;for(var h=1;h<n.length;h++){n[h]=tn(u[c])[0],u[c][n[h]]=a,u[n[h]][c]=a,c=n[h];for(var f=0;f<u.length;f++)u[f][c]=a}return n}(h).map((t=>this.dimensions[t]));break;case"5":this.dimensions=function(t){for(var e=[],n=0;n<t[0].length-1;n++)e.push(n);var r=an(e,2),i=[];i.push(r);for(var o=1;o<t.length;o++){i.push([]);for(var a=0;a<r.length;a++)i[o].push(fn(t[o][r[a][0]+1],t[o][r[a][1]+1]))}var s=[];s.push(r);for(var u=["a","b","c"],c=1;c<4;c++){s.push([]);for(var l=0;l<r.length;l++)s[c].push(pn(Ge(i,l),u[c-1]))}return console.log(s),function(t,e){for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=dn(t,e[r]);return console.log(en(n)[1]),e[en(n)[0]]}(s,on(e))}(x).map((t=>this.dimensions[t]));break;case"6":var k=nn(Qe(h));this.dimensions=function(t,e){for(var n=[],r=[],i=0;i<t[0].length-1;i++)n.push(i);for(var o=on(n),a=0;a<o.length;a++){var s=_n(o[a],e);r.push(s)}return o[tn(r)[0]]}(h,k).map((t=>this.dimensions[t]));break;case"7":var M=nn(Qe(h));this.dimensions=function(t,e){for(var n=[],r=[],i=0;i<t[0].length-1;i++)n.push(i);for(var o=on(n),a=0;a<o.length;a++){var s=_n(o[a],e);r.push(s)}return o[en(r)[0]]}(h,M).map((t=>this.dimensions[t]));break;case"8":var S=nn(Qe(h));this.dimensions=function(t,e){for(var n=[],r=[],i=0;i<t[0].length-1;i++)n.push(i);for(var o=on(n),a=0;a<o.length;a++){var s=vn(o[a],e);r.push(s)}return o[tn(r)[0]]}(h,S).map((t=>this.dimensions[t]));break;case"9":var A=nn(Qe(h));this.dimensions=function(t,e){for(var n=[],r=[],i=0;i<t[0].length-1;i++)n.push(i);for(var o=on(n),a=0;a<o.length;a++){var s=vn(o[a],e);r.push(s)}return o[en(r)[0]]}(h,A).map((t=>this.dimensions[t]));break;case"10":var T=nn(Qe(h,"12"));this.dimensions=function(t){for(var e=function(t){var e,n,r=[],i=Ze(t)[2]+1;return e=Je(t)[0],n=Je(t)[1],t[e][n]=i,r.push(e),r.push(n),r}(t);e.length!==t.length;)e=yn(t,e);return e}(T).map((t=>this.dimensions[t]));break;default:alert("Sorry, something is wrong.")}if(console.log("dim after reordering",this.dimensions),this.dimensions.length%2!=0&&["cpc","spc","apc","epc","prc","pwc"].includes(this.type)){let t=this.dimensions.slice(-1);this.data.map((e=>e[`${t}_2`]=e[t])),this.dimensions=this.dimensions.concat(t)}this.axis=null,this.items=null,this.filtered_items=null,this.dualview=null,this.initElements(),null!==this.target&&this.createLegend()}draw(){}initElements(){this.width=this.width-10-10,this.height=this.height-30-10,this.svg=lt(this.selector).append("svg").attr("id",`svg${this.number}`).attr("width",this.width+10+10).attr("height",this.height+30+10).call(function(){function t(t){t.property("__zoom",Ae).on("wheel.zoom",s).on("mousedown.zoom",u).on("dblclick.zoom",c).filter(b).on("touchstart.zoom",l).on("touchmove.zoom",h).on("touchend.zoom touchcancel.zoom",f).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(t,e){return(e=Math.max(x[0],Math.min(x[1],e)))===t.k?t:new xe(e,t.x,t.y)}function n(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new xe(t.k,r,i)}function r(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function i(t,e,n,i){t.on("start.zoom",(function(){o(this,arguments).event(i).start()})).on("interrupt.zoom end.zoom",(function(){o(this,arguments).event(i).end()})).tween("zoom",(function(){var t=this,a=arguments,s=o(t,a).event(i),u=g.apply(t,a),c=null==n?r(u):"function"==typeof n?n.apply(t,a):n,l=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),h=t.__zoom,f="function"==typeof e?e.apply(t,a):e,p=M(h.invert(c).concat(l/h.k),f.invert(c).concat(l/f.k));return function(t){if(1===t)t=f;else{var e=p(t),n=l/e[2];t=new xe(n,c[0]-e[0]*n,c[1]-e[1]*n)}s.zoom(null,t)}}))}function o(t,e,n){return!n&&t.__zooming||new a(t,e)}function a(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=g.apply(t,e),this.taps=0}function s(t,...r){if(_.apply(this,arguments)){var i=o(this,r).event(t),a=this.__zoom,s=Math.max(x[0],Math.min(x[1],a.k*Math.pow(2,y.apply(this,arguments)))),u=_t(t);if(i.wheel)i.mouse[0][0]===u[0]&&i.mouse[0][1]===u[1]||(i.mouse[1]=a.invert(i.mouse[0]=u)),clearTimeout(i.wheel);else{if(a.k===s)return;i.mouse=[u,a.invert(u)],Ct(this),i.start()}ke(t),i.wheel=setTimeout((function(){i.wheel=null,i.end()}),150),i.zoom("mouse",v(n(e(a,s),i.mouse[0],i.mouse[1]),i.extent,w))}}function u(t,...e){if(!m&&_.apply(this,arguments)){var r=o(this,e,!0).event(t),i=lt(t.view).on("mousemove.zoom",(function(t){if(ke(t),!r.moved){var e=t.clientX-u,i=t.clientY-c;r.moved=e*e+i*i>T}r.event(t).zoom("mouse",v(n(r.that.__zoom,r.mouse[0]=_t(t,s),r.mouse[1]),r.extent,w))}),!0).on("mouseup.zoom",(function(t){i.on("mousemove.zoom mouseup.zoom",null),dt(t.view,r.moved),ke(t),r.event(t).end()}),!0),a=_t(t,s),s=t.currentTarget,u=t.clientX,c=t.clientY;pt(t.view),we(t),r.mouse=[a,this.__zoom.invert(a)],Ct(this),r.start()}}function c(r,...o){if(_.apply(this,arguments)){var a=this.__zoom,s=_t(r.changedTouches?r.changedTouches[0]:r,this),u=a.invert(s),c=v(n(e(a,a.k*(r.shiftKey?.5:2)),s,u),g.apply(this,o),w);ke(r),k>0?lt(this).transition().duration(k).call(i,c,s,r):lt(this).call(t.transform,c,s,r)}}function l(t,...e){if(_.apply(this,arguments)){var n,r,i,a,s=t.touches,u=s.length,c=o(this,e,t.changedTouches.length===u).event(t);for(we(t),r=0;r<u;++r)a=[a=_t(i=s[r],this),this.__zoom.invert(a),i.identifier],c.touch0?c.touch1||c.touch0[2]===a[2]||(c.touch1=a,c.taps=0):(c.touch0=a,n=!0,c.taps=1+!!p);p&&(p=clearTimeout(p)),n&&(c.taps<2&&(d=a[0],p=setTimeout((function(){p=null}),A)),Ct(this),c.start())}}function h(t,...r){if(this.__zooming){var i,a,s,u,c=o(this,r).event(t),l=t.changedTouches,h=l.length;for(ke(t),i=0;i<h;++i)s=_t(a=l[i],this),c.touch0&&c.touch0[2]===a.identifier?c.touch0[0]=s:c.touch1&&c.touch1[2]===a.identifier&&(c.touch1[0]=s);if(a=c.that.__zoom,c.touch1){var f=c.touch0[0],p=c.touch0[1],d=c.touch1[0],m=c.touch1[1],_=(_=d[0]-f[0])*_+(_=d[1]-f[1])*_,g=(g=m[0]-p[0])*g+(g=m[1]-p[1])*g;a=e(a,Math.sqrt(_/g)),s=[(f[0]+d[0])/2,(f[1]+d[1])/2],u=[(p[0]+m[0])/2,(p[1]+m[1])/2]}else{if(!c.touch0)return;s=c.touch0[0],u=c.touch0[1]}c.zoom("touch",v(n(a,s,u),c.extent,w))}}function f(t,...e){if(this.__zooming){var n,r,i=o(this,e).event(t),a=t.changedTouches,s=a.length;for(we(t),m&&clearTimeout(m),m=setTimeout((function(){m=null}),A),n=0;n<s;++n)r=a[n],i.touch0&&i.touch0[2]===r.identifier?delete i.touch0:i.touch1&&i.touch1[2]===r.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps&&(r=_t(r,this),Math.hypot(d[0]-r[0],d[1]-r[1])<E)){var u=lt(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}var p,d,m,_=Me,g=Se,v=Ce,y=Te,b=Ee,x=[0,1/0],w=[[-1/0,-1/0],[1/0,1/0]],k=250,M=qr,S=Pr("start","zoom","end"),A=500,T=0,E=10;return t.transform=function(t,e,n,r){var a=t.selection?t.selection():t;a.property("__zoom",Ae),t!==a?i(t,e,n,r):a.interrupt().each((function(){o(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},t.scaleBy=function(e,n,r,i){t.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)}),r,i)},t.scaleTo=function(i,o,a,s){t.transform(i,(function(){var t=g.apply(this,arguments),i=this.__zoom,s=null==a?r(t):"function"==typeof a?a.apply(this,arguments):a,u=i.invert(s),c="function"==typeof o?o.apply(this,arguments):o;return v(n(e(i,c),s,u),t,w)}),a,s)},t.translateBy=function(e,n,r,i){t.transform(e,(function(){return v(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof r?r.apply(this,arguments):r),g.apply(this,arguments),w)}),null,i)},t.translateTo=function(e,n,i,o,a){t.transform(e,(function(){var t=g.apply(this,arguments),e=this.__zoom,a=null==o?r(t):"function"==typeof o?o.apply(this,arguments):o;return v(Mi.translate(a[0],a[1]).scale(e.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof i?-i.apply(this,arguments):-i),t,w)}),o,a)},a.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var n=lt(this.that).datum();S.call(e,this.that,new be(e,{sourceEvent:this.sourceEvent,target:t,type:e,transform:this.that.__zoom,dispatch:S}),n)}},t.wheelDelta=function(e){return arguments.length?(y="function"==typeof e?e:ki(+e),t):y},t.filter=function(e){return arguments.length?(_="function"==typeof e?e:ki(!!e),t):_},t.touchable=function(e){return arguments.length?(b="function"==typeof e?e:ki(!!e),t):b},t.extent=function(e){return arguments.length?(g="function"==typeof e?e:ki([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),t):g},t.scaleExtent=function(e){return arguments.length?(x[0]=+e[0],x[1]=+e[1],t):[x[0],x[1]]},t.translateExtent=function(e){return arguments.length?(w[0][0]=+e[0][0],w[1][0]=+e[1][0],w[0][1]=+e[0][1],w[1][1]=+e[1][1],t):[[w[0][0],w[0][1]],[w[1][0],w[1][1]]]},t.constrain=function(e){return arguments.length?(v=e,t):v},t.duration=function(e){return arguments.length?(k=+e,t):k},t.interpolate=function(e){return arguments.length?(M=e,t):M},t.on=function(){var e=S.on.apply(S,arguments);return e===S?t:e},t.clickDistance=function(e){return arguments.length?(T=(e=+e)*e,t):Math.sqrt(T)},t.tapDistance=function(e){return arguments.length?(E=+e,t):E},t}().on("start zoom end",(t=>{this.svg.attr("transform",t.transform)}))).append("g").attr("transform","translate(10,30)"),this.svg.append("defs").append("marker").attr("id","arrow").attr("viewBox",[0,0,10,10]).attr("refX",5).attr("refY",5).attr("markerWidth",10).attr("markerHeight",10).attr("orient","auto-start-reverse").append("path").attr("d",Le()([[0,0],[0,10],[10,5]])).attr("stroke","black"),this.values_target=[...new Set(this.data.map((t=>t[this.target])))],this.colorScale=null==this.target?Ve().domain(this.values_target).range(["black"]):Ve(Oi).domain(this.values_target)}createLegend(){const t=function(){function t(t){t.on("mousedown.drag",e).filter(m).on("touchstart.drag",i).on("touchmove.drag",o).on("touchend.drag touchcancel.drag",a).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(t,e){if(!h&&f.call(this,t,e)){var i=s(this,p.call(this,t,e),t,e,"mouse");i&&(lt(t.view).on("mousemove.drag",n,!0).on("mouseup.drag",r,!0),pt(t.view),ht(t),l=!1,u=t.clientX,c=t.clientY,i("start",t))}}function n(t){if(ft(t),!l){var e=t.clientX-u,n=t.clientY-c;l=e*e+n*n>y}_.mouse("drag",t)}function r(t){lt(t.view).on("mousemove.drag mouseup.drag",null),dt(t.view,l),ft(t),_.mouse("end",t)}function i(t,e){if(f.call(this,t,e)){var n,r,i=t.changedTouches,o=p.call(this,t,e),a=i.length;for(n=0;n<a;++n)(r=s(this,o,t,e,i[n].identifier,i[n]))&&(ht(t),r("start",t,i[n]))}}function o(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=_[r[e].identifier])&&(ft(t),n("drag",t,r[e]))}function a(t){var e,n,r=t.changedTouches,i=r.length;for(h&&clearTimeout(h),h=setTimeout((function(){h=null}),500),e=0;e<i;++e)(n=_[r[e].identifier])&&(ht(t),n("end",t,r[e]))}function s(e,n,r,i,o,a){var s,u,c,l=g.copy(),h=_t(a||r,n);if(null!=(c=d.call(e,new ze("beforestart",{sourceEvent:r,target:t,identifier:o,active:v,x:h[0],y:h[1],dx:0,dy:0,dispatch:l}),i)))return s=c.x-h[0]||0,u=c.y-h[1]||0,function r(a,f,p){var d,m=h;switch(a){case"start":_[o]=r,d=v++;break;case"end":delete _[o],--v;case"drag":h=_t(p||f,n),d=v}l.call(a,e,new ze(a,{sourceEvent:f,subject:c,target:t,identifier:o,active:d,x:h[0]+s,y:h[1]+u,dx:h[0]-m[0],dy:h[1]-m[1],dispatch:l}),i)}}var u,c,l,h,f=Ue,p=Fe,d=Be,m=He,_={},g=Pr("start","drag","end"),v=0,y=0;return t.filter=function(e){return arguments.length?(f="function"==typeof e?e:ji(!!e),t):f},t.container=function(e){return arguments.length?(p="function"==typeof e?e:ji(e),t):p},t.subject=function(e){return arguments.length?(d="function"==typeof e?e:ji(e),t):d},t.touchable=function(e){return arguments.length?(m="function"==typeof e?e:ji(!!e),t):m},t.on=function(){var e=g.on.apply(g,arguments);return e===g?t:e},t.clickDistance=function(e){return arguments.length?(y=(e=+e)*e,t):Math.sqrt(y)},t}().on("drag",(t=>{e.attr("transform",`translate(${t.x}, ${t.y})`)})),e=this.svg.append("g").attr("class","legend").style("position","absolute").attr("transform","translate(10, 30)").style("left",10).style("top",10).call(t);e.selectAll("label").data([this.target]).enter().append("text").attr("x",115).attr("y",85).text((t=>t)).attr("text-anchor","middle").attr("text-transform","uppercase").style("alignment-baseline","left"),e.selectAll("mydots").data(this.values_target).enter().append("rect").attr("x",100).attr("y",(function(t,e){return 100+15*e})).attr("width",10).attr("height",10).style("fill",(t=>this.colorScale(t))).on("click",((t,e)=>{this.items.style("display",(t=>t[this.target]==e?null:"none"))})),e.selectAll("mylabels").data(this.values_target).enter().append("text").attr("x",112).attr("y",(function(t,e){return 100+15*e+5})).style("fill",(t=>this.colorScale(t))).text((function(t){return t})).attr("text-anchor","left").style("alignment-baseline","middle")}initBrush(t){const e=new Map;this.brushed=(n,r)=>{n.sourceEvent.stopPropagation();let i=n.selection;null===i?e.delete(r):e.set(r,i.map((e=>t[r].invert(e))));var o=[];this.items.each((function(t){const n=Array.from(e).every((([e,[n,r]])=>t[e]>=n&&t[e]<=r));n&&o.push(t),lt(this).style("display",n?null:"none")})),this.filtered_items=o,this.dualview&&this.dualview.getItems().style("display",(t=>this.filtered_items.includes(t)?null:"none"))}}setOpacity(t){this.items.attr("opacity",t)}setDualView(t){this.dualview=t}getAxis(){return this.axis}getItems(){return this.items}getFiltered(){return this.filtered_items}colorize(t){this.items.style("stroke",t?t=>this.colorScale(t[this.target]):"black"),new ut([document.querySelectorAll(".legend")],[document.documentElement]).style("display",t?null:"none")}}var Ri="$";bn.prototype=xn.prototype={constructor:bn,has:function(t){return Ri+t in this},get:function(t){return this[Ri+t]},set:function(t,e){return this[Ri+t]=e,this},remove:function(t){var e=Ri+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Ri&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Ri&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Ri&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Ri&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Ri&&++t;return t},empty:function(){for(var t in this)if(t[0]===Ri)return!1;return!0},each:function(t){for(var e in this)e[0]===Ri&&t(this[e],e.slice(1),this)}};var Di=xn.prototype;wn.prototype=function(t,e){var n=new wn;if(t instanceof wn)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:wn,has:Di.has,add:function(t){return this[Ri+(t+="")]=t,this},remove:Di.remove,clear:Di.clear,values:Di.keys,size:Di.size,empty:Di.empty,each:Di.each};var Li=Math.sqrt(50),qi=Math.sqrt(10),Vi=Math.sqrt(2);const zi=An(Sn),Ui=zi.right,Fi=(An((function(t){return null===t?NaN:+t})),Ui);var Bi,Hi=[0,1],Wi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;qn.prototype=Vn.prototype,Vn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Xi={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Fn(100*t,e),r:Fn,s:function(t,e){var n=zn(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Bi=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+zn(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};var $i,Yi,Gi,Ki=Array.prototype.map,Qi=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];$i=function(t){function e(t){function e(t){var e,o,a,c=b,p=x;if("c"===y)p=w(t)+p,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?h:w(Math.abs(t),g),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==f&&(M=!1),c=(M?"("===f?f:l:"-"===f||"("===f?"":f)+c,p=("s"===y?Qi[8+Bi/3]:"")+p+(M&&"("===f?")":""),k)for(e=-1,o=t.length;++e<o;)if(48>(a=t.charCodeAt(e))||a>57){p=(46===a?s+t.slice(e+1):t.slice(e))+p,t=t.slice(0,e);break}}_&&!d&&(t=i(t,1/0));var S=c.length+t.length+p.length,A=S<m?new Array(m-S+1).join(n):"";switch(_&&d&&(t=i(A+t,A.length?m-p.length:1/0),A=""),r){case"<":t=c+t+p+A;break;case"=":t=c+A+t+p;break;case"^":t=A.slice(0,S=A.length>>1)+c+t+p+A.slice(S);break;default:t=A+c+t+p}return u(t)}var n=(t=qn(t)).fill,r=t.align,f=t.sign,p=t.symbol,d=t.zero,m=t.width,_=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(_=!0,y="g"):Xi[y]||(void 0===g&&(g=12),v=!0,y="g"),(d||"0"===n&&"="===r)&&(d=!0,n="0",r="=");var b="$"===p?o:"#"===p&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===p?a:/[%p]/.test(y)?c:"",w=Xi[y],k=/[defgprs%]/.test(y);return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),e.toString=function(){return t+""},e}var n,r,i=void 0===t.grouping||void 0===t.thousands?Bn:(n=Ki.call(t.grouping,Number),r=t.thousands+"",function(t,e){for(var i=t.length,o=[],a=0,s=n[0],u=0;i>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>e));)s=n[a=(a+1)%n.length];return o.reverse().join(r)}),o=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Bn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ki.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"":t.minus+"",h=void 0===t.nan?"NaN":t.nan+"";return{format:e,formatPrefix:function(t,n){var r=e(((t=qn(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Un(n)/3))),o=Math.pow(10,-i),a=Qi[8+i/3];return function(t){return r(o*t)+a}}}}({thousands:",",grouping:[3],currency:["$",""]}),Yi=$i.format,Gi=$i.formatPrefix;const Zi=t=>()=>t;var Ji={name:"drag"},to={name:"space"},eo={name:"handle"},no={name:"center"};const{abs:ro,max:io,min:oo}=Math;var ao={name:"x",handles:["w","e"].map(Qn),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},so={name:"y",handles:["n","s"].map(Qn),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},uo=(["n","w","e","s","nw","ne","sw","se"].map(Qn),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),co={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},lo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ho={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},fo={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};ir.prototype={areaStart:rr,areaEnd:rr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},sr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ar(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ar(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new sr(t,e)}return n.tension=function(e){return t(+e)},n}(0),ur.prototype={areaStart:rr,areaEnd:rr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ar(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const po=function t(e){function n(t){return new ur(t,e)}return n.tension=function(e){return t(+e)},n}(0);var mo=Array.prototype.slice,_o=1e-6;class go extends Ii{constructor(t){super(t),this.curve=or,this.radius=200}draw(){const t=360/this.dimensions.length,e=Wn(this.dimensions.length).map(((e,n)=>n*t));var n={};kn(this.data[0]).filter((t=>t!=this.target&&(n[t]=Hn().domain(Xn(this.data,(function(e){return+e[t]}))).range([0,this.radius])))),super.initBrush(n);const r=nr().extent([[0,-10],[this.radius,10]]).on("start brush end",this.brushed),i=t=>t*Math.PI/180;this.items=this.svg.append("g").selectAll(".items").data(this.data).enter().append("path").attr("d",(t=>{let r=this.width/2,o=this.height/2,a=this.dimensions.map(((a,s)=>{let u=e[s],c=n[a](t[a]),l=r+Math.cos(i(u))*c,h=o+Math.sin(i(u))*c;return this.dynamic&&(r=l,o=h),[l,h]}));return Le().curve(this.curve)(a)})).attr("stroke",(t=>this.colorScale(t[this.target]))).attr("fill","none").attr("stroke-width",1).attr("stroke-opacity",1),this.axis=this.svg.append("g").selectAll(".axis").data(this.dimensions).join("g").attr("transform",((t,n)=>`translate(${this.width/2},${this.height/2}) rotate(${e[n]})`)).each((function(t){lt(this).call(_r(n[t]).ticks([]).tickSize(0).offset(0))})).call(r).call((t=>t.append("text").attr("x",this.radius+10).attr("y",0).attr("text-anchor","start").attr("fill","currentColor").text((t=>t)))),this.svg.selectAll(".domain").attr("stroke","black").attr("marker-end","url(#arrow)").attr("fill","none")}setCurve(t){this.curve="CURVE"==t?po:or}setRadius(t){this.radius=t}}class vo extends Ii{constructor(t){super(t),this.TYPE_LINE="CURVE",this.classes=null,this.oneclass=null}draw(){const t=this.width/this.dimensions.length,e=t/2,n=Wn(this.dimensions.length).map((()=>0));var r={};kn(this.data[0]).filter((e=>e!=this.target&&(r[e]=Hn().domain(Xn(this.data,(function(t){return+t[e]}))).range([0,t]))));const i=Hn().domain([0,2*t]).range([this.height/2,0]),o=Hn().domain([0,2*t]).range([this.height/2,this.height]);this.svg.selectAll(".labels").data(this.dimensions).enter().append("text").text((t=>t)).attr("x",((n,r)=>r*t+e)).attr("y",30).attr("text-anchor","middle").style("font-size",12),super.initBrush(r);const a=nr().extent([[0,-15],[t,15]]).on("start brush end",this.brushed),s=(e,n,a,s)=>{let u=[],c=vr(this.dimensions);return c.forEach(((l,h)=>{let[f,p]=c[h],d=h*t+r[f](e[f]),m=(h+1)*t+r[p](e[p]);0==h&&u.push(`M${d},${this.height/2}`);let _=Math.abs(m-d),g=i(_),v=d+(m-d)/2;if(null!==a&&e[this.target]!=a&&(g=o(_)),null!==s){let[t,n]=s;if(e[this.target]==t);else{if(e[this.target]!=n)return;g=o(_)}}u.push("CURVE"==n?`Q ${v},${g} ${m},${this.height/2}`:`L${v},${g} L${m},${this.height/2}`)})),u};this.items=this.svg.append("g").selectAll(".items").data(this.data).enter().append("path").attr("d",(t=>s(t,this.TYPE_LINE,this.oneclass,this.classes))).attr("stroke",(t=>this.colorScale(t[this.target]))).attr("fill","none").attr("stroke-width",1).attr("stroke-opacity",1),this.axis=this.svg.append("g").selectAll("g").data(this.dimensions).join("g").attr("transform",((e,r)=>`translate(${r*t},${this.height/2}) rotate(${-n[r]})`)).each((function(t){lt(this).call(_r(r[t]).ticks([]).tickSize(0))})).call(a),this.svg.selectAll(".domain").attr("stroke","black").attr("marker-end","url(#arrow)").attr("fill","none")}compareClasses(t,e){this.classes=[t,e]}focusClass(t){this.oneclass=t}setLine(t){this.TYPE_LINE="TRIANGULAR"==t?"TRIANGULAR":"CURVE"}}var yo=Math.abs,bo=Math.atan2,xo=Math.cos,wo=Math.max,ko=Math.min,Mo=Math.sin,So=Math.sqrt,Ao=1e-12,To=Math.PI,Eo=To/2,Co=2*To;class Oo extends Ii{constructor(t){super(t),this.radius=200}draw(){const t=2*Math.PI/this.dimensions.length;var e={};this.dimensions.forEach(((n,r)=>{e[n]=Hn().domain(Xn(this.data,(function(t){return+t[n]}))).range([t*r,t*(r+1)])})),this.items=this.svg.attr("transform",`translate(${this.width/2}, ${this.height/2})`).selectAll(".items").data(this.data).enter().append("path").attr("d",(t=>{let n=this.dimensions.map((n=>[Math.cos(e[n](t[n]))*(this.radius-5),Math.sin(e[n](t[n]))*(this.radius-5)]));return Le().curve(or)(n)})).attr("stroke",(t=>this.colorScale(t[this.target]))).style("fill","none");const n=function(){function t(){var t,c,l=+e.apply(this,arguments),h=+n.apply(this,arguments),f=o.apply(this,arguments)-Eo,p=a.apply(this,arguments)-Eo,d=yo(p-f),m=p>f;if(u||(u=t=Ci()),h<l&&(c=h,h=l,l=c),h>Ao)if(d>Co-Ao)u.moveTo(h*xo(f),h*Mo(f)),u.arc(0,0,h,f,p,!m),l>Ao&&(u.moveTo(l*xo(p),l*Mo(p)),u.arc(0,0,l,p,f,m));else{var _,g,v=f,y=p,b=f,x=p,w=d,k=d,M=s.apply(this,arguments)/2,S=M>Ao&&(i?+i.apply(this,arguments):So(l*l+h*h)),A=ko(yo(h-l)/2,+r.apply(this,arguments)),T=A,E=A;if(S>Ao){var C=br(S/l*Mo(M)),O=br(S/h*Mo(M));(w-=2*C)>Ao?(b+=C*=m?1:-1,x-=C):(w=0,b=x=(f+p)/2),(k-=2*O)>Ao?(v+=O*=m?1:-1,y-=O):(k=0,v=y=(f+p)/2)}var P=h*xo(v),j=h*Mo(v),N=l*xo(x),I=l*Mo(x);if(A>Ao){var R,D=h*xo(y),L=h*Mo(y),q=l*xo(b),V=l*Mo(b);if(d<To&&(R=function(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,h=s-o,f=h*u-l*c;if(!(f*f<Ao))return[t+(f=(l*(e-o)-h*(t-i))/f)*u,e+f*c]}(P,j,q,V,D,L,N,I))){var z=P-R[0],U=j-R[1],F=D-R[0],B=L-R[1],H=1/Mo(function(t){return t>1?0:t<-1?To:Math.acos(t)}((z*F+U*B)/(So(z*z+U*U)*So(F*F+B*B)))/2),W=So(R[0]*R[0]+R[1]*R[1]);T=ko(A,(l-W)/(H-1)),E=ko(A,(h-W)/(H+1))}}k>Ao?E>Ao?(_=Ar(q,V,P,j,h,E,m),g=Ar(D,L,N,I,h,E,m),u.moveTo(_.cx+_.x01,_.cy+_.y01),E<A?u.arc(_.cx,_.cy,E,bo(_.y01,_.x01),bo(g.y01,g.x01),!m):(u.arc(_.cx,_.cy,E,bo(_.y01,_.x01),bo(_.y11,_.x11),!m),u.arc(0,0,h,bo(_.cy+_.y11,_.cx+_.x11),bo(g.cy+g.y11,g.cx+g.x11),!m),u.arc(g.cx,g.cy,E,bo(g.y11,g.x11),bo(g.y01,g.x01),!m))):(u.moveTo(P,j),u.arc(0,0,h,v,y,!m)):u.moveTo(P,j),l>Ao&&w>Ao?T>Ao?(_=Ar(N,I,D,L,l,-T,m),g=Ar(P,j,q,V,l,-T,m),u.lineTo(_.cx+_.x01,_.cy+_.y01),T<A?u.arc(_.cx,_.cy,T,bo(_.y01,_.x01),bo(g.y01,g.x01),!m):(u.arc(_.cx,_.cy,T,bo(_.y01,_.x01),bo(_.y11,_.x11),!m),u.arc(0,0,l,bo(_.cy+_.y11,_.cx+_.x11),bo(g.cy+g.y11,g.cx+g.x11),m),u.arc(g.cx,g.cy,T,bo(g.y11,g.x11),bo(g.y01,g.x01),!m))):u.arc(0,0,l,x,b,m):u.lineTo(N,I)}else u.moveTo(0,0);if(u.closePath(),t)return u=null,t+""||null}var e=xr,n=wr,r=je(0),i=null,o=kr,a=Mr,s=Sr,u=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-To/2;return[xo(r)*t,Mo(r)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:je(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:je(+e),t):n},t.cornerRadius=function(e){return arguments.length?(r="function"==typeof e?e:je(+e),t):r},t.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:je(+e),t):i},t.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:je(+e),t):o},t.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:je(+e),t):a},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:je(+e),t):s},t.context=function(e){return arguments.length?(u=null==e?null:e,t):u},t}().innerRadius(this.radius-3).outerRadius(this.radius).startAngle(((e,n)=>t*n)).endAngle(((e,n)=>t*(n+1)));this.svg.selectAll(".dimensions").data(this.dimensions).enter().append("path").attr("class","dimension").attr("id",(function(t,e){return"dimensionArc_"+e})).attr("d",n).attr("stroke","gray").attr("fill","gray"),this.svg.selectAll(".dimText").data(this.dimensions).enter().append("text").attr("class","dimext").attr("x",100).attr("dy",-5).append("textPath").attr("xlink:href",(function(t,e){return"#dimensionArc_"+e})).text((function(t){return t})),this.svg.selectAll(".dimension").attr("stroke","black").attr("marker-end","url(#arrow)").attr("fill","none")}setRadius(t){this.radius=t}}class Po extends Ii{constructor(t){super(t),this.orientations=Wn(this.dimensions.length).map((()=>360*Math.random()))}draw(){const t=this.width/this.dimensions.length,e=t/2;var n={};kn(this.data[0]).filter((e=>e!=this.target&&(n[e]=Hn().domain(Xn(this.data,(function(t){return+t[e]}))).range([0,t])))),super.initBrush(n);const r=nr().extent([[0,-10],[t,10]]).on("start brush end",this.brushed),i=t=>t*Math.PI/180;let o={},a=this.width/2,s=this.height/2;this.axis=this.svg.append("g").selectAll("g").data(this.dimensions).join("g").attr("transform",((e,n)=>{let r=a,u=s,c=-this.orientations[n];return o[e]=[r,u],a+=t*Math.cos(i(c)),s+=t*Math.sin(i(c)),`translate(${r},${u}) rotate(${c})`})).each((function(t){lt(this).call(_r(n[t]).ticks([]).tickSize(0).offset(0))})).call(r).call((t=>t.append("text").attr("x",e).attr("y",-6).attr("text-anchor","start").attr("fill","currentColor").text((t=>t)))),this.svg.selectAll(".domain").attr("stroke","black").attr("marker-end","url(#arrow)").attr("fill","none"),this.items=this.svg.append("g").selectAll(".items").data(this.data).enter().append("path").attr("d",this.dynamic?t=>{let[e,r]=o[this.dimensions[0]],a=[[e,r]];return this.dimensions.forEach(((o,s)=>{let u=-this.orientations[s],c=n[o](t[o]),l=e+Math.cos(i(u))*c,h=r+Math.sin(i(u))*c;e=l,r=h,a.push([l,h])})),Le()(a)}:t=>{let e=this.dimensions.map(((e,r)=>{let a=-this.orientations[r],s=o[e][0],u=o[e][1],c=n[e](t[e]);return[s+Math.cos(i(a))*c,u+Math.sin(i(a))*c]}));return Le()(e)}).attr("stroke",(t=>this.colorScale(t[this.target]))).attr("fill","none").attr("stroke-width",1).attr("stroke-opacity",1)}setOrientations(t){this.orientations=t}}class jo extends Ii{constructor(t){super(t)}draw(){const t=this.height-50,e=(new Map,Cr().domain(Wn(this.dimensions.length)).range([120,60]).padding(1)),n=Wn(this.dimensions.length).map((t=>e(t)));var r={};kn(this.data[0]).filter((e=>e!=this.target&&(r[e]=Hn().domain(Xn(this.data,(function(t){return+t[e]}))).range([0,t]))));const i=Cr().range([100,this.width-100]).padding(1).domain(this.dimensions);this.svg.selectAll(".labels").data(this.dimensions).enter().append("text").text((t=>t)).attr("x",(t=>i(t))).attr("y",this.height+5).attr("text-anchor","middle").style("font-size",12),super.initBrush(r);const o=nr().extent([[0,-15],[t,15]]).on("start brush end",this.brushed),a=t=>t*Math.PI/180;this.items=this.svg.append("g").selectAll(".items").data(this.data).enter().append("path").attr("d",this.dynamic?t=>{let e=i(this.dimensions[0]),o=this.height-20,s=[[e,o]];return this.dimensions.forEach(((i,u)=>{let c=-n[u],l=r[i](t[i]),h=e+Math.cos(a(c))*l,f=o+Math.sin(a(c))*l;e=h,o=f,s.push([h,f])})),Le()(s)}:t=>{let e=this.dimensions.map(((e,o)=>{let s=-n[o],u=i(e),c=this.height-20,l=r[e](t[e]);return[u+Math.cos(a(s))*l,c+Math.sin(a(s))*l]}));return Le()(e)}).attr("stroke",(t=>this.colorScale(t[this.target]))).attr("fill","none").attr("stroke-width",1).attr("stroke-opacity",1),this.axis=this.svg.append("g").selectAll("g").data(this.dimensions).join("g").attr("transform",((t,e)=>`translate(${i(t)},${this.height-20}) rotate(${-n[e]})`)).each((function(t){lt(this).call(_r(r[t]).ticks([]).tickSize(0))})).call(o),this.svg.selectAll(".domain").attr("stroke","black").attr("marker-end","url(#arrow)").attr("fill","none")}}class No extends Ii{constructor(t){super(t),this.orientations=Wn(this.dimensions.length).map((()=>360*Math.random())),this.pcp=!1}draw(){const t=this.width/this.dimensions.length,e=this.pcp?(this.height-30)/2:t/2;var n={};kn(this.data[0]).filter((t=>t!=this.target&&(n[t]=Hn().domain(Xn(this.data,(function(e){return+e[t]}))).range([-e,e]))));var r={};kn(this.data[0]).filter((e=>e!=this.target&&(r[e]=Hn().domain(Xn(this.data,(function(t){return+t[e]}))).range([0,this.pcp?this.height-30:t])))),this.svg.selectAll(".labels").data(this.dimensions).enter().append("text").text((t=>t)).attr("x",((n,r)=>r*t+e)).attr("y",10).attr("text-anchor","middle").style("font-size",12),super.initBrush(n);const i=nr().extent([[-e,-10],[e,10]]).on("start brush end",this.brushed),o=t=>t*Math.PI/180;this.items=this.svg.append("g").selectAll(".items").data(this.data).enter().append("path").attr("d",this.dynamic?t=>{let i=-this.orientations[0],a=n[this.dimensions[0]](n[this.dimensions[0]].domain()[0]),s=e+Math.cos(o(i))*a,u=this.height/2+Math.sin(o(i))*a,c=[[s,u]];return this.dimensions.forEach(((e,n)=>{let i=-this.orientations[n],a=r[e](t[e]),l=s+Math.cos(o(i))*a,h=u+Math.sin(o(i))*a;s=l,u=h,c.push([l,h])})),Le()(c)}:r=>{let i=this.dimensions.map(((i,a)=>{let s=-this.orientations[a],u=a*t+e,c=this.height/2,l=n[i](r[i]);return[u+Math.cos(o(s))*l,c+Math.sin(o(s))*l]}));return Le()(i)}).attr("stroke",(t=>this.colorScale(t[this.target]))).attr("fill","none").attr("stroke-width",1).attr("stroke-opacity",1),this.axis=this.svg.append("g").selectAll("g").data(this.dimensions).join("g").attr("transform",((n,r)=>`translate(${r*t+e},${this.height/2}) rotate(${-this.orientations[r]})`)).each((function(t){lt(this).call(_r(n[t]).ticks([]).tickSize(0).offset(0))})).call(i),this.svg.selectAll(".domain").attr("stroke","black").attr("marker-end","url(#arrow)").attr("fill","none")}setOrientations(t){this.orientations=t}setPCP(t){this.pcp=t}}class Io extends Ii{constructor(t){super(t)}draw(){let t=[];for(let e=0;e<this.dimensions.length;e+=2)t.push(this.dimensions.slice(e,e+2));const e=Hn().domain([0,1]).range([0,this.width]),n=Hn().domain([0,1]).range([this.height,0]);var r={};kn(this.data[0]).filter((t=>t!=this.target&&(r[t]=Hn().domain(Xn(this.data,(e=>+e[t]))).range([0,1])))),this.items=this.svg.append("g").selectAll(".items").data(this.data).enter().append("path").attr("d",(function(i){let o=t.map((t=>{let o=r[t[0]](i[t[0]]),a=r[t[1]](i[t[1]]);return[e(o),n(a)]}));return Le()(o)})).attr("fill","none").attr("stroke-width",1).attr("stroke-opacity",1),this.axis=this.svg.append("g").selectAll(".axis").data([e,n]).join("g").attr("transform",((t,e)=>`translate(0,${0==e?this.height:0})`)).each((function(t,e){0==e?lt(this).call(_r(t).ticks([]).tickSize(0)):lt(this).call(gr(t).ticks([]).tickSize(0))})),this.svg.selectAll(".domain").attr("stroke","black").attr("marker-end","url(#arrow)").attr("fill","none")}}class Ro extends Ii{constructor(t){super(t)}draw(){let t=[];for(let e=0;e<this.dimensions.length;e+=2)t.push(this.dimensions.slice(e,e+2));const e=Hn().domain([0,t.length]).range([0,this.width]),n=Hn().domain([0,t.length]).range([this.height,0]);var r={};kn(this.data[0]).filter((t=>t!=this.target&&(r[t]=Hn().domain(Xn(this.data,(e=>+e[t]))).range([0,1])))),this.items=this.svg.append("g").selectAll(".items").data(this.data).enter().append("path").attr("d",(function(i){let o=t.map(((t,o)=>{let a=r[t[0]](i[t[0]])+o,s=r[t[1]](i[t[1]])+o;return[e(a),n(s)]}));return Le()(o)})).attr("fill","none").attr("stroke-width",1).attr("stroke-opacity",1),this.axis=this.svg.append("g").selectAll(".axis").data([e,n]).join("g").attr("transform",((t,e)=>`translate(0,${0==e?this.height:0})`)).each((function(t,e){0==e?lt(this).call(_r(t).ticks([]).tickSize(0)):lt(this).call(gr(t).ticks([]).tickSize(0))})),this.svg.selectAll(".domain").attr("stroke","black").attr("marker-end","url(#arrow)").attr("fill","none")}}class Do extends Ii{constructor(t){super(t),this.anchor=[.2,.4]}draw(){let t=[];for(let e=0;e<this.dimensions.length;e+=2)t.push(this.dimensions.slice(e,e+2));const e=Hn().domain([0,this.anchor[0]+1]).range([0,this.width]),n=Hn().domain([0,this.anchor[1]+1]).range([this.height,0]);var r={};kn(this.data[0]).filter((t=>t!=this.target&&(r[t]=Hn().domain(Xn(this.data,(e=>+e[t]))).range([0,1])))),this.items=this.svg.append("g").selectAll(".items").data(this.data).enter().append("path").attr("d",(i=>{let o=t.map((t=>{let o=r[t[0]](i[t[0]])+this.anchor[0],a=r[t[1]](i[t[1]])+this.anchor[1];return[[e(this.anchor[0]),n(this.anchor[1])],[e(o),n(a)]]}));return Le()(o.flat())})).attr("fill","none").attr("stroke-width",1).attr("stroke-opacity",.5),this.axis=this.svg.append("g").selectAll(".axis").data([e,n]).join("g").attr("transform",((t,e)=>`translate(0,${0==e?this.height:0})`)).each((function(t,e){0==e?lt(this).call(_r(t).ticks([]).tickSize(0)):lt(this).call(gr(t).ticks([]).tickSize(0))})),this.svg.selectAll(".domain").attr("stroke","black").attr("marker-end","url(#arrow)").attr("fill","none")}setAnchor(t,e){this.anchor=[t,e]}}class Lo extends Ii{constructor(t){super(t),this.curve=or,this.radius=200}draw(){const t=360/(this.dimensions.length/2),e=Wn(this.dimensions.length/2).map(((e,n)=>n*t));var n={};this.dimensions.forEach((t=>{var[e,r]=Xn(this.data,(e=>+e[t]));n[t]=function(t){return(t-e)/(r-e)}}));var r={};this.dimensions.forEach((t=>{r[t]=Hn().domain([0,1]).range([0,this.radius])}));const i=t=>t*Math.PI/180;this.items=this.svg.append("g").selectAll(".items").data(this.data).enter().append("path").attr("d",(t=>{let o=[];for(let a=0,s=0;s<e.length;a+=2,s++){let u=this.width/2,c=this.height/2,l=e[s],h=this.dimensions[a],f=n[h](t[h]),p=r[h](f);u+=Math.cos(i(l))*p,c+=Math.sin(i(l))*p,l=e[s==e.length-1?0:s+1],h=this.dimensions[a+1],p=r[h](n[h](t[h]));let d=u+Math.cos(i(l))*p,m=c+Math.sin(i(l))*p;o.push([d,m])}return Le().curve(this.curve)(o)})).attr("stroke",(t=>this.colorScale(t[this.target]))).attr("fill","none").attr("stroke-width",1).attr("stroke-opacity",1),this.axis=this.svg.append("g").selectAll(".axis").data(vr(this.dimensions.slice(-1).concat(this.dimensions.slice(0,-1))).filter(((t,e)=>e%2==0))).join("g").attr("transform",((t,n)=>`translate(${this.width/2},${this.height/2}) rotate(${e[n]})`)).each((function(t){lt(this).call(_r(r[t[0]]).ticks([]).tickSize(0))})).call((t=>t.append("text").attr("x",this.radius+10).attr("y",-6).attr("text-anchor","start").attr("fill","currentColor").text((t=>t[0])))).call((t=>t.append("text").attr("x",this.radius+10).attr("y",12).attr("text-anchor","start").attr("fill","currentColor").text((t=>t[1])))),this.svg.selectAll(".domain").attr("stroke","black").attr("marker-end","url(#arrow)").attr("fill","none"),this.svg.append("circle").attr("cx",this.width/2).attr("cy",this.height/2).attr("r",1).attr("fill","black")}setCurve(t){this.curve="CURVE"==t?po:or}setRadius(t){this.radius=t}}class qo extends Ii{constructor(t){super(t),this.rx=300,this.ry=200}draw(){const t=this.dimensions.length,e=2*Math.PI/t,n=this.width/2,r=this.height/2;var i=[],o={};this.dimensions.forEach((t=>{var[e,n]=Xn(this.data,(e=>+e[t]));o[t]=function(t){return(t-e)/(n-e)}}));var a={};this.dimensions.forEach(((t,n)=>{a[t]=Hn().domain([0,1]).range([3*Math.PI/2+n*e,3*Math.PI/2+n*e+e-.01])}));const s=(e,n)=>{let r=Math.pow(this.ry,2),o=Math.pow(this.rx,2),a=-(Math.pow(i[e][1],2)-Math.pow(i[n][1],2))/(2*(-i[e][1]+i[n][1])),s=i[e][0];return t/2%2==0?e<t/2?s-=Math.sqrt(o-o*Math.pow(a-i[e][1],2)/r):s+=Math.sqrt(o-o*Math.pow(a-i[e][1],2)/r):e<t/2-1?s-=Math.sqrt(o-o*Math.pow(a-i[e][1],2)/r):e==t/2-1?(s=-(Math.pow(i[e][0],2)-Math.pow(i[n][0],2))/(2*(-i[e][0]+i[n][0])),a=i[e][1],a-=Math.sqrt(r-r*Math.pow(s-i[e][0],2)/o)):s+=Math.sqrt(o-o*Math.pow(a-i[e][1],2)/r),[s,a]},u=(t,e,o)=>{let a=Math.round(e[t][0]),s=Math.round(e[t][1]),u=0,c=0,l=0,h=0,f=0,p=0,d="",m=Math.pow(this.ry,2),_=Math.pow(this.rx,2);"Left"==o&&(u=n-this.rx,c=0,l=a-u,h=Math.pow(l,2),t%2==1?(d="red",c=s+Math.sqrt((1-h/_)*m)):(d="blue",c=s-Math.sqrt((1-h/_)*m))),"Right"==o&&(u=n+this.rx,c=0,l=a-u,h=Math.pow(l,2),t%2==1?(d="red",c=s-Math.sqrt((1-h/_)*m)):(d="blue",c=s+Math.sqrt((1-h/_)*m))),"Down"==o&&(c=r+this.ry,u=0,f=s-c,p=Math.pow(f,2),t%2==0?(d="red",u=a-Math.sqrt((1-p/m)*_)):(d="blue",u=a+Math.sqrt((1-p/m)*_))),i[t]=[u,c]};this.items=this.svg.append("g").selectAll(".items").data(this.data).enter().append("path").attr("d",(e=>{let i=[],c=[];if(this.dimensions.forEach((t=>{let s=a[t](o[t](e[t])),u=n+Math.cos(s)*this.rx,c=r+Math.sin(s)*this.ry;i.push([u,c]),this.svg.append("circle").attr("cx",u).attr("cy",c).attr("r",1).attr("stroke","purple").attr("fill","purple").attr("id",t)})),t/2%2==0){for(let e=0;e<t/2;e++)u(e,i,"Right");for(let e=t/2;e<t;e++)u(e,i,"Left")}else{for(let e=0;e<t/2-1;e++)u(e,i,"Right");for(let e=t/2-1;e<t/2+1;e++)u(e,i,"Down");for(let e=t/2+1;e<t;e++)u(e,i,"Left")}for(let e=0;e<t;e+=2)c.push(s(e,e+1));return Le()(c)})).attr("stroke",(t=>this.colorScale(t[this.target]))).attr("fill","none").attr("stroke-width",1).attr("stroke-opacity",1),this.svg.append("ellipse").attr("cx",n).attr("cy",r).attr("rx",this.rx).attr("ry",this.ry).attr("stroke","black").attr("fill","none"),this.svg.selectAll(".dimensions").data(this.dimensions).enter().append("line").attr("x1",n).attr("y1",r).attr("x2",((t,r)=>n+Math.cos(3*Math.PI/2+r*e)*this.rx)).attr("y2",((t,n)=>r+Math.sin(3*Math.PI/2+n*e)*this.ry)).attr("stroke","black").style("stroke-dasharray","3, 3").style("stroke-width",.3),this.svg.append("line").attr("x1",n).attr("y1",r-(this.ry+20)).attr("x2",n).attr("y2",r+(this.ry+20)).attr("stroke","purple").style("stroke-dasharray","3, 3")}}class Vo extends Ii{constructor(t){super(t),this.radius=200}draw(){const t=this.dimensions.length,e=this.width/2,n=this.height/2;var r={};this.dimensions.forEach((t=>{var[e,n]=Xn(this.data,(e=>+e[t]));r[t]=function(t){return(t-e)/(n-e)}}));var i=Hn().domain([0,1]).range([0,2*Math.PI]);this.items=this.svg.append("g").selectAll(".items").data(this.data).enter().append("path").attr("d",(o=>{var a=[];let s=0,u=0,c=0;this.dimensions.forEach((t=>{o[t]=r[t](o[t])}));let l=vr(this.dimensions).filter(((t,e)=>e%2==0));l=l.sort((function(t,e){return+o[t]>+o[e]?1:+o[t]<+o[e]?-1:0})),l=l.flat();for(let r=0;r<t;r++){let t=o[l[r]];r%2==0?(c=i(t),s=e+this.radius*Math.cos(c),u=n+this.radius*Math.sin(c)):(s=e+(this.radius+50*t)*Math.cos(c),u=n+(this.radius+50*t)*Math.sin(c),a.push([s,u]))}return Le()(a)})).attr("stroke",(t=>this.colorScale(t[this.target]))).attr("fill","none").attr("stroke-width",1).attr("stroke-opacity",1),this.svg.append("circle").attr("cx",e).attr("cy",n).attr("r",this.radius).attr("stroke","black").attr("fill","none")}}const zo=t=>{switch(console.log(t.type),t.type){case"radial":return new go(t);case"inline":return new vo(t);case"circular":return new Oo(t);case"seq-generic":return new Po(t);case"polygon":let e=360/t.dimensions.length,n=t.dimensions.map(((t,n)=>n*e)),r=new Po(t);return r.setOrientations(n),r;case"bush":return new jo(t);case"nseq-generic":return new No(t);case"parallel":let i=new No(t);return i.setOrientations(t.dimensions.map((()=>90))),i.setPCP(!0),i;case"cpc":return new Io(t);case"spc":return new Ro(t);case"apc":return new Do(t);case"prc":return new Lo(t);case"epc":return new qo(t);case"pwc":return new Vo(t);default:console.log("Chart not supported")}}})(),__webpack_exports__})()},module.exports=n()},hosL:function(t,e,n){"use strict";function r(t,e){for(var n in e)t[n]=e[n];return t}function i(t){var e=t.parentNode;e&&e.removeChild(t)}function o(t,e,n){var r,i,o,s={};for(o in e)"key"==o?r=e[o]:"ref"==o?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?N.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===s[o]&&(s[o]=t.defaultProps[o]);return a(t,s,r,i,null)}function a(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++R:i};return null==i&&null!=I.vnode&&I.vnode(o),o}function s(){return{current:null}}function u(t){return t.children}function c(t,e){this.props=t,this.context=e}function l(t,e){if(null==e)return t.__?l(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?l(t):null}function h(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return h(t)}}function f(t){(!t.__d&&(t.__d=!0)&&L.push(t)&&!p.__r++||q!==I.debounceRendering)&&((q=I.debounceRendering)||V)(p)}function p(){var t,e,n,i,o,a,s,u;for(L.sort(z);t=L.shift();)t.__d&&(e=L.length,i=void 0,o=void 0,s=(a=(n=t).__v).__e,(u=n.__P)&&(i=[],(o=r({},a)).__v=a.__v+1,k(u,a,o,n.__n,void 0!==u.ownerSVGElement,null!=a.__h?[s]:null,i,null==s?l(a):s,a.__h),M(i,a),a.__e!=s&&h(a)),L.length>e&&L.sort(z));p.__r=0}function d(t,e,n,r,i,o,s,c,h,f){var p,d,_,y,b,x,w,M=r&&r.__k||B,S=M.length;for(n.__k=[],p=0;p<e.length;p++)if(null!=(y=n.__k[p]=null==(y=e[p])||"boolean"==typeof y||"function"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?a(null,y,null,null,y):Array.isArray(y)?a(u,{children:y},null,null,null):y.__b>0?a(y.type,y.props,y.key,y.ref?y.ref:null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(_=M[p])||_&&y.key==_.key&&y.type===_.type)M[p]=void 0;else for(d=0;d<S;d++){if((_=M[d])&&y.key==_.key&&y.type===_.type){M[d]=void 0;break}_=null}k(t,y,_=_||F,i,o,s,c,h,f),b=y.__e,(d=y.ref)&&_.ref!=d&&(w||(w=[]),_.ref&&w.push(_.ref,null,y),w.push(d,y.__c||b,y)),null!=b?(null==x&&(x=b),"function"==typeof y.type&&y.__k===_.__k?y.__d=h=m(y,h,t):h=g(t,y,_,M,b,h),"function"==typeof n.type&&(n.__d=h)):h&&_.__e==h&&h.parentNode!=t&&(h=l(_))}for(n.__e=x,p=S;p--;)null!=M[p]&&("function"==typeof n.type&&null!=M[p].__e&&M[p].__e==n.__d&&(n.__d=v(r).nextSibling),T(M[p],M[p]));if(w)for(p=0;p<w.length;p++)A(w[p],w[++p],w[++p])}function m(t,e,n){for(var r,i=t.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=t,e="function"==typeof r.type?m(r,e,n):g(n,r,r,i,r.__e,e));return e}function _(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){_(t,e)})):e.push(t)),e}function g(t,e,n,r,i,o){var a,s,u;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==n||i!=o||null==i.parentNode)t:if(null==o||o.parentNode!==t)t.appendChild(i),a=null;else{for(s=o,u=0;(s=s.nextSibling)&&u<r.length;u+=1)if(s==i)break t;t.insertBefore(i,o),a=o}return void 0!==a?a:i.nextSibling}function v(t){var e,n,r;if(null==t.type||"string"==typeof t.type)return t.__e;if(t.__k)for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=v(n)))return r;return null}function y(t,e,n){"-"===e[0]?t.setProperty(e,null==n?"":n):t[e]=null==n?"":"number"!=typeof n||H.test(e)?n:n+"px"}function b(t,e,n,r,i){var o;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||y(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||y(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?w:x,o):t.removeEventListener(e,o?w:x,o);else if("dangerouslySetInnerHTML"!==e){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==e&&"height"!==e&&"href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&"-"!==e[4]?t.removeAttribute(e):t.setAttribute(e,n))}}function x(t){return this.l[t.type+!1](I.event?I.event(t):t)}function w(t){return this.l[t.type+!0](I.event?I.event(t):t)}function k(t,e,n,i,o,a,s,l,h){var f,p,m,_,g,v,y,b,x,w,k,M,A,T,C,O=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(h=n.__h,l=e.__e=n.__e,e.__h=null,a=[l]),(f=I.__b)&&f(e);try{t:if("function"==typeof O){if(b=e.props,x=(f=O.contextType)&&i[f.__c],w=f?x?x.props.value:f.__:i,n.__c?y=(p=e.__c=n.__c).__=p.__E:("prototype"in O&&O.prototype.render?e.__c=p=new O(b,w):(e.__c=p=new c(b,w),p.constructor=O,p.render=E),x&&x.sub(p),p.props=b,p.state||(p.state={}),p.context=w,p.__n=i,m=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=O.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=r({},p.__s)),r(p.__s,O.getDerivedStateFromProps(b,p.__s))),_=p.props,g=p.state,p.__v=e,m)null==O.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==O.getDerivedStateFromProps&&b!==_&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(b,w),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(b,p.__s,w)||e.__v===n.__v){for(e.__v!==n.__v&&(p.props=b,p.state=p.__s,p.__d=!1),p.__e=!1,e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),k=0;k<p._sb.length;k++)p.__h.push(p._sb[k]);p._sb=[],p.__h.length&&s.push(p);break t}null!=p.componentWillUpdate&&p.componentWillUpdate(b,p.__s,w),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(_,g,v)}))}if(p.context=w,p.props=b,p.__P=t,M=I.__r,A=0,"prototype"in O&&O.prototype.render){for(p.state=p.__s,p.__d=!1,M&&M(e),f=p.render(p.props,p.state,p.context),T=0;T<p._sb.length;T++)p.__h.push(p._sb[T]);p._sb=[]}else do{p.__d=!1,M&&M(e),f=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++A<25);p.state=p.__s,null!=p.getChildContext&&(i=r(r({},i),p.getChildContext())),m||null==p.getSnapshotBeforeUpdate||(v=p.getSnapshotBeforeUpdate(_,g)),C=null!=f&&f.type===u&&null==f.key?f.props.children:f,d(t,Array.isArray(C)?C:[C],e,n,i,o,a,s,l,h),p.base=e.__e,e.__h=null,p.__h.length&&s.push(p),y&&(p.__E=p.__=null),p.__e=!1}else null==a&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=S(n.__e,e,n,i,o,a,s,h);(f=I.diffed)&&f(e)}catch(t){e.__v=null,(h||null!=a)&&(e.__e=l,e.__h=!!h,a[a.indexOf(l)]=null),I.__e(t,e,n)}}function M(t,e){I.__c&&I.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){I.__e(t,e.__v)}}))}function S(t,e,n,r,o,a,s,u){var c,h,f,p=n.props,m=e.props,_=e.type,g=0;if("svg"===_&&(o=!0),null!=a)for(;g<a.length;g++)if((c=a[g])&&"setAttribute"in c==!!_&&(_?c.localName===_:3===c.nodeType)){t=c,a[g]=null;break}if(null==t){if(null===_)return document.createTextNode(m);t=o?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,m.is&&m),a=null,u=!1}if(null===_)p===m||u&&t.data===m||(t.data=m);else{if(a=a&&N.call(t.childNodes),h=(p=n.props||F).dangerouslySetInnerHTML,f=m.dangerouslySetInnerHTML,!u){if(null!=a)for(p={},g=0;g<t.attributes.length;g++)p[t.attributes[g].name]=t.attributes[g].value;(f||h)&&(f&&(h&&f.__html==h.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(function(t,e,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in e||b(t,o,null,n[o],r);for(o in e)i&&"function"!=typeof e[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===e[o]||b(t,o,e[o],n[o],r)}(t,m,p,o,u),f)e.__k=[];else if(g=e.props.children,d(t,Array.isArray(g)?g:[g],e,n,r,o&&"foreignObject"!==_,a,s,a?a[0]:n.__k&&l(n,0),u),null!=a)for(g=a.length;g--;)null!=a[g]&&i(a[g]);u||("value"in m&&void 0!==(g=m.value)&&(g!==t.value||"progress"===_&&!g||"option"===_&&g!==p.value)&&b(t,"value",g,p.value,!1),"checked"in m&&void 0!==(g=m.checked)&&g!==t.checked&&b(t,"checked",g,p.checked,!1))}return t}function A(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){I.__e(t,n)}}function T(t,e,n){var r,o;if(I.unmount&&I.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||A(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){I.__e(t,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&T(r[o],e,n||"function"!=typeof t.type);n||null==t.__e||i(t.__e),t.__=t.__e=t.__d=void 0}function E(t,e,n){return this.constructor(t,n)}function C(t,e,n){var r,i,a;I.__&&I.__(t,e),i=(r="function"==typeof n)?null:n&&n.__k||e.__k,a=[],k(e,t=(!r&&n||e).__k=o(u,null,[t]),i||F,F,void 0!==e.ownerSVGElement,!r&&n?[n]:i?null:e.firstChild?N.call(e.childNodes):null,a,!r&&n?n:i?i.__e:e.firstChild,r),M(a,t)}function O(t,e){C(t,e,O)}function P(t,e,n){var i,o,s,u=r({},t.props);for(s in e)"key"==s?i=e[s]:"ref"==s?o=e[s]:u[s]=e[s];return arguments.length>2&&(u.children=arguments.length>3?N.call(arguments,2):n),a(t.type,u,i||t.key,o||t.ref,null)}function j(t,e){var n={__c:e="__cC"+U++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some((function(t){t.__e=!0,f(t)}))},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}n.r(e),n.d(e,"Component",(function(){return c})),n.d(e,"Fragment",(function(){return u})),n.d(e,"cloneElement",(function(){return P})),n.d(e,"createContext",(function(){return j})),n.d(e,"createElement",(function(){return o})),n.d(e,"createRef",(function(){return s})),n.d(e,"h",(function(){return o})),n.d(e,"hydrate",(function(){return O})),n.d(e,"isValidElement",(function(){return D})),n.d(e,"options",(function(){return I})),n.d(e,"render",(function(){return C})),n.d(e,"toChildArray",(function(){return _}));var N,I,R,D,L,q,V,z,U,F={},B=[],H=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;N=B.slice,I={__e:function(t,e,n,r){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(e){t=e}throw t}},R=0,D=function(t){return null!=t&&void 0===t.constructor},c.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=r({},this.state),"function"==typeof t&&(t=t(r({},n),this.props)),t&&r(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),f(this))},c.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),f(this))},c.prototype.render=u,L=[],V="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z=function(t,e){return t.__v.__b-e.__v.__b},p.__r=0,U=0},yMTT:function(t,e,n){"use strict";(function(t){function r(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n("+qBS");var i=n("hosL"),o=n("9+mG"),a=n("Wltn"),s=n("AcDh"),u=n("e/Si");const c=Object(o.c)((()=>t("div",{className:"icon"}))),l=Object(o.b)((({value:e})=>t("div",{className:"Showcase__style__stylizedItem Showcase__style__item"},t(c,null),e))),h=Object(o.a)((({children:e})=>t("div",null,e)));e.a=class extends i.Component{constructor(t){super(t),r(this,"changeSelect",(t=>{this.setState({ordering:t.target.value})})),r(this,"toggleColorize",(()=>{let t=!this.state.colorize;this.setState({colorize:t}),this.chart.colorize(t),this.props.dualview&&this.chart2.colorize(t)})),r(this,"toggleDynamic",(()=>{this.setState({dynamic:!this.state.dynamic})})),r(this,"onSortEnd",(({oldIndex:t,newIndex:e})=>{this.setState((({dimensions:n,angles:r})=>({dimensions:Object(a.a)(n,t,e),angles:Object(a.a)(r,t,e)})))})),r(this,"onLoad",(()=>{let t=new FileReader,e=document.querySelector("input[type=file]").files[0];t.addEventListener("load",(()=>{let e=!1,n=Object(s.a)(t.result,(function(t){return e=t.hasOwnProperty("someColumn"),t}));this.setState({data:n,dimensions:n.columns.slice(0,-1),target:n.columns.slice(-1)})}),!1),e&&t.readAsText(e)})),r(this,"onAngleChange",(t=>{let e=this.state.angles;e[t.target.name]=t.target.value,this.setState({angles:e})})),r(this,"hdlOpacity",(t=>{this.setState({opacity:t.target.value}),this.chart.setOpacity(t.target.value),this.props.dualview&&this.chart2.setOpacity(t.target.value)})),r(this,"hdlInfo",(()=>{alert("The dataset input requieres a CSV file where the last column is the target value (categorical data type).")})),r(this,"hdlDonwload",(()=>{let t=document.getElementById("svg1"),e=document.getElementById("svg2");this.saveSVG(t,"view1.svg"),null!==e&&this.saveSVG(e,"view2.svg")})),r(this,"redrawing",(()=>{let t=document.getElementById("plot");if(t.firstChild&&t.removeChild(t.firstChild),this.chart=u.newChart({data:this.state.data,width:1450,height:400,selector:"#plot",type:this.props.layout,dimensions:this.state.dimensions,target:this.state.target,dynamic:this.state.dynamic,ordering:this.state.ordering,number:1}),this.setState({dimensions:this.chart.dimensions}),this.props.dualview&&(t=document.getElementById("plot2"),t.firstChild&&t.removeChild(t.firstChild),this.chart2=u.newChart({data:this.state.data,width:1450,height:400,selector:"#plot2",type:this.props.layout2,dimensions:this.state.dimensions,target:this.state.target,dynamic:this.state.dynamic,ordering:this.state.ordering,number:2})),["seq-generic","nseq-generic"].includes(this.props.layout))if(0===this.state.angles.length){let t=Array.from({length:this.state.dimensions.length},(()=>Math.floor(360*Math.random())));this.setState({angles:t}),this.chart.setOrientations(t)}else this.chart.setOrientations(this.state.angles);this.chart.draw(),this.chart.colorize(this.state.colorize),this.chart.setOpacity(this.state.opacity),this.props.dualview&&(this.chart2.draw(),this.chart2.colorize(this.state.colorize),this.chart2.setOpacity(this.state.opacity),this.chart.setDualView(this.chart2))})),this.state={data:[],dimensions:[],target:null,angles:[],colorize:!0,dynamic:!1,dualview:!1,opacity:1,ordering:"0"},this.chart=null,this.chart2=null,this.reordering_methods=[{label:"Default",value:"0"},{label:"Clutter-based",value:"1"},{label:"Contribution-based",value:"2"},{label:"Similarity-based by Artero et al.",value:"3"},{label:"Similarity-based by Lu et al.",value:"4"},{label:"Pattern Optimization Method",value:"5"},{label:"Similarity-Global",value:"6"},{label:"Dissimilarity-Global",value:"7"},{label:"Maximizing Variance of Neighboring Dimensions",value:"8"},{label:"Similarity-based Method(Min Variance)",value:"9"},{label:"Disimilarity-based Method based by Artero et al",value:"10"}]}saveSVG(t,e){t.setAttribute("xmlns","http://www.w3.org/2000/svg");var n=new Blob(['<?xml version="1.0" standalone="no"?>\r\n',t.outerHTML],{type:"image/svg+xml;charset=utf-8"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)}render(){var e=this.state.dimensions;return t("div",{className:"sidepanel"},t("div",{className:"subpanel"},"Dataset ",t("input",{type:"file",onChange:this.onLoad})," ",t("a",{class:"bi bi-info-circle-fill",onClick:this.hdlInfo}),t("br",null),t("br",null),t("strong",null,"Examples"),t("li",null,t("a",{href:"/assets/data/iris.csv"}," Iris Dataset")),t("li",null,t("a",{href:"/assets/data/cars.csv"}," Cars Dataset")," "),t("li",null,t("a",{href:"/assets/data/wine.csv"}," Wine Dataset")),t("br",null),t("br",null),t("select",{onChange:this.changeSelect},this.reordering_methods.map((e=>t("option",{value:e.value}," ",e.label," ")))),t("br",null),t("br",null),t(h,{onSortEnd:this.onSortEnd,useDragHandle:!0},e.map(((e,n)=>t(l,{key:`item-${e}`,index:n,value:e})))),t("br",null),["seq-generic","nseq-generic"].includes(this.props.layout)&&t("ul",null,"Angles",this.state.angles.map(((n,r)=>t("li",null," ",e[r]," ",t("input",{type:"number",value:Math.round(n),min:"0",max:"360",name:r,onChange:this.onAngleChange})," ")))),t("label",null,t("span",null," Opacity "),t("input",{type:"range",min:"0",max:"1",step:"0.01",onChange:this.hdlOpacity})),t("br",null),t("br",null),t("label",null,t("span",null," Colorize "),t("input",{type:"checkbox",id:"colorize",checked:this.state.colorize,onClick:this.toggleColorize})),t("br",null),t("br",null),t("label",null,t("span",null," Dynamic "),t("input",{type:"checkbox",id:"dynamic",checked:this.state.dynamic,onClick:this.toggleDynamic})),t("br",null),t("br",null),t("label",null,t("span",null," Dual View "),t("input",{type:"checkbox",id:"dualview",checked:this.props.dualview,onClick:this.props.hdldual})),t("br",null),t("br",null),t("label",null,t("span",null," Donwload "),t("a",{class:"bi bi-arrow-down-circle-fill",onClick:this.hdlDonwload})),t("br",null),t("br",null)),t("button",this.state.data.length?{onClick:this.redrawing,className:"btn"}:{onClick:this.redrawing,className:"btn",disabled:!0},"Draw"))}}}).call(this,n("hosL").h)}});
//# sourceMappingURL=bundle.cf7ad.esm.js.map